<?xml version="1.0" encoding="euc-kr"?>
<XUI>
	<FORM ID="KeyInfo" >
		<ATTR ALIGN_X="50" Y="91" W="593" H="238" CAN_DRAG="1"/>
		<ATTR IMG = "../Data/6_ui/01_main/key.tga" IMG_W = "1024" IMG_H = "256"/>	
		<BUTTON ID="Close">
			<ATTR X="563" Y="4" W="26" H="24" />
			<ATTR BTN_IMG="../Data/6_ui/01_main/popBclose.tga" BTN_IMG_W="64" BTN_IMG_H="64"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="1">UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>
	</FORM>

	<STATIC_FORM ID="DeadDlg">
		<ATTR ALIGN_X="50" Y="180" W="240" H="167" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="220" H="100" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="220" H="100" STATIC_NUM="3"/>
				<ATTR TEXT="3" FONT="Font_Text" T_X="110" T_Y="10" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>
		
		<FORM ID="SFRM_ANIBAR_BG">
			<ATTR X="7" Y="113" Z="1" W="221" H="15"/>
			<ATTR IMG="../Data/6_ui/common/cmEgBg.tga" IMG_W="221" IMG_H="15"/>
			<ANI_BAR ID="BAR_TIMER" X= "3" Y="1" Z="1" W="217" H="11">
				<ATTR BAR_COUNT = "1" BAR_TYPE = "1"/>
				<ATTR BAR_IMG="../Data/6_ui/mission/msRkTime.tga" BAR_IMG_W="217" BAR_IMG_H="11" U="1" V="1"/>
				<ATTR TEXT="" FONT="Font_Text"  FONT_COLOR_HEX="0xFFB00D0D" T_X="110" T_Y ="-25" T_CENTER="1"/>
				<SCRIPT ID="ON_DISPLAY">
					OnDisplay_DeadDlg_AniBar(UISelf)
				</SCRIPT>
				<SCRIPT ID="ON_BAR_FULL"></SCRIPT>
				<SCRIPT ID="ON_BAR_CLOSE"></SCRIPT>
				<SCRIPT ID="ON_CALL">UISelf:SetStartTime(1000 * 600)</SCRIPT>
			</ANI_BAR>
		</FORM>
		<BUTTON ID = "BTN_USE_COIN" X="27" Y="129" W="84" H="26">
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "Font_Text" T_X = "42" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_CALL">
				SetTextOnThisUI(80028, 2201)
			</SCRIPT>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
					CallMissionRebirthUI(true)
				end
			</SCRIPT>
			<HOTKEY ID="60">
				if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
					CallMissionRebirthUI(true)
				end
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_OK" X="128" Y="129" W="84" H="26">
			<ATTR TEXT="" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_CALL">
				SetTextOnThisUI(50601, 2202)
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnClick_DeadDlg_BtnOK() </SCRIPT>
			<HOTKEY ID="61"> OnClick_DeadDlg_BtnOK() </HOTKEY>

		</BUTTON>
		<SCRIPT ID="ON_CALL">
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			local fInterval = 600.0
			g_kRevivalTime = g_world:GetAccumTime() + fInterval
			local kScript = "OnClick_DeadDlg_BtnOK()"
			GetEventTimer():Add("EVENT_DEAD_COUNTDOWN", fInterval, kScript, 1, false)
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			GetEventTimer():Del("EVENT_DEAD_COUNTDOWN")
		</SCRIPT>
	</STATIC_FORM>
	
	<BUTTON ID="BTN_ALL_SHOW_UI" ALIGN_X="97" IS_ABSOLUTE_Y="1" Y="0" W="112" H="40" BTN_IMG="../Data/6_ui/main/mnLogo.tga" BTN_IMG_W="224" BTN_IMG_H="80" HIDE_OTHER="1">
		<SCRIPT ID="ON_MOUSE_OVER">CallToolTipText(0, GetTextW(656), GetUIWnd("Cursor"):GetLocation())</SCRIPT>
		<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		<SCRIPT ID="ON_L_BTN_DOWN">UISelf:Close()</SCRIPT>
		<HOTKEY ID="86">UISelf:Close()</HOTKEY>
	</BUTTON>
	<FORM ID="Option" ALIGN_X="50" ALIGN_Y="45" PRIORITY="99">
		<LOCAL>
			<NAME ID="TAIWAN">
				<ATTR W="142" H="288"/>
				<FORM ID="FRM_BG" X="0" Y="0" W="142" H="288" Z="-1">
					<FORM ID="FRM_T" X="0" Y="0" W="142" H="33" IMG="../Data/6_ui/main/mnMenuT.tga" IMG_W="142" IMG_H="33" TEXT="49000" T_X="14" T_Y="7" FONT="FTcts_16" FONT_COLOR_HEX="0xFFFFE55A" T_OUTLINE="1"/>
					<FORM ID="FRM_C" X="0" Y="33" W="142" H="243" IMG="../Data/6_ui/main/mnMenuM.tga" IMG_W="142" IMG_H="243"/>
					<FORM ID="FRM_B" X="0" Y="276" W="142" H="12" IMG="../Data/6_ui/main/mnMenuB.tga" IMG_W="142" IMG_H="12"/>
				</FORM>
				<BUTTON ID="BTN_CLOSE" X="111" Y="8" W="21" H="20" BTN_IMG="../Data/6_ui/main/mnEmotcX.tga" BTN_IMG_W="42" BTN_IMG_H="40">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu0" X="11" Y="36" W="120" H="25" U="1" V="4" TEXT="3000" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("FRM_HELP_MAIN")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu2" X="11" Y="63" W="120" H="25" U="1" V="4" TEXT="49002" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						if( CheckNil(g_world == nil) ) then return false end
						if( CheckNil(g_world:IsNil()) ) then return false end
						if g_world:IsHaveWorldAttr(GATTR_EXPEDITION_LOBBY) or
							g_world:IsHaveWorldAttr(GATTR_EXPEDITION_GROUND) then
							AddWarnDataTT(720040)
						else
							Net_ReqChannelInfo()
							CloseUI("Option")
						end
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu3" X="11" Y="90" W="120" H="25" U="1" V="4" TEXT="49003" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_KEYSET")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu4" X="11" Y="117" W="120" H="25" U="1" V="4" TEXT="49004" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_OPTION")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu5" X="11" Y="144" W="120" H="25" U="1" V="4" TEXT="49009" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						OnClickRePosition()
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu6" X="11" Y="171" W="120" H="25" U="1" V="4" TEXT="49008" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						IgnoreChannelUI(true, true)
						ViewSelectCharacter()
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu7" X="11" Y="198" W="120" H="25" U="1" V="4" TEXT="49005" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						local kGuid = GUID()
						CallYesNoMsgBox( GetTT(60069), kGuid, 4 )
						UISelf:CloseParent()
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu8" X="11" Y="225" W="120" H="25" U="1" V="4" TEXT="49006" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						CallUI("QuitMessageBox")
					</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OVER">CallToolTipText(0, GetTextW(60034), GetUIWnd("Cursor"):GetLocation())</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu9" X="11" Y="252" W="120" H="25" U="1" V="4" TEXT="49007" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt2.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						UISelf:GetParent():Close() CloseToolTip()
					</SCRIPT>
				</BUTTON>
			</NAME>
			<NAME ID="KOREA">
				<ATTR W="142" H="291"/>
				<FORM ID="FRM_BG" X="0" Y="0" W="142" H="266" Z="-1">
					<FORM ID="FRM_T" X="0" Y="0" W="142" H="33" IMG="../Data/6_ui/main/mnMenuT.tga" IMG_W="142" IMG_H="33" TEXT="49000" T_X="14" T_Y="7" FONT="FTcts_16" FONT_COLOR_HEX="0xFFFFE55A" T_OUTLINE="1"/>
					<FORM ID="FRM_C" X="0" Y="33" W="142" H="246" IMG="../Data/6_ui/main/mnMenuM.tga" IMG_W="142" IMG_H="221"/>
					<FORM ID="FRM_B" X="0" Y="254" W="142" H="12" IMG="../Data/6_ui/main/mnMenuB.tga" IMG_W="142" IMG_H="12"/>
				</FORM>
				<BUTTON ID="BTN_CLOSE" X="111" Y="8" W="21" H="20" BTN_IMG="../Data/6_ui/main/mnEmotcX.tga" BTN_IMG_W="42" BTN_IMG_H="40">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu0" X="11" Y="36" W="120" H="25" U="1" V="4" TEXT="3000" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("FRM_HELP_MAIN")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<!--BUTTON ID="Menu1" X="11" Y="63" W="120" H="25" U="1" V="4" TEXT="49001" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_RANKING")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON-->
				<BUTTON ID="Menu2" X="11" Y="63" W="120" H="25" U="1" V="4" TEXT="49002" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_UP">
						Net_ReqChannelInfo()
						CloseUI("Option")
						return true
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu3" X="11" Y="90" W="120" H="25" U="1" V="4" TEXT="49003" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_KEYSET")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu4" X="11" Y="117" W="120" H="25" U="1" V="4" TEXT="49004" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_OPTION")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu5" X="11" Y="144" W="120" H="25" U="1" V="4" TEXT="49009" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						OnClickRePosition()
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu6" X="11" Y="171" W="120" H="25" U="1" V="4" TEXT="49008" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						IgnoreChannelUI(true, true)
						Clear_FireLoveRemainSMS()
						ViewSelectCharacter()						
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu8" X="11" Y="198" W="120" H="25" U="1" V="4" TEXT="49006" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						CallUI("QuitMessageBox")
					</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OVER">CallToolTipText(0, GetTextW(60034), GetUIWnd("Cursor"):GetLocation())</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu9" X="11" Y="225" W="120" H="25" U="1" V="4" TEXT="49007" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt2.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						UISelf:GetParent():Close() CloseToolTip()
					</SCRIPT>
				</BUTTON>
			</NAME>
			<NAME ID="JAPAN/SINGAPORE">
				<ATTR W="142" H="291"/>
				<FORM ID="FRM_BG" X="0" Y="0" W="142" H="291" Z="-1">
					<FORM ID="FRM_T" X="0" Y="0" W="142" H="33" IMG="../Data/6_ui/main/mnMenuT.tga" IMG_W="142" IMG_H="33" TEXT="49000" T_X="14" T_Y="7" FONT="FTcts_16" FONT_COLOR_HEX="0xFFFFE55A" T_OUTLINE="1"/>
					<FORM ID="FRM_C" X="0" Y="33" W="142" H="246" IMG="../Data/6_ui/main/mnMenuM.tga" IMG_W="142" IMG_H="246"/>
					<FORM ID="FRM_B" X="0" Y="279" W="142" H="12" IMG="../Data/6_ui/main/mnMenuB.tga" IMG_W="142" IMG_H="12"/>
				</FORM>
				<BUTTON ID="BTN_CLOSE" X="111" Y="8" W="21" H="20" BTN_IMG="../Data/6_ui/main/mnEmotcX.tga" BTN_IMG_W="42" BTN_IMG_H="40">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu0" X="11" Y="36" W="120" H="25" U="1" V="4" TEXT="3000" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("FRM_HELP_MAIN")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu1" X="11" Y="63" W="120" H="25" U="1" V="4" TEXT="49001" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_RANKING")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu2" X="11" Y="90" W="120" H="25" U="1" V="4" TEXT="49002" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_UP">
						Net_ReqChannelInfo()
						CloseUI("Option")
						return true
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu3" X="11" Y="117" W="120" H="25" U="1" V="4" TEXT="49003" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_KEYSET")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu4" X="11" Y="144" W="120" H="25" U="1" V="4" TEXT="49004" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_OPTION")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu5" X="11" Y="171" W="120" H="25" U="1" V="4" TEXT="49009" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						OnClickRePosition()
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu6" X="11" Y="198" W="120" H="25" U="1" V="4" TEXT="49008" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						IgnoreChannelUI(true, true)
						Clear_FireLoveRemainSMS()
						ViewSelectCharacter()						
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu8" X="11" Y="225" W="120" H="25" U="1" V="4" TEXT="49006" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						CallUI("QuitMessageBox")
					</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OVER">CallToolTipText(0, GetTextW(60034), GetUIWnd("Cursor"):GetLocation())</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu9" X="11" Y="252" W="120" H="25" U="1" V="4" TEXT="49007" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt2.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						UISelf:GetParent():Close() CloseToolTip()
					</SCRIPT>
				</BUTTON>
			</NAME>
			<NAME ID="DEFAULT">
				<ATTR W="142" H="316"/>
				<FORM ID="FRM_BG" X="0" Y="0" W="142" H="316" Z="-1">
					<FORM ID="FRM_T" X="0" Y="0" W="142" H="33" IMG="../Data/6_ui/main/mnMenuT.tga" IMG_W="142" IMG_H="33" TEXT="49000" T_X="14" T_Y="7" FONT="FTcts_16" FONT_COLOR_HEX="0xFFFFE55A" T_OUTLINE="1"/>
					<FORM ID="FRM_C" X="0" Y="33" W="142" H="271" IMG="../Data/6_ui/main/mnMenuM.tga" IMG_W="142" IMG_H="271"/>
					<FORM ID="FRM_B" X="0" Y="304" W="142" H="12" IMG="../Data/6_ui/main/mnMenuB.tga" IMG_W="142" IMG_H="12"/>
				</FORM>
				<BUTTON ID="BTN_CLOSE" X="111" Y="8" W="21" H="20" BTN_IMG="../Data/6_ui/main/mnEmotcX.tga" BTN_IMG_W="42" BTN_IMG_H="40">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu0" X="11" Y="36" W="120" H="25" U="1" V="4" TEXT="3000" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("FRM_HELP_MAIN")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu1" X="11" Y="63" W="120" H="25" U="1" V="4" TEXT="49001" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_RANKING")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu2" X="11" Y="90" W="120" H="25" U="1" V="4" TEXT="49002" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_UP">
						if( CheckNil(g_world == nil) ) then return false end
						if( CheckNil(g_world:IsNil()) ) then return false end
						if g_world:IsHaveWorldAttr(GATTR_EXPEDITION_LOBBY) or
							g_world:IsHaveWorldAttr(GATTR_EXPEDITION_GROUND) then
							AddWarnDataTT(720040)
						else
							Net_ReqChannelInfo()
							CloseUI("Option")
						end
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu3" X="11" Y="117" W="120" H="25" U="1" V="4" TEXT="49003" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_KEYSET")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu4" X="11" Y="144" W="120" H="25" U="1" V="4" TEXT="49004" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CallUI("SFRM_OPTION")
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu5" X="11" Y="171" W="120" H="25" U="1" V="4" TEXT="49009" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						OnClickRePosition()
						CloseUI("Option")
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu6" X="11" Y="198" W="120" H="25" U="1" V="4" TEXT="49008" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						IgnoreChannelUI(true, true)
						Clear_FireLoveRemainSMS()
						ViewSelectCharacter()						
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu7" X="11" Y="225" W="120" H="25" U="1" V="4" TEXT="49005" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						local kGuid = GUID()
						CallYesNoMsgBox( GetTT(60069), kGuid, 4 )
						UISelf:CloseParent()
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu8" X="11" Y="252" W="120" H="25" U="1" V="4" TEXT="49006" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("Option")
						CallUI("QuitMessageBox")
					</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OVER">CallToolTipText(0, GetTextW(60034), GetUIWnd("Cursor"):GetLocation())</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</BUTTON>
				<BUTTON ID="Menu9" X="11" Y="279" W="120" H="25" U="1" V="4" TEXT="49007" T_X="60" T_Y="4" T_CENTER="1" FONT="FTcts_13" BTN_IMG="../Data/6_ui/main/mnMenuBt2.tga" BTN_IMG_W="120" BTN_IMG_H="100" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="2">
					<SCRIPT ID="ON_L_BTN_DOWN">
						UISelf:GetParent():Close() CloseToolTip()
					</SCRIPT>
				</BUTTON>			
			</NAME>
		</LOCAL>
		<SCRIPT ID="ON_LOSE_FOCUS">
			CloseToolTip()
		</SCRIPT>
	</FORM>

	<FORM ID="DelayBar">
		<ATTR ALIGN_X="50" Y="80" W="156" H="20"/>
		<ATTR IMG = "../Data/6_ui/01_main/monsterEg_bg.tga" IMG_W = "156" IMG_H = "20"/>
		
		<ANI_BAR ID="Guage">
			<ATTR X= "3" Y="3" W="150" H="15" />
			<ATTR BAR_IMG = "../Data/6_ui/01_main/monsterEg_bar.tga" BAR_IMG_W = "150" BAR_IMG_H = "15"/>	
			<ATTR BAR_COLOR ="1" />
			<ATTR TEXT="9001" FONT="Font_Text" T_X="10" T_Y="-1" />
		</ANI_BAR>
	</FORM>

	<FORM ID="DmgInfo" >
		<ATTR ALIGN_X="50" Y="60" W="156" H="20" />
		<ATTR IMG = "../Data/6_ui/main/mnMstEbg.tga" IMG_W = "96" IMG_H = "18"/>
		<ANI_BAR ID="HP">
			<ATTR X= "3" Y="3" W="150" H="15" />
			<ATTR BAR_IMG = "../Data/6_ui/main/mnMstEbar.tgaa" BAR_IMG_W = "90" BAR_IMG_H = "12"/>	
			<ATTR BAR_COLOR ="1" />
			<SCRIPT ID="ON_DISPLAY"> UISelf:SetLastTargetInfo(UISelf:GetParent())	</SCRIPT>
			<SCRIPT ID="ON_CALL"> UISelf:SetFontFlag(17) </SCRIPT>
			<ATTR TEXT="9002" FONT="Font_Text" T_X="76" T_Y="-2" />
		</ANI_BAR>
		<ATTR ALIVE_TIME = "10000" />
	</FORM>

	<FORM ID="FormLoading" >
		<ATTR ALIGN_X="50" ALIGN_Y="50" W="1024" H="768" />
		<ATTR IMG = "../Data/6_ui/loading_delhapa01.tga"/>
	</FORM>

	<FORM ID="loading_dragon" >
		<ATTR X="0" ALIGN_Y="0" W="800" H="800" />
		<ATTR IMG = "ui.tex.loading_dragon"/>
	</FORM>

	<FORM ID="loading_dungeon" >
		<ATTR X="0" ALIGN_Y="0" W="800" H="800" />
		<ATTR IMG = "ui.tex.loading_dungeon"/>
	</FORM>

	<FORM ID="loading_dellhapa" >
		<ATTR X="0" ALIGN_Y="0" W="800" H="800" />
		<ATTR IMG = "ui.tex.loading_dellhapa"/>
	</FORM>
	
	<!-- 채팅 옵션 /-->
	<LOCAL>
		<NAME ID="DEFAULT">
			<STATIC_FORM ID ="SFRM_CHAT_OPTION" ALIGN_X = "60" ALIGN_Y = "50" W="496" H="444" CAN_DRAG="1" NO_FOCUS="1" STATIC_NUM = "1">
				<STATIC_FORM ID="SFRM_TITLEBAR" X="1" Y="0" W="494" H="38" Z="1" STATIC_NUM="4">
					<STATIC_FORM ID = "SFRM_COLOR" X="7" Y="4" W="104" H="24" FONT_COLOR_HEX="0xff4D3413" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
					</STATIC_FORM>
					<CHECK_BUTTON ID="CBTN_COLOR" X="7" Y="4" Z="1" W="104" H="24" >
						<ATTR BTN_IMG="../Data/6_ui/Common/cmTabLong.tga" BTN_IMG_W="208" BTN_IMG_H="48"/>
						<ATTR TEXT="799200" FONT="FTtitle_14" T_X="46" T_Y="4" T_CENTER="1" BTN_CLICK_LOCK="1" FONT_COLOR_HEX="0xff4D3413"/>
						<SCRIPT ID="ON_CALL">
							UISelf:CheckState(true)
						</SCRIPT>
					</CHECK_BUTTON>	
					<STATIC_FORM ID="SFRM_CLOSE_BG" X="463" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
						<BUTTON ID="Close" X="0" Y="0" W="24" H="24">
							<ATTR BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
							<SCRIPT ID="ON_L_BTN_DOWN">
								Config_CancelConfig()
								local kParent = UISelf:GetParent()
								Init_ChatFilter()
								UISelf:GetParent():GetParent():CloseParent()
							</SCRIPT>
							<HOTKEY ID="1">
								Config_CancelConfig()
								local kParent = UISelf:GetParent()
								Init_ChatFilter()
								UISelf:GetParent():GetParent():CloseParent()
								return true
							</HOTKEY>
						</BUTTON>
					</STATIC_FORM>
				</STATIC_FORM>
				<STATIC_FORM ID = "SFRM_COMMUNITY_OPTION" X="0" Y="0" W="239" H="26" STATIC_NUM="3">
					<ATTR IMG="../Data/6_ui/main/mnChatOtTab.tga" IMG_X="13" IMG_Y="35" IMG_W="239" IMG_H="26"/>
					<ATTR TEXT = "799307" FONT="FTtitle_14"  T_X="18" T_Y="40" T_LEFT="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</STATIC_FORM>
				<STATIC_FORM ID="SFRM_COLOR" X="9" Y="60" W="478" H="150" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
					
				</STATIC_FORM>
				<STATIC_FORM ID="SFRM_BG_SHADOW" X="9" Y="60" W="478" H="150" STATIC_NUM="3">
					<STATIC_FORM ID = "SFRM_COLOR_NORMAL" X="6" Y="7" W="466" H="32" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
						<ATTR TEXT="799202" FONT="FTtitle_14" T_X="10" T_Y="6" FONT_COLOR_HEX="0xff4D3413"/>
						<STATIC_FORM ID="SFRM_COLOR3" X="105" Y="4" W="357" H="23" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
							<CHECK_BUTTON ID="BTN_NORMAL" X="2" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT="799206" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_NORMAL)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Normal, CT_Normal, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_NORMAL, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Normal, CT_Normal, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_NORMAL, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_PARTY" X="72" Y="2" W ="70" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799207" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_PARTY)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Normal, CT_Party, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_PARTY, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Normal, CT_Party, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_PARTY, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_GUILD" X="142" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799208" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_GUILD)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Normal, CT_Guild, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_GUILD, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Normal, CT_Guild, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_GUILD, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_TRADE" X="212" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "404003" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_TRADE)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Normal, CT_Trade, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_TRADE, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Normal, CT_Trade, "LIST_CHAT_NORMAL")
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_TRADE, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>		
							<CHECK_BUTTON ID="BTN_SYSTEM" X="282" Y="2" W ="75" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799306" FONT="Font_Text"  T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_SYSTEM)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_SYSTEM, 1)
										ChatOption_CheckSystemOut(ChatFilter_Normal, "LIST_CHAT_NORMAL", 1)
									else
										Config_SetValue(HEADKEY_CHATMODE_NORMAL, SUBKEY_FILTER_SYSTEM, 2)										
										ChatOption_CheckSystemOut(ChatFilter_Normal, "LIST_CHAT_NORMAL", 0)
									end	
								</SCRIPT>
							</CHECK_BUTTON>										
							<SCRIPT ID="ON_CALL">
							</SCRIPT>
						</STATIC_FORM>
					</STATIC_FORM>
					<STATIC_FORM ID = "SFRM_COLOR_PARTY" X="6" Y="42" W="466" H="32" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
						<ATTR TEXT = "799203" FONT="FTtitle_14" T_X="10" T_Y="6" FONT_COLOR_HEX="0xff4D3413"/>
						<STATIC_FORM ID = "SFRM_COLOR3" X="105" Y="4" W="357" H="23" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
							<CHECK_BUTTON ID="BTN_NORMAL" X="2" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT="799206" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_NORMAL)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Party, CT_Normal, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_NORMAL, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Party, CT_Normal, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_NORMAL, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_PARTY" X="72" Y="2" W ="70" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799207" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_PARTY)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Party, CT_Party, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_PARTY, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Party, CT_Party, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_PARTY, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_GUILD" X="142" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799208" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_GUILD)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Party, CT_Guild, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_GUILD, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Party, CT_Guild, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_GUILD, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_TRADE" X="212" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "404003" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_TRADE)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Party, CT_Trade, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_TRADE, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Party, CT_Trade, "LIST_CHAT_PARTY")
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_TRADE, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>		
							<CHECK_BUTTON ID="BTN_SYSTEM" X="282" Y="2" W ="75" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799306" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_SYSTEM)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_SYSTEM, 1)
										ChatOption_CheckSystemOut(ChatFilter_Party, "LIST_CHAT_PARTY", 1)
									else
										Config_SetValue(HEADKEY_CHATMODE_PARTY, SUBKEY_FILTER_SYSTEM, 2)
										ChatOption_CheckSystemOut(ChatFilter_Party, "LIST_CHAT_PARTY", 0)
									end	
								</SCRIPT>
							</CHECK_BUTTON>														
							<SCRIPT ID="ON_CALL">
							</SCRIPT>
						</STATIC_FORM>
					</STATIC_FORM>
					<STATIC_FORM ID = "SFRM_COLOR_GUILD" X="6" Y="77" W="466" H="32" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
						<ATTR TEXT = "799204" FONT="FTtitle_14" T_X="10" T_Y="6" FONT_COLOR_HEX="0xff4D3413"/>
						<STATIC_FORM ID = "SFRM_COLOR3" X="105" Y="4" W="357" H="23" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
							<CHECK_BUTTON ID="BTN_NORMAL" X="2" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT="799206" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_NORMAL)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Guild, CT_Normal, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_NORMAL, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Guild, CT_Normal, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_NORMAL, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_PARTY" X="72" Y="2" W ="70" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799207" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_PARTY)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Guild, CT_Party, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_PARTY, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Guild, CT_Party, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_PARTY, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_GUILD" X="142" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799208" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_GUILD)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Guild, CT_Guild, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_GUILD, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Guild, CT_Guild, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_GUILD, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_TRADE" X="212" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "404003" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_TRADE)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Guild, CT_Trade, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_TRADE, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Guild, CT_Trade, "LIST_CHAT_GUILD")
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_TRADE, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>		
							<CHECK_BUTTON ID="BTN_SYSTEM" X="282" Y="2" W ="75" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799306" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_SYSTEM)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_SYSTEM, 1)
										ChatOption_CheckSystemOut(ChatFilter_Guild, "LIST_CHAT_GUILD", 1)
									else
										Config_SetValue(HEADKEY_CHATMODE_GUILD, SUBKEY_FILTER_SYSTEM, 2)
										ChatOption_CheckSystemOut(ChatFilter_Guild, "LIST_CHAT_GUILD", 0)
									end
								</SCRIPT>
							</CHECK_BUTTON>							
						</STATIC_FORM>
					</STATIC_FORM>
					<STATIC_FORM ID = "SFRM_COLOR_TRADE" X="6" Y="112" W="475" H="32" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
						<ATTR TEXT = "799305" FONT="FTtitle_14" T_X="10" T_Y="6" FONT_COLOR_HEX="0xff4D3413"/>
						<STATIC_FORM ID = "SFRM_COLOR3" X="105" Y="4" W="357" H="23" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
							<CHECK_BUTTON ID="BTN_NORMAL" X="2" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT="799206" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_NORMAL)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Trade, CT_Normal, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_NORMAL, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_System, CT_Normal, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_NORMAL, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_PARTY" X="72" Y="2" W ="70" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799207" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_PARTY)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Trade, CT_Party, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_PARTY, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Trade, CT_Party, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_PARTY, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_GUILD" X="142" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799208" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_GUILD)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Trade, CT_Guild, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_GUILD, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Trade, CT_Guild, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_GUILD, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_TRADE" X="212" Y="2" W ="70" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "404003" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_TRADE)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_Trade, CT_Trade, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_TRADE, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_Trade, CT_Trade, "LIST_CHAT_TRADE")
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_TRADE, 2)
									end
								</SCRIPT>
							</CHECK_BUTTON>		
							<CHECK_BUTTON ID="BTN_SYSTEM" X="282" Y="2" W ="75" H ="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H = "40"/>
								<ATTR TEXT = "799306" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_SYSTEM)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_SYSTEM, 1)
										ChatOption_CheckSystemOut(ChatFilter_Trade, "LIST_CHAT_TRADE", 1)
									else
										Config_SetValue(HEADKEY_CHATMODE_TRADE, SUBKEY_FILTER_SYSTEM, 2)
										ChatOption_CheckSystemOut(ChatFilter_Trade, "LIST_CHAT_TRADE", 0)
									end	
								</SCRIPT>
							</CHECK_BUTTON>								
						</STATIC_FORM>
					</STATIC_FORM>
				</STATIC_FORM>
				<STATIC_FORM ID = "SFRM_SYSTEM_OPTION" X="0" Y="0" W="239" H="26" STATIC_NUM="3">
					<ATTR TEXT = "799308" FONT="FTtitle_14"  T_X="18" T_Y="218" T_LEFT="1" FONT_COLOR_HEX="0xFFFFFFFF"/>					
					<ATTR IMG="../Data/6_ui/main/mnChatOtTab.tga" IMG_X="13" IMG_Y="213" IMG_W="239" IMG_H="26"/>
				</STATIC_FORM>
				<STATIC_FORM ID="SFRM_SYSTEM_COLOR" X="9" Y="238" W="478" H="114" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				</STATIC_FORM>
				<STATIC_FORM ID="SFRM_SYSTEM_BG_SHADOW" X="9" Y="238" W="478" H="114" STATIC_NUM="3">
					<STATIC_FORM ID="SFRM_SYSTEM_WINDOW"X="6" Y="6" W="466" H="32" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
						<ATTR TEXT = "799317" FONT="FTtitle_14" T_X="22" T_Y="7" T_LEFT="1" FONT_COLOR_HEX="0xff4D3413"/>
						<STATIC_FORM ID="SFRM_COLOR3" X="314" Y="4" W="148" H="23" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
							<CHECK_BUTTON ID="BTN_ON" X="3" Y="2" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799311" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_WINDOW)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_WINDOW)	
									if 1 == iSet then								
										Config_SetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_WINDOW, 2)
										SetSysoutOption(GetUIWnd("SFRM_CHAT_OPTION"), 2)
									elseif 2 == iSet then
										UISelf:CheckState(false)	
									elseif 3 == iSet then
										UISelf:Disable(true)
									end	
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_OFF" X="73" Y="2" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799312" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_WINDOW)
									if 1 == iSet then
										UISelf:CheckState(true)
									elseif 2 == iSet then
										UISelf:CheckState(false)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">								
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_WINDOW)								
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										Config_SetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_WINDOW, 1)
										SetSysoutOption(GetUIWnd("SFRM_CHAT_OPTION"), 2)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
							</CHECK_BUTTON>
						</STATIC_FORM>
					</STATIC_FORM>
					<STATIC_FORM ID="SFRM_WINDOW_EXTEND"X="6" Y="41" W="466" H="32" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
						<ATTR TEXT = "799309" FONT="FTtitle_14" T_X="22" T_Y="7" T_LEFT="1" FONT_COLOR_HEX="0xff4D3413"/>
						<STATIC_FORM ID="SFRM_COLOR3" X="314" Y="4" W="148" H="23" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
							<CHECK_BUTTON ID="BTN_BASIC" X="3" Y="2" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799313" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_EXTEND)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_EXTEND)	
									if 1 == iSet then
										Config_SetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_EXTEND, 2)
										SetSysoutOption(GetUIWnd("SFRM_CHAT_OPTION"), 2)
									elseif 2 == iSet then
										UISelf:CheckState(false)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_EXTEND" X="73" Y="2" W="80" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799314" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_EXTEND)
									if 1 == iSet then
										UISelf:CheckState(true)
									elseif 2 == iSet then
										UISelf:CheckState(false)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_EXTEND)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										Config_SetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_EXTEND, 1)
										SetSysoutOption(GetUIWnd("SFRM_CHAT_OPTION"), 2)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end	
								</SCRIPT>
							</CHECK_BUTTON>
						</STATIC_FORM>
					</STATIC_FORM>
					<STATIC_FORM ID="SFRM_WINDOW_FILTER"X="6" Y="76" W="466" H="32" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
						<ATTR TEXT = "799310" FONT="FTtitle_14" T_X="22" T_Y="7" T_LEFT="1" FONT_COLOR_HEX="0xff4D3413"/>
						<STATIC_FORM ID="SFRM_COLOR3" X="175" Y="4" W="287" H="23" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
							<CHECK_BUTTON ID="BTN_SYSTEM_DAMAGE" X="2" Y="2" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799211" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_DAMAGE)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_System, CT_Battle, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_DAMAGE, 1)
										SystemFilter_Modify(CT_Battle, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_System, CT_Battle, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_DAMAGE, 2)
										SystemFilter_Modify(CT_Battle, 0)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_SYSTEM_ITEM" X="72" Y="2" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799213" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_ITEM)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_System, CT_Item, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_ITEM, 1)
										SystemFilter_Modify(CT_Item, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_System, CT_Item, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_ITEM, 2)
										SystemFilter_Modify(CT_Item, 0)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_SYSTEM_GOLD" X="142" Y="2" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799212" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_GOLD)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_System, CT_Gold, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_GOLD, 1)
										SystemFilter_Modify(CT_Gold, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_System, CT_Gold, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_GOLD, 2)
										SystemFilter_Modify(CT_Gold, 0)
									end
								</SCRIPT>
							</CHECK_BUTTON>
							<CHECK_BUTTON ID="BTN_SYSTEM_EXP" X="212" Y="2" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
								<ATTR BTN_IMG="../Data/6_ui/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
								<ATTR TEXT = "799316" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
								<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_EXP)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									if true == UISelf:GetCheckState() then
										g_ChatMgrClient:ChatFilter_ModeDel(ChatFilter_System, CT_Exp, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_EXP, 1)
										SystemFilter_Modify(CT_Exp, 1)
									else
										g_ChatMgrClient:ChatFilter_ModeAdd(ChatFilter_System, CT_Exp, "LIST_CHAT_SYSTEM")
										Config_SetValue(HEADKEY_CHATMODE_SYSTEM, SUBKEY_FILTER_SYSTEM_EXP, 2)
										SystemFilter_Modify(CT_Exp, 0)
									end
								</SCRIPT>
							</CHECK_BUTTON>
						</STATIC_FORM>
					</STATIC_FORM>
				</STATIC_FORM>
				<STATIC_FORM ID="SFRM_CHATHIDE_COLOR" X="9" Y="355" W="478" H="46" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
					<ATTR TEXT = "799315" FONT="FTtitle_14" T_X="22" T_Y="7" T_LEFT="1" FONT_COLOR_HEX="0xff4D3413"/>
				</STATIC_FORM>
				<STATIC_FORM ID="SFRM_CHATHIDE_BG_SHADOW" X="9" Y="355" W="478" H="46" STATIC_NUM="3">					
					<CHECK_BUTTON ID="BTN_ON" X="324" Y="10" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
						<ATTR TEXT = "799311" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
						<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_HIDE)
									if 1 == iSet then
										UISelf:CheckState(false)
									elseif 2 == iSet then
										UISelf:CheckState(true)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_HIDE)
									if 1 == iSet then
										Config_SetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_HIDE, 2)
										SetSysoutOption(GetUIWnd("SFRM_CHAT_OPTION"), 2)
									elseif 2 == iSet then
										UISelf:CheckState(false)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end										
								</SCRIPT>
					</CHECK_BUTTON>
					<CHECK_BUTTON ID="BTN_OFF" X="394" Y="10" W="75" H="40" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="18" IS_ENABLE="1">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
						<ATTR TEXT = "799312" FONT="Font_Text" T_X="22" T_Y="2" T_LEFT="1" />
						<SCRIPT ID="ON_CALL">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_HIDE)
									if 1 == iSet then
										UISelf:CheckState(true)
									elseif 2 == iSet then
										UISelf:CheckState(false)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
								<SCRIPT ID="ON_L_BTN_DOWN">
									local iSet = Config_GetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_HIDE)	
									if 1 == iSet then
										UISelf:CheckState(false)	
									elseif 2 == iSet then
										Config_SetValue(HEADKEY_SYSTEMOUT_OPTION, SUBKEY_SYSTEMOUT_HIDE, 1)
										SetSysoutOption(GetUIWnd("SFRM_CHAT_OPTION"), 2)
									elseif 3 == iSet then
										UISelf:Disable(true)
									end
								</SCRIPT>
					</CHECK_BUTTON>
				</STATIC_FORM>
				<SCRIPT ID="ON_CALL">
					Init_ChatFilter()
				</SCRIPT>	
				<BUTTON ID="BTN_DEFAULT" X="108" Y="406" W="84" H="26" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"><!--초기화 버튼/-->
					<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
					<ATTR TEXT = "799215" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" FONT_COLOR_HEX="0xff2a0f0b"/>
					<SCRIPT ID="ON_L_BTN_DOWN">
						local kParent = UISelf:GetParent():GetControl("SFRM_BG_SHADOW")
						ChatOption_Default(kParent)
						DefaultChatWndPos()
					</SCRIPT>
				</BUTTON>
				<BUTTON ID="BTN_OK" X="217" Y="406" W="84" H="26" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"><!--완료 버튼/-->
					<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
					<ATTR TEXT = "799216" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" FONT_COLOR_HEX="0xff2a0f0b"/>
					<SCRIPT ID="ON_L_BTN_DOWN">
						Config_ApplyConfig()
						Config_Save()
						UISelf:CloseParent()
					</SCRIPT>
					<HOTKEY ID="59">
						Config_ApplyConfig()
						Config_Save()
						UISelf:CloseParent()
						return true
					</HOTKEY>
				</BUTTON>
				<BUTTON ID="BTN_CANCLE" X="303" Y="406" W="84" H="26" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"><!--취소 버튼/-->
					<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
					<ATTR TEXT = "799217" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" FONT_COLOR_HEX="0xff2a0f0b"/>
					<SCRIPT ID="ON_L_BTN_DOWN">
						Config_CancelConfig()
						Init_ChatFilter()
						UISelf:CloseParent()
					</SCRIPT>
					<HOTKEY ID="60">
						Config_CancelConfig()
						Init_ChatFilter()
						UISelf:CloseParent()
					</HOTKEY>
				</BUTTON>
			</STATIC_FORM>	
		</NAME>
	</LOCAL>
	<STATIC_FORM ID="SFRM_TELL_TYPE" X="8" Y="566" W="85" H="132">
		<ATTR CAN_COLOR_CHANGE="1" STATIC_NUM="8" COLOR_TYPE="1"/>
		<FORM ID="FRM_TOP">
			<ATTR X="-1" Y="0" W="89" H="12" CAN_CLIP = "1" />
			<ATTR IMG = "../Data/6_ui/common/cmDropTchat.tga" IMG_W = "89" IMG_H = "12cmdr"/>
		</FORM>
		<!--BUTTON ID="BTN_SERVER" X="4" Y="13" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400437" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1"  FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN">CallMegaPhone(3)
			</SCRIPT>
		</BUTTON-->
		<!--BUTTON ID="BTN_CHANNEL" X="4" Y="36" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400446" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1"  FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN">CallMegaPhone(2)
			</SCRIPT>
		</BUTTON-->
		<BUTTON ID="BTN_TRADE" X="4" Y="13" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="404003" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1"  FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local Chatout = GetUIWnd("ChatOut")
				local Text = UISelf:GetStaticText()
				UISelf:GetParent():Close()
				local Chatbar = GetUIWnd("ChatBar")
				if not Chatbar:IsNil() then
					local child = Chatbar:GetControl("BTN_TELL_TYPE")
					if not child:IsNil() then
						child:SetStaticText(Text:GetStr())
					end
				end				
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 39 "))
				ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 4)
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_GUILD" X="4" Y="36" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400106" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1"  FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local Chatout = GetUIWnd("ChatOut")
				local Text = UISelf:GetStaticText()
				UISelf:GetParent():Close()
				if HaveGuild() then
					local Chatbar = GetUIWnd("ChatBar")
					if not Chatbar:IsNil() then
						local child = Chatbar:GetControl("BTN_TELL_TYPE")
						if not child:IsNil() then
							child:SetStaticText(Text:GetStr())
						end
					end				
					g_ChatMgrClient:CheckChatCommand(WideString("/MODE 6 "))
					ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 2)
				else
					CommonMsgBox(GetTextW(700092):GetStr())
				end
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_FRIEND" X="4" Y="59" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400104" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				local Chatout = GetUIWnd("ChatOut")
				local Text = UISelf:GetStaticText()
				UISelf:GetParent():Close()
				local Chatbar = GetUIWnd("ChatBar")
				if not Chatbar:IsNil() then
					local child = Chatbar:GetControl("BTN_TELL_TYPE")
					if not child:IsNil() then
						child:SetStaticText(Text:GetStr())
					end
				end				
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 5 "))
				ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_PARTY" X="4" Y="82" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400105" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				local Chatout = GetUIWnd("ChatOut")
				local Text = UISelf:GetStaticText()
				UISelf:GetParent():Close()
				if IsInParty() then
					local Chatbar = GetUIWnd("ChatBar")
					if not Chatbar:IsNil() then
						local child = Chatbar:GetControl("BTN_TELL_TYPE")
						if not child:IsNil() then
							child:SetStaticText(Text:GetStr())
						end
					end				
					g_ChatMgrClient:CheckChatCommand(WideString("/MODE 3 "))
					ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 3)
				else
					CommonMsgBox(GetTT(22002):GetStr(), true)
				end
			</SCRIPT>
		</BUTTON>
		<!--BUTTON ID="BTN_TEAM" X="4" Y="105" W="77" H="22" IS_VISIBLE="0">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400273" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				OnClick_ChatMode_Change(7)
			</SCRIPT>
		</BUTTON-->
		<BUTTON ID="BTN_ALL" X="4" Y="105" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400108" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				local Chatout = GetUIWnd("ChatOut")
				local Text = UISelf:GetStaticText()
				UISelf:GetParent():Close()
				local Chatbar = GetUIWnd("ChatBar")
				if not Chatbar:IsNil() then
					local child = Chatbar:GetControl("BTN_TELL_TYPE")
					if not child:IsNil() then
						child:SetStaticText(Text:GetStr())
					end
				end				
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 2 "))
				ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
			</SCRIPT>
		</BUTTON>
		<!--BUTTON ID="BTN_WHISPER" X="4" Y="105" W="77" H="22">
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropB01.tga" BTN_IMG_W="154" BTN_IMG_H="44" BTN_ENABLE_CHANGE_COLOR="0"/>
			<ATTR TEXT="400107" FONT="Font_Text" T_X="38" T_Y="2" T_OUTLINE="0" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				UISelf:GetParent():Close()
				g_ChatMgrClient:CheckChatCommand(WideString("/s "..GetTT(404020):GetStr()))
			</SCRIPT>
		</BUTTON-->
		<SCRIPT ID = "ON_LOSE_FOCUS">
			local Text = UISelf:GetStaticText()
			OnAddTimer_HideChatBar()
			UISelf:Close()
		</SCRIPT>
		<SCRIPT ID = "ON_CALL"> OnDelTimer_HideChatBar() </SCRIPT>
		<HOTKEY ID="1">UISelf:Close() return true</HOTKEY>
	</STATIC_FORM>
	<FORM ID="FRM_EMOTICON" NO_FOCUS="1">
		<ATTR X="380" Y="574" W="136" H="133"/>
		<FORM ID="FRM_BG" NO_FOCUS="1">
			<ATTR X="0" Y="0" W="136" H="133" Z="-1"/>
			<IMG ID="IMG_T" X="0" Y="0" W="136" H="40" IMG="../data/6_ui/main/mnEmotcBxT.tga" IMG_W="136" IMG_H="40" NO_FOCUS="1"/>
			<IMG ID="IMG_M" X="0" Y="40" W="136" H="77" IMG="../data/6_ui/main/mnEmotcBxM.tga" IMG_W="136" IMG_H="77" NO_FOCUS="1"/>
 			<IMG ID="IMG_B" X="0" Y="117" W="136" H="16" IMG="../data/6_ui/main/mnEmotcBxB.tga" IMG_W="136" IMG_H="16" NO_FOCUS="1"/>
			<BUILD TARGET_ID="FRM_EMO_BG" X="11" Y="35" X_COUNT="4" Y_COUNT="3" X_GAB="29" Y_GAB="29"/>
			<FORM ID="FRM_EMO_BG" X="0" Y="0" W="27" H="27" IMG="../data/6_ui/main/mnEmotcBg.tga" IMG_W="27" IMG_H="27" NO_FOCUS="1"/>
		</FORM>
		<CHECK_BUTTON ID="FRM_TITLE" X="7" Y="5" W="100" H="20" NO_FOCUS="1" BTN_CLICK_LOCK="1">
			<ATTR BTN_IMG="../Data/6_ui/main/mnEmotcB.tga" BTN_IMG_W="200" BTN_IMG_H="40"/>
			<ATTR TEXT="404005" T_X="50" T_Y="3" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</CHECK_BUTTON>
		<BUTTON ID="FRM_EXIT" X="108" Y="5" W="21" H="20" NO_FOCUS="1">
			<ATTR BTN_IMG="../Data/6_ui/main/mnEmotcX.tga" BTN_IMG_W="42" BTN_IMG_H="40"/>
			<SCRIPT ID="ON_L_BTN_UP">UISelf:GetParent():Close()</SCRIPT>
		</BUTTON>
		<IMG ID="IMG_OVER" X="0" Y="0" W="29" H="29" IMG="../Data/6_ui/main/mnEmotcOver.tga" IMG_W="29" IMG_H="29" PASS_EVENT="1" IS_VISIBLE="0" NO_FOCUS="1">
			<SCRIPT ID="ON_CALL">
				UISelf:Visible(false)
			</SCRIPT>
		</IMG>
		<BUILD TARGET_ID="FRM_ICON" X="10" Y="34" X_COUNT="4" Y_COUNT="3" X_GAB="29" Y_GAB="29"/>
		<FORM ID="FRM_ICON" X="0" Y="0" W="29" H="29" NO_FOCUS="1">
			<!--ATTR IMG="../Data/6_ui/01_main/Emo_1.gif" IMG_W="21" IMG_H="21" IMG_X="4" IMG_Y="4"/-->
			<ATTR TEXT="" FONT="EmoticonFont" T_X="14" T_CENTER="1" T_Y="4"/>
			<SCRIPT ID="ON_BUILD">
				UISelf:SetCustomDataAsInt(UISelf:GetBuildIndex()+1)
				UISelf:SetStaticText(g_ChatMgrClient:ConvertEmoticonCommandToHex(WideString("#"..UISelf:GetCustomDataAsInt())):GetStr())
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">
				local pOver = UISelf:GetParent():GetControl("IMG_OVER")
				if not pOver:IsNil() then
					pOver:Visible(true)
					pOver:SetLocation(UISelf:GetLocation())
				end
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				AddEmoticon(UISelf:GetCustomDataAsInt())
			</SCRIPT>
		</FORM>
		<SCRIPT ID="ON_MOUSE_OUT">
			local pOver = UISelf:GetControl("IMG_OVER")
			if false == pOver:IsNil() then
				pOver:Visible(false)
			end
		</SCRIPT>
	</FORM>
	<FORM ID="FRM_CHAT_COLOR" NO_FOCUS="1">
		<ATTR X="399" Y="577" W="120" H="100" Z="10"/>
		<ATTR IMG="../Data/6_ui/main/mnColor.tga" IMG_W="120" IMG_H="100"/>
		<SCRIPT ID="ON_CALL">
			local ChatUI = GetUIWnd("ChatBar")
			if false == ChatUI:IsNil() then
				local Child =  ChatUI:GetControl("BTN_TEXT_COLOR")
				if false == Child:IsNil() then
					local PtPar = ChatUI:GetLocation()
					local PtChi = Child:GetLocation()
					local PtSize = UISelf:GetSize()
					local PtRst = Point2(PtPar:GetX() + PtChi:GetX() - 10, PtPar:GetY() + PtChi:GetY() - PtSize:GetY())
					UISelf:SetLocation(PtRst)
				end
			end
		</SCRIPT>
		<BUILD TARGET_ID="FRM_ICON" X="10" Y="8" X_COUNT="5" Y_COUNT="4" X_GAB="20" Y_GAB="20"/>
		<FORM ID="FRM_ICON" X="0" Y="0" W="20" H="20" NO_FOCUS="1">
			<IMG ID="IMG_OVER" X="0" Y="0" W="29" H="29" IMG="../Data/6_ui/main/mnColorOver.tga" IMG_W="20" IMG_H="20" PASS_EVENT="1" IS_VISIBLE="0" NO_FOCUS="1">
				<SCRIPT ID="ON_CALL">
					UISelf:Visible(false)
				</SCRIPT>
			</IMG>
			<SCRIPT ID="ON_BUILD">
				UISelf:SetCustomDataAsInt(UISelf:GetBuildIndex())
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">
				local pChild = UISelf:GetControl("IMG_OVER")
				if false == pChild:IsNil() then
					pChild:Visible(true)
				end
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">
				local pChild = UISelf:GetControl("IMG_OVER")
				if false == pChild:IsNil() then
					pChild:Visible(false)
				end
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				SetChatColor(UISelf:GetCustomDataAsInt())
				UISelf:GetParent():Close()
			</SCRIPT>
		</FORM>
	</FORM>
	<STATIC_FORM ID="FRM_WHISPER_LIST" X="0" Y="0" W="113" H="31" STATIC_NUM="35">
		<LIST ID="LST_SELECT_TYPE" X="0" Y="0" W="113" H="31" ITEM_X="0" ITEM_Y="0" NO_FOCUS="1">
			<ATTR ELEMENT_ID="FRM_WHISPER_NAME"/>
			<SCRIPT ID="ON_CALL">
			local Chatout = GetUIWnd("ChatOut")
			local NoWhisperList = g_ChatMgrClient:SetWhisperDlg(UISelf:GetParent())
			if true == NoWhisperList then
				g_ChatMgrClient:SetExistWhisperList(true)
				local kTop = GetUIWnd("ChatBar")
				if not kTop:IsNil() then
					local kEditChat = kTop:GetControl("EDT_CHAT")
					if not kEditChat:IsNil() then
						kEditChat:SetEditFocus(true)
						kEditChat:SetEditText(GetTT(799334):GetStr())
						ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
					end
				end
			end
			</SCRIPT>
		</LIST>
		<HOTKEY ID="1">UISelf:Close() return true</HOTKEY>
	</STATIC_FORM>
	<FORM ID="FRM_WHISPER_NAME">
		<ATTR X="0" Y="0" W="113" H="31"/>
		<ATTR TEXT="" FONT="Font_Text" T_X="56" T_Y="8" T_CENTER="1" NO_FOCUS="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		<IMG ID="IMG_OVER" IMG="../data/6_ui/main/mndrBoxOver.tga" IMG_W="113" IMG_H="31" IS_VISIBLE="0" NO_FOCUS="1" PASS_EVENT="1">
			<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
		</IMG>
		<SCRIPT ID="ON_MOUSE_OVER">
			local pChild = UISelf:GetControl("IMG_OVER")
			if false == pChild:IsNil() then
				pChild:Visible(true)
			end
		</SCRIPT>
		<SCRIPT ID="ON_MOUSE_OUT">
			local pChild = UISelf:GetControl("IMG_OVER")
			if false == pChild:IsNil() then
				pChild:Visible(false)
			end
		</SCRIPT>
		<SCRIPT ID="ON_L_BTN_DOWN">
			local Chatout = GetUIWnd("ChatOut")
			local Str = UISelf:GetStaticText()
			if Str == nil or Str:IsNil() then
				return
			end
			UISelf:GetParent():GetParent():Close()
			g_ChatMgrClient:CheckChatCommand(WideString("/MODE 4 "..Str:GetStr()))
			ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
		</SCRIPT>
	</FORM>
	<STATIC_FORM ID="FRM_CHAT_TOOLTIP">
		<ATTR X="100" Y="100" W="230" H="100" STATIC_NUM="35" PRIORITY="99" NO_FOCUS="1"/>
		<ATTR FONT="Font_Text" FONT_COLOR_HEX="0xFFFFFFFF"/>
		<BUTTON ID="BTN_MODE_NORMAL">
			<ATTR X="6" Y="6" W="218" H="16"/>
			<ATTR TEXT="404011" FONT="Font_Text" T_X="0" T_Y="0"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local kSelf = UISelf
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 2 "..GetTT(404018):GetStr()))
				kSelf:CloseParent() return true
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_MODE_PARTY">
			<ATTR X="6" Y="22" W="218" H="16"/>
			<ATTR TEXT="404012" FONT="Font_Text" T_X="0" T_Y="0"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local kSelf = UISelf
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 3 "..GetTT(404019):GetStr()))
				kSelf:CloseParent() return true
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_MODE_WHISPER">
			<ATTR X="6" Y="38" W="218" H="16"/>
			<ATTR TEXT="404013" FONT="Font_Text" T_X="0" T_Y="0"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local kSelf = UISelf
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 2 "..GetTT(404020):GetStr()))
				kSelf:CloseParent() return true
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_MODE_GUILD">
			<ATTR X="6" Y="54" W="218" H="16"/>
			<ATTR TEXT="404014" FONT="Font_Text" T_X="0" T_Y="0"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local kSelf = UISelf
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 6 "..GetTT(404022):GetStr()))
				kSelf:CloseParent() return true
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_MODE_SALE">
			<ATTR X="6" Y="70" W="218" H="16"/>
			<ATTR TEXT="404015" FONT="Font_Text" T_X="0" T_Y="0"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local kSelf = UISelf
				g_ChatMgrClient:CheckChatCommand(WideString("/MODE 0 "..GetTT(404020):GetStr()))
				kSelf:CloseParent() return true
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_MODE_INMODE" IS_VISIBLE="1">
			<ATTR X="6" Y="86" W="218" H="48" NO_FOCUS="1"/>
			<ATTR TEXT="404016" FONT="Font_Text" T_X="0" T_Y="0"/>
		</BUTTON>
		<FORM ID="FRM_HELP">
			<ATTR X="6" Y="102" W="218" H="240" NO_FOCUS="1"/>
			<ATTR TEXT="404017" FONT="Font_Text" T_X="0" T_Y="16"/>
		</FORM>
		<SCRIPT ID = "ON_TICK">
			local kSelf = UISelf
			local pChild = kSelf:GetControl("FRM_HELP")
			if pChild:IsNil() then
				return
			end
			local Size = kSelf:GetSize()
			local ChSize = pChild:GetSize()
			local ChLoc = pChild:GetLocation()
			Size:SetY(ChLoc:GetY() + ChSize:GetY() + 6)
			kSelf:SetSize(Size)
			
			local List = ActivateUI("ChatOut")
			if false == List:IsNil() then
				local Loc = kSelf:GetLocation()
				Loc:SetX(List:GetLocation():GetX())
				Loc:SetY(List:GetLocation():GetY() - Size:GetY())
				kSelf:SetLocation(Loc)
			end
		</SCRIPT> 	
		<SCRIPT ID="ON_LOSE_FOCUS">UISelf:Close()</SCRIPT>
	</STATIC_FORM>
	<!--DUMMY ID="DMY_ChatBar" X="0" Y="669" Z="-1" W="482" H="32" NO_FOCUS="1">
		<SCRIPT ID="ON_MOUSE_OVER"> ActivateUI("ChatBar") </SCRIPT>
	</DUMMY-->
	<STATIC_FORM ID="ChatBar" CAN_CLIP="1" ALIGN_X="0" Y="669" Z="1" W="384" H="36" >
		<HOTKEY ID="28"> return g_ChatMgrClient:OnFocus_ChatEdit()</HOTKEY>
		<HOTKEY ID="106"> return g_ChatMgrClient:OnFocus_ChatEdit()</HOTKEY>
		<HOTKEY ID="74">ChangeChatOutSizeCheck(-1) return true</HOTKEY>
		<HOTKEY ID="78">ChangeChatOutSize(1) return true</HOTKEY>
		<STATIC_FORM ID="SFRM_BAR_BG" X="0" Y="0" Z="-1" W="384" H="36" STATIC_NUM="4" NO_FOCUS="1" PASS_EVENT="1"/>
		<STATIC_FORM ID="SFRM_BTN_BG" X="8" Y="5" W="85" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" TEXT="400108" FONT="FTbt_12" T_X="12" T_Y="3" T_OUTLINE="1"/>
		<BUTTON ID="BTN_TELL_TYPE">
			<ATTR X="7" Y="4" W="87" H="24" />		  
			<ATTR BTN_IMG="../Data/6_ui/common/cmDropBt.tga" BTN_IMG_W="174" BTN_IMG_H="48" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
			<ATTR TEXT="400153" FONT="Font_Text" T_X="40" T_Y="5" T_CENTER="1" T_OUTLINE="1" />
			<SCRIPT ID="ON_L_BTN_DOWN">
				if not UISelf:IsDisable() then
					CallChatMenu(UISelf)
				end
			</SCRIPT>
			<SCRIPT ID="ON_TICK">
				local kPos = UISelf:GetTotalLocation()
				local kMenu = GetUIWnd("SFRM_TELL_TYPE")
				if false == kMenu:IsNil() then
					local kSize = kMenu:GetSize()
					kPos:SetY( kPos:GetY() - kSize:GetY() )
					kMenu:SetLocation(kPos)
				end
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_WHISPER">
			<ATTR X="95" Y="4" W="24" H="24" />		  
			<ATTR BTN_IMG="../Data/6_ui/main/mnBwhisper.tga" BTN_IMG_W="48" BTN_IMG_H="48" />
			<SCRIPT ID="ON_L_BTN_UP">CallUI("FRM_WHISPER_LIST")</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">	CallToolTipText(0, GetTT(799330), UISelf:GetLocation())	</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">	CloseToolTip()	</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_TOGGLECHAT">
			<ATTR X="352" Y="4" W="24" H="24" />		  
			<ATTR BTN_IMG="../Data/6_ui/main/mnBtRc.tga" BTN_IMG_W="48" BTN_IMG_H="48" />
			<SCRIPT ID="ON_L_BTN_DOWN">
				g_ChatMgrClient:ToggleConsecutiveChat()
				g_ChatMgrClient:ToggleConsecutiveChatUI()
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">	CallToolTipText(0, GetTT(799331), UISelf:GetLocation())	</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">	CloseToolTip()	</SCRIPT>
		</BUTTON>
		<FORM ID = "FRM_TOGGLECHAT" X="353" Y="5" Z="1" W="24" H="24" IS_ENABLE = "0" PASS_EVENT = "1" IS_VISIBLE = "0">
			<ATTR IMG="../Data/6_ui/main/mnBtRcLn.tga" IMG_W="66" IMG_H="66" U="3" V="3" UV_INDEX="1"/>
			<SCRIPT ID = "ON_TICK">
				if UISelf:IsVisible() then
					if( CheckNil(g_world == nil) ) then return false end
					if( CheckNil(g_world:IsNil()) ) then return false end
					UISelf:SetUVIndex(math.floor(math.mod(g_world:GetAccumTime() * 10, 6)) + 1)
				end
			</SCRIPT>
		</FORM>
	
		<STATIC_FORM ID="SFRM_EDT_BG">
			<ATTR X="121" Y="4" W="229" H="24" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFRM_EDT_BG_SHADOW">
				<ATTR X="0" Y="0" W="229" H="24" STATIC_NUM="3" />
			</STATIC_FORM>
		</STATIC_FORM>		
		<FORM ID="FRM_HEAD" X="123" Y="4" W="227" H="24" TEXT="" FONT="Font_Text" T_X="1" T_Y="5" IS_VISIBLE="0"/>
		<ICON ID = "ICON_CHAT" X="123" Y="4" Z="1" W="227" H="24" ICON_GRP ="255" ICON_KEY = "0">
			<SCRIPT ID = "ON_MOUSE_OVER">
				
			</SCRIPT>
			<SCRIPT ID = "ON_L_BTN_UP"> 
				local bRet = UISelf:CursorToIcon()
			</SCRIPT>		
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:GetParent():GetControl("EDT_CHAT"):SetEditFocus(true)
			</SCRIPT>
		</ICON>	
		<EDIT ID="EDT_CHAT" X="123" Y="4" W="230" H="24">
			<ATTR EDIT_BLOCK_IMG = "../Data/6_UI/01_main/bgWarn.tga" />
			<ATTR EDIT_CAROT_IMG = "../Data/6_UI/Carot.tga" />
			<ATTR EDIT_T_X="4" EDIT_T_Y="5" EDIT_FONT="Font_Text"/>
			<ATTR EDIT_PREVIEW = "10101" EDIT_LIMIT_LENGTH="200"/>
			<ATTR TEXT="10102" FONT="Font_Text" T_X="-4" T_Y="5" FONT_COLOR_HEX = "0xFF4D3413" />
			<ATTR EDIT_DONT_LOSTFOCUS = "1" />	
			<!--<SCRIPT ID="ON_KEY_ENTER"> return OnEnter_SendChat(UISelf) </SCRIPT>-->
			<HOTKEY ID="28">return OnEnter_SendChat(UISelf)</HOTKEY>
			<HOTKEY ID="106">return OnEnter_SendChat(UISelf)</HOTKEY>
			<SCRIPT ID="ON_CREATE">
				g_ChatMgrClient:InputNow_TimeMinimum(5000)
			</SCRIPT>
			<SCRIPT ID="ON_DISPLAY">
				local kSelf = UISelf
				if kSelf:IsFocus() then
					local strChat = kSelf:GetEditText()
					local iChatMode = g_ChatMgrClient:ChatMode_Get()
					if CT_Normal == iChatMode or CT_Party == iChatMode then
						if strChat:Length() > 2 then
						g_ChatMgrClient:SendChat_InputNow(true)
						else
						g_ChatMgrClient:SendChat_InputNow(false)
						end
					else
						if strChat:Length() > 2 then
						g_ChatMgrClient:Self_InputNow(true, iChatMode)
						elseif  strChat:Length() ~= 0 then
						g_ChatMgrClient:Self_InputNow(false, iChatMode)
						end
					end
				end
			</SCRIPT>
			<SCRIPT ID="ON_KEY_UP">
				if UISelf:IsFocus() then
					UISelf:ExploreTypingHistory(true) return true
				end
			</SCRIPT> <!-- Num Up Event -->
			<SCRIPT ID="ON_KEY_DOWN">
				if UISelf:IsFocus() then
					UISelf:ExploreTypingHistory(false) return true
				end
			</SCRIPT> <!-- Num Down Event -->
			<HOTKEY ID="123">
				if UISelf:IsFocus() then
					g_ChatMgrClient:ChatAram(WideString("05.messager"), true)
				end
			</HOTKEY> <!-- LeftArrow Event -->
			<HOTKEY ID="124">
				if UISelf:IsFocus() then
					g_ChatMgrClient:ChatAram(WideString("05.messager"), true)
				end
			</HOTKEY> <!-- RightArrow Event -->
			<HOTKEY ID="1">
				if UISelf:IsFocus() then
					return OnEsc_CancelChat()
				end
				return true
			</HOTKEY>
			<HOTKEY ID="57">
				if UISelf:IsFocus() then
					local Text = UISelf:GetEditText()
					g_ChatMgrClient:CheckChatCommand(Text)
				end
				return true
			</HOTKEY>
			<HOTKEY ID="61">
				if UISelf:IsFocus() then
					g_ChatMgrClient:ToggleConsecutiveChat()
					g_ChatMgrClient:ToggleConsecutiveChatUI()
				end
			</HOTKEY>
			<HOTKEY ID="15">
				if true == IsUIWnd("SFRM_BIG_MAP") then 
					return true
				end
				local Chatout = GetUIWnd("ChatOut")
				local WisperTarget = g_ChatMgrClient:SetWhisperByTab(UISelf:GetParent())
				if 0 ~= WisperTarget:Length() then
					g_ChatMgrClient:CheckChatCommand(WideString("/MODE 4 "..WisperTarget:GetStr()))
				else					
					UISelf:SetEditFocus(true)
					UISelf:SetEditText(GetTT(799334):GetStr())
					ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)					
				end
			</HOTKEY>
			<HOTKEY ID="63"> <!-- KEY_F5 -->
			local Chatout = GetUIWnd("ChatOut")
			if EnableShortCutKey() then
				local kWnd = GetUIWnd("FRM_DEFENCE_SKILL")
				if kWnd:IsNil() == false then
					StrategyItemDoAction(0)
				else
					g_ChatMgrClient:CheckChatCommand(WideString("/MODE 2"))
					ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
				end
			end
			</HOTKEY>
			<!--HOTKEY ID="64"> <!-- KEY_F6 ->
				local Chatout = GetUIWnd("ChatOut")
				if EnableShortCutKey() then
					local kWnd = GetUIWnd("FRM_DEFENCE_SKILL")
					if kWnd:IsNil() == false then
						StrategyItemDoAction(1)
					else
						g_ChatMgrClient:CheckChatCommand(WideString("/r"))
						ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
					end
				end
			</HOTKEY-->
			<HOTKEY ID="64"> <!-- KEY_F6 -->
				local Chatout = GetUIWnd("ChatOut")
				if EnableShortCutKey() then
					local kWnd = GetUIWnd("FRM_DEFENCE_SKILL")
					if kWnd:IsNil() == false then
						StrategyItemDoAction(3)
					else
						g_ChatMgrClient:CheckChatCommand(WideString("/MODE 5"))
						ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
					end
				end
			</HOTKEY>
			<HOTKEY ID="65"> <!-- KEY_F7 -->
				local Chatout = GetUIWnd("ChatOut")
				if EnableShortCutKey() then
					local kWnd = GetUIWnd("FRM_DEFENCE_SKILL")
					if kWnd:IsNil() == false then
						StrategyItemDoAction(2)
					else
						local kStatus = GetContentsStatus()
						if STATUS_ROOM == kStatus or STATUS_PLAYING == kStatus then
							OnClick_ChatMode_Change(7)
						else
							g_ChatMgrClient:CheckChatCommand(WideString("/MODE 3"))
							ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 3)							
						end
					end
				end
			</HOTKEY>
			<!--HOTKEY ID="66"> 
				local Chatout = GetUIWnd("ChatOut")
				if EnableShortCutKey() then
					local kWnd = GetUIWnd("FRM_DEFENCE_SKILL")
					if kWnd:IsNil() == false then
						StrategyItemDoAction(3)
					else
						g_ChatMgrClient:CheckChatCommand(WideString("/MODE 5"))
						ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 1)
					end
				end
			</HOTKEY-->
			<HOTKEY ID="66"> <!-- KEY_F8 -->
				local Chatout = GetUIWnd("ChatOut")
				if EnableShortCutKey() then
					g_ChatMgrClient:CheckChatCommand(WideString("/MODE 6"))
					ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 2)
				end
			</HOTKEY>
			<HOTKEY ID="67"> <!-- KEY_F9 -->
				local Chatout = GetUIWnd("ChatOut")
				if EnableShortCutKey() then
					g_ChatMgrClient:CheckChatCommand(WideString("/MODE 39"))
					ChatMode_FilterSet(Chatout:GetControl("CHAT_BG"), 4)
				end
			</HOTKEY>			
			<!--HOTKEY ID="14">
				if UISelf:IsFocus() then
					local Text = UISelf:GetEditText()
					if nil == Text or 0 == Text:Length() then
						g_ChatMgrClient:CheckChatCommand(WideString("/s"))
					end
				end
			</HOTKEY-->			
			<SCRIPT ID="ON_FOCUS"> 
				local kMegaEdit = GetUIWnd("SFRM_SMS"):GetControl("EDT_MEMO")
				if false == kMegaEdit:IsNil() then
					return true
				end
				UISelf:ResetTypingHistory()
				local kParent = UISelf:GetParent()
				local kChtBg = kParent:GetControl("SFRM_BAR_BG")
				kChtBg:SetTwinkle(9900000, 500)
				g_ChatMgrClient:ChatAram(WideString("05.messager"))							
			</SCRIPT>
			<SCRIPT ID="ON_LOSE_FOCUS">
				local kTop = GetUIWnd("ChatBar")
				if not kTop:IsNil() then
					local kEditChat = kTop:GetControl("EDT_CHAT")
					if not kEditChat:IsNil() then 
						g_ChatMgrClient:SendChat_InputNow(false)
						kEditChat:ResetTypingHistory()
						kEditChat:SetEditText("")
						ClearEditFocus()
						
						local iChatMode = g_ChatMgrClient:ChatMode_Get()
						if CT_Normal ~= iChatMode and CT_Party ~= iChatMode then
							g_ChatMgrClient:ClearChatBalloon()
						end
					end
				end
				
				OnAddTimer_HideChatBar()
				local kParent = UISelf:GetParent()				
				local kChtBg = kParent:GetControl("SFRM_BAR_BG")
				kChtBg:OffTwinkleSelf()
			</SCRIPT>
		</EDIT>
		<SCRIPT ID="ON_CALL">
			OnAddTimer_HideChatBar()
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE"> CloseUI("SFRM_TELL_TYPE") </SCRIPT>
		<SCRIPT ID="ON_TICK">
			local out = GetUIWnd("ChatOut")
			local slf = UISelf
			if false==out:IsNil() and false==slf:IsNil() then
				local outpos = out:GetLocation()
				local outsize = out:GetSize()
				outpos:SetY(outpos:GetY() + out:GetSize():GetY())
				slf:SetLocation(outpos)
			end
		</SCRIPT>		
		<!--HOTKEY ID="28"> return OnEnter_FocusEdit(UISelf) </HOTKEY>
		<HOTKEY ID="106"> return OnEnter_FocusEdit(UISelf) </HOTKEY-->
		
		<!--HOTKEY ID="12"> ChangeChatOutSize(-1) return true</HOTKEY>
		<HOTKEY ID="13"> ChangeChatOutSize(1) return true</HOTKEY-->
	</STATIC_FORM>
	
	<FORM ID="MapMove_Boss" >
		<BUTTON ID="CLOSE">
			<ATTR X="178" Y="0" W="20" H="20" />
			<ATTR BTN_IMG="../Data/6_ui/01_main/Bclose.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
			<!--ATTR TEXT="OK" FONT="Font_Text" T_X="17" T_Y="8" T_OUTLINE="1"/-->
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="1">UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>

		<BUTTON ID="OK">
			<ATTR X="42" Y="78" W="55" H="26" />
			<ATTR BTN_IMG="../Data/6_ui/01_main/Bok.tga" BTN_IMG_W="110" BTN_IMG_H="52"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
--				Net_ReqMapMove(1000,1)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>

		<BUTTON ID="CANCLE">
			<ATTR X="102" Y="78" W="55" H="26" />
			<ATTR BTN_IMG="../Data/6_ui/01_main/Bcancel.tga" BTN_IMG_W="110" BTN_IMG_H="52"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>

		<ATTR ALIGN_X="50" ALIGN_Y="50" W="198" H="108" CAN_DRAG="1"/>		
		<ATTR IMG = "../Data/6_ui/01_main/msg02.tga" IMG_W = "198" IMG_H = "108"/>
	</FORM>

	<FORM ID="MapMove_NationWar" >
		<BUTTON ID="CLOSE">
			<ATTR X="178" Y="0" W="20" H="20" />
			<ATTR BTN_IMG="../Data/6_ui/01_main/Bclose.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
			<!--ATTR TEXT="OK" FONT="Font_Text" T_X="17" T_Y="8" T_OUTLINE="1"/-->
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="1">UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>

		<BUTTON ID="OK">
			<ATTR X="42" Y="78" W="55" H="26" />
			<ATTR BTN_IMG="../Data/6_ui/01_main/Bok.tga" BTN_IMG_W="110" BTN_IMG_H="52"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
--				Net_ReqMapMove(400,1)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>

		<BUTTON ID="CANCLE">
			<ATTR X="102" Y="78" W="55" H="26" />
			<ATTR BTN_IMG="../Data/6_ui/01_main/Bcancel.tga" BTN_IMG_W="110" BTN_IMG_H="52"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>

		<ATTR ALIGN_X="50" ALIGN_Y="50" W="198" H="108" CAN_DRAG="1"/>		
		<ATTR IMG = "../Data/6_ui/01_main/msg01.tga" IMG_W = "198" IMG_H = "108"/>
	</FORM>

	<CURSOR ID="Cursor">
		<ATTR IMG = "../Data/6_ui/01_main/cursor.tga" W="32" H="32"  IMG_W = "64" IMG_H = "128" PRIORITY="100"/>
		<SCRIPT ID="ON_DISPLAY">UISelf:DrawCursorIcon()</SCRIPT>
	</CURSOR>

	<TOOL_TIP ID="ToolTip">
		<ATTR IMG = "../Data/6_ui/01_main/bgTooltip.tga" IMG_W = "128" IMG_H = "16"/> 
  		<ATTR X="0" Y="0" W="128" H="16" />
  		<ATTR FONT="Font_Text" T_X="1" T_Y="1" />
	</TOOL_TIP>

	<STATIC_FORM ID="Select_Item">	
		<ATTR ALIGN_X="10" ALIGN_Y="50" W="440" H="250" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="422" H="200" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="422" H="200" STATIC_NUM="3" />
				<ATTR TEXT="19920" FONT="Font_Text" T_X="95" T_Y="10" FONT_COLOR_HEX = "0xFF4D3413" T_CENTER = "1" />
				
				<FORM ID="FRM_FIGHTER" X="18" Y="0" W="100" H="180">
					<BUTTON ID="Item1" X="0" Y="35" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19904" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(2)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item2" X="0" Y="61" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19905" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(3)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item3" X="0" Y="87" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19906" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(4)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item4" X="0" Y="113" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19907" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(5)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item5" X="0" Y="139" W = "84" H = "26">
						<ATTR  />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19908" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(6)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item6" X="0" Y="165" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19909" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(7)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
				</FORM>
				
				<FORM ID="FRM_MAGICIAN" X="120" Y="0" W="100" H="180">
					<BUTTON ID="Item7" X="0" Y="35" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19910" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(8)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item8" X="0" Y="61" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19911" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(9)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item9" X="0" Y="87" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19912" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(10)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item10" X="0" Y="113" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19913" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(11)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item11" X="0" Y="139" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19914" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(12)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item12" X="0" Y="165" W = "84" H = "26">
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19915" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(13)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
				</FORM>
				
				<FORM ID="FRM_ARCHER" X="220" Y="0" W="100" H="180">
					<BUTTON ID="Item13">
						<ATTR X="0" Y="35" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19916" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(14)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item14">
						<ATTR X="0" Y="61" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19917" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(15)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item15">
						<ATTR X="0" Y="87" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19918" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(16)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item16">
						<ATTR X="0" Y="113" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19919" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(17)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item17">
						<ATTR X="0" Y="139" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19950" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(18)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item18">
						<ATTR X="0" Y="165" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19951" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(19)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
				</FORM>
				
				<FORM ID="FRM_THIEF" X="320" Y="0" W="100" H="180">
					<BUTTON ID="Item19">
							<ATTR X="0" Y="35" W = "84" H = "26" />
							<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
							<ATTR TEXT="19960" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
							<SCRIPT ID="ON_L_BTN_DOWN">
								Net_ReqGiveItemSet(20)
								CloseUI("Select_Item")
							</SCRIPT>
						</BUTTON>
					<BUTTON ID="Item20">
						<ATTR X="0" Y="61" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19961" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(21)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item21">
						<ATTR X="0" Y="87" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19962" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(22)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item22">
						<ATTR X="0" Y="113" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19963" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(23)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item23">
						<ATTR X="0" Y="139" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19964" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(24)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
					<BUTTON ID="Item24">
						<ATTR X="0" Y="165" W = "84" H = "26" />
						<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
						<ATTR TEXT="19965" FONT="Font_Text" T_X="42" T_Y="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" />
						<SCRIPT ID="ON_L_BTN_DOWN">
							Net_ReqGiveItemSet(25)
							CloseUI("Select_Item")
						</SCRIPT>
					</BUTTON>
				</FORM>
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK">
			<ATTR X="178" Y="210" W="79" H="28" />
			<ATTR TEXT="400002" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:OnOk()
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="59">
				UISelf:OnOk()
				UISelf:CloseParent()
			</HOTKEY>
		</BUTTON>
		<HOTKEY ID="1">
			UISelf:Close() return true
		</HOTKEY>
	</STATIC_FORM>

	<FORM ID="FRM_MAIN_GAUGEBAR" ALIGN_X="50" Y="57" W="703" H="52" IS_ABSOLUTE_Y="1">
		<ATTR IMG = "../Data/6_ui/mission/msBossBg.tga" IMG_W = "662" IMG_H = "52" TEXT = "" T_X = "63" T_Y = "5" FONT = "FTcts_13" FONT_COLOR_HEX = "0xFFffecae"/>
		<ANI_BAR ID="BAR_HP">
			<ATTR X= "60" Y="27" W="596" H="19"/>
			<ATTR BAR_COUNT = "1"/>
			<ATTR U="1" V="1"/> 
			<ATTR BAR_IMG = "../Data/6_ui/mission/msBossEng.tga" BAR_IMG_W = "596" BAR_IMG_H = "19"/>	
			<ATTR TEXT="" FONT="Font_Text" T_X="298" T_Y="3" T_OUTLINE ="1" T_CENTER ="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</ANI_BAR>
		<ICON ID = "ICN_BOSS" ICON_GRP ="228" ICON_STATIC = "1">
			<ATTR X = "1" Y = "-14" Z = "-1" W = "62" H = "62" IMG_W = "62" IMG_H = "62" IGNORE_PARENT_RECT = "1"/>
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<IMG ID = "IMG_CHAOS" X="41" Y="40" W="17" H="18" Z="1">
				<ATTR IMG="../Data/6_ui/common/cmChaosMsm.tga" IMG_W="17" IMG_H="18"/>
				<SCRIPT ID="ON_CALL"> 
					if( CheckNil(g_world == nil) ) then return false end
					if( CheckNil(g_world:IsNil()) ) then return false end
					UISelf:Visible(g_world:IsHaveWorldAttr(512))
				</SCRIPT>
			</IMG>			
		</ICON>
		<IMG ID="IMG_GROGGY_BG" IS_VISIBLE="0">
			<ATTR X="224" Y="11" Z="-5" W="389" H="12" IMG="../Data/6_ui/mission/msBsSbarBg.tga" IMG_W="389" IMG_H="12"/>
		</IMG>
		<ANI_BAR ID="BAR_GROGGY" IS_VISIBLE="0" X="226" Y="13" Z="-3" W="370" H="12" U="1" V="5" TICK_TIME="100">
			<ATTR BAR_IMG="../Data/6_ui/mission/msBsSbar.tga" BAR_IMG_W="370" BAR_IMG_H="50"/>
			<ATTR BAR_TYPE="3" BAR_COUNT="5"/>
			<SCRIPT ID="ON_CALL">
				UISelf:BarNow(0)
				UISelf:BarMax(0)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">UpdateGroggyNow(UISelf)</SCRIPT>
			<ATTR TEXT="" FONT="Font_Text" T_X="10" T_Y="-5" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</ANI_BAR>
		<ANI_BAR ID="BAR_ELGA02_GROGGY" IS_VISIBLE="0" X="226" Y="13" Z="-3" W="370" H="12" U="1" V="5" TICK_TIME="100">
			<ATTR BAR_IMG="../Data/6_ui/mission/msBsSbar.tga" BAR_IMG_W="370" BAR_IMG_H="50"/>
			<ATTR BAR_TYPE="3" BAR_COUNT="5"/>
			<SCRIPT ID="ON_CALL">
				UISelf:BarNow(0)
				UISelf:BarMax(0)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">UpdateElga02_GroggyNow(UISelf)</SCRIPT>
			<ATTR TEXT="" FONT="Font_Text" T_X="10" T_Y="-5" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</ANI_BAR>
		<ANI_BAR ID="BAR_ELGA02_DOWN_GROGGY" IS_VISIBLE="0" X="226" Y="13" Z="-3" W="370" H="12" U="1" V="5" UV_INDEX="5" TICK_TIME="100">
			<ATTR BAR_IMG="../Data/6_ui/mission/msBsSbar.tga" BAR_IMG_W="370" BAR_IMG_H="50"/>
			<ATTR BAR_TYPE="3" BAR_COUNT="5"/>
			<SCRIPT ID="ON_TICK">UpdateElga02_DownGroggy(UISelf)</SCRIPT>
			<ATTR TEXT="" FONT="Font_Text" T_X="10" T_Y="-5" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</ANI_BAR>
		<IMG ID="IMG_FRENZY_GROGGY_TEXT" IS_VISIBLE="0" X="580" Y="3" W="128" H="32" IMG="../Data/6_ui/mission/msBsSgrgG.tga" IMG_W="90" IMG_H="21" NO_FOCUS="1" PASS_EVENT="1"/>
		<FORM ID="FRM_GROGGY_TEXT" IS_VISIBLE="0" X="552" Y="-9" W="128" H="32">
			<IMG ID="IMG_GROGGY_TEXT" X="0" Y="0" W="150" H="40" IMG="../Data/6_ui/mission/msBsSgrg.tga" IMG_W="150" IMG_H="80" U="1" V="2" NO_FOCUS="1" PASS_EVENT="1">
				<SCRIPT ID="ON_TICK">
					local kWnd = UISelf:GetParent():GetParent():GetControl("BAR_GROGGY")
					local fTime = 0.08
					if false==kWnd:IsNil() and kWnd:GetBarMax() then
						if 0.3 > kWnd:GetBarNow()/kWnd:GetBarMax() then
							fTime = 0.05
						end
					end
					UVAnimation(UISelf, fTime)
				</SCRIPT>
			</IMG>
		</FORM>
		<FORM ID="FRM_FRENZY_BG" IS_VISIBLE="0" X="-94" Y="-100" Z="-10" W="255" H="256">
			<IMG ID="IMG_FRENZY_BG" TICK_TIME="70">
				<ATTR X="0" Y="0" W="255" H="256" IMG="../Data/6_ui/mission/msBsSeft.tga" IMG_W="255" IMG_H="256"/>
				<SCRIPT ID="ON_TICK">
					local kSelf = UISelf
					if 0==g_FrenzyBgAni then
						g_FrenzyBgAni = 1
						kSelf:SetSizeScale(1,true)
					elseif 1==g_FrenzyBgAni then
						g_FrenzyBgAni = 2
						kSelf:SetSizeScale(0.9,true)
					elseif 2==g_FrenzyBgAni then
						g_FrenzyBgAni = 3
						kSelf:SetSizeScale(0.8,true)
					elseif 3==g_FrenzyBgAni then
						g_FrenzyBgAni = 4
						kSelf:SetSizeScale(0.7,true)
					else
						g_FrenzyBgAni = 0
						kSelf:SetSizeScale(1.2,true)
					end
				</SCRIPT>
			</IMG>
		</FORM>
		<IMG ID="IMG_FRENZY_TICK" IS_VISIBLE="0">
			<ATTR X="-6" Y="-21" Z="1" W="66" H="66" IMG="../Data/6_ui/mission/msBsSbxline.tga" IMG_W="228" IMG_H="152"/>
			<ATTR U="3" V="2"/>
			<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.1) </SCRIPT>
		</IMG>
		<ANI_BAR ID="BAR_FRENZY" IS_VISIBLE="0" X="60" Y="13" Z="-10" W="596" H="19" TICK_TIME="100">
			<ATTR BAR_COUNT="1"/>
			<ATTR BAR_IMG="../Data/6_ui/mission/msBsStmline.tga" BAR_IMG_W="609" BAR_IMG_H="47" U="1" V="1"/>
			<SCRIPT ID="ON_CALL">
				UISelf:BarNow(0)
				UISelf:BarMax(0)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">UpdateElitePattenFrenzyTime(UISelf)</SCRIPT>
		</ANI_BAR>
		<SCRIPT ID="ON_TICK">UpdateElitePattenState(UISelf)</SCRIPT>
		<SCRIPT ID="ON_CLOSE"> UICallBossAttrUI(false) </SCRIPT>
		<SCRIPT ID="ON_CALL">SetElitePattenStateUI(UISelf, false)</SCRIPT>
	</FORM>
	
	<FORM ID="FRM_BOSS_GAUGEBAR" ALIGN_X="50" Y="70" W="984" H="33" CAN_DRAG="0" IS_ABSOLUTE_Y="1">
		<ATTR IMG = "../Data/6_ui/boss/bossEgBg.tga" IMG_W = "984" IMG_H = "29"/>
		<ATTR ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID="BG"> 
			<ATTR X="15" Y="4" W="954" H="23"/>
			<ATTR IMG = "../Data/6_ui/boss/bossEg.tga" IMG_W ="954" IMG_H ="92" />
			<ATTR U ="1" V ="4"/>
		</IMG>
		<ANI_BAR ID="BAR_HP">
			<ATTR X= "15" Y="4" W="954" H="23"/>
			<ATTR U ="1" V ="4"/>
			<ATTR BAR_COUNT = "4"/>
			<ATTR BAR_IMG ="../Data/6_ui/Boss/bossEg.tga" BAR_IMG_W = "954" BAR_IMG_H = "92"/>
			<ATTR TEXT="" FONT="Font_Text" T_X="477" T_Y="5" T_OUTLINE ="1" T_CENTER ="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</ANI_BAR>
		<SCRIPT ID="ON_DISPLAY">DisplayBossGaugeBar(UISelf)</SCRIPT>
		<SCRIPT ID="ON_CLOSE"> UICallBossAttrUI(false) </SCRIPT>
	</FORM>
	
	<FORM ID="FRM_BAR_BOSS">
		<ATTR ALIGN_X="50" Y="20" W="984" H="33" CAN_DRAG="0"/>
		<ATTR IMG = "../Data/6_ui/boss/bossEgBg.tga" IMG_W = "984" IMG_H = "29"/>

		<IMG ID="BG"> 
			<ATTR X="15" Y="4" W="950" H="80" />
			<ATTR IMG = "../Data/6_ui/boss/bossEg.tga" IMG_W = "954" IMG_H = "92" />
			<ATTR U = "1" V = "4"/> 
		</IMG>
		<ANI_BAR ID="BAR_BOSS_HP">
			<ATTR X= "15" Y="4" W="954" H="23"/>
			<ATTR U = "1" V = "4"/> 
			<ATTR BAR_IMG = "../Data/6_ui/Boss/bossEg.tga" BAR_IMG_W = "954" BAR_IMG_H = "92"/>	
			<ATTR BAR_COUNT = "4"/>
			<SCRIPT ID="ON_DISPLAY">
     			DisplayBossHPBar()
			</SCRIPT>
			<ATTR TEXT="" FONT="Font_Text" T_X="476" T_Y="3" T_OUTLINE ="1" T_CENTER ="1"/>
			<SCRIPT ID="ON_BAR_FULL">
			</SCRIPT>	
		</ANI_BAR>  
		<SCRIPT ID="ON_CLOSE"> UICallBossAttrUI(false) </SCRIPT>
	</FORM>

	<FORM ID="FRM_BOSS_ATTR_INFO" NO_FOCUS="1" PASS_EVENT="1">
		<ATTR X="0" Y="0" W="395" H="32" IS_ABSOLUTE_Y="1"/>
		<BUILD ID="BLD_BG" X="0" Y="0" X_COUNT="5" Y_COUNT="1" X_GAB="79" Y_GAB="0" TARGET_ID="FRM_BG"/>
		<FORM ID="FRM_BG" X="0" Y="0" W="79" H="32">
			<SCRIPT ID = "ON_CALL"> UI_T_Y_ToCenter(UISelf)</SCRIPT>
			<ATTR IMG="../Data/6_ui/mission/msAttributeBg.tga" IMG_W="79" IMG_H="29"/>
			<ATTR T_X="37" T_Y="-1" FONT="Font_Chat" FONT_COLOR_HEX="0xFFfff568" T_OUTLINE="1" T_BOLD="1" TEXT="799316"/>
			<FORM ID="FRM_ICON" X="3" Y="0" W="32" H="32">
				<ATTR IMG="../Data/6_ui/icon/iconAttribute.tga" IMG_W="96" IMG_H="64"/>
				<ATTR U="3" V="2" UV_INDEX="1"/>
			</FORM>
		</FORM>
	</FORM>

	<FORM ID ="SKILL_CASTTIME_BAR">
		<ATTR X="0" Y="0" W="150" H="15"/>
		<ATTR IMG="../Data/6_UI/09_SKILL/skillBarBg.tga" IMG_W="150" IMG_H="15"/>
		<SCRIPT ID="ON_CALL">
--			UISelf:Visible(false);
		</SCRIPT>
		<SCRIPT ID="ON_DISPLAY">
			UISelf:SetLocationToMyActor(Point2(-75,50),"char_root");
		</SCRIPT>
		<FORM ID="BG_BAR">
			<ATTR X="4" Y="4" W="144" H="9"/>
			<ATTR IMG="../Data/6_UI/09_SKILL/skillBar2.tga" IMG_W="144" IMG_H="9"/>
			<ANI_BAR ID="ANIBAR" BAR_TYPE = "0" >
				<ATTR X="0" Y="0" W="144" H="9"/>
				<ATTR U="1" V="1"/>
				<ATTR BAR_IMG ="../Data/6_UI/main/skillBar1.tga" BAR_IMG_W="144" BAR_IMG_H="9"/>
				<SCRIPT ID="ON_DISPLAY">
					UISelf:DisplayTimeBar(false)
					local wndspk = UISelf:GetControl("IMG_SPARK")
					if wndspk:IsNil() == false then
						local inow = UISelf:GetBarNow()
						local imax = UISelf:GetBarMax()
						local iw = UISelf:GetSize():GetX()
						local ix = inow/imax*iw
						wndspk:SetLocation(Point2(ix-30, -28))
					end
				</SCRIPT>
				<SCRIPT ID="ON_BAR_FULL">
					UISelf:GetParent():GetParent():Visible(false);
				</SCRIPT>
				<ATTR BAR_COUNT="1"/>
				<IMG ID = "IMG_SPARK">
					<ATTR X = "0" Y = "0" W = "64" H = "64" IMG = "../Data/6_UI/main/spot.tga" IMG_W = "128" IMG_H = "128" U = "2" V = "2" UV_INDEX = "1" />
					<SCRIPT ID = "ON_DISPLAY">
						if GetAccumTime() - g_fSparkTime > 0.05 then
							local iNow = UISelf:GetUVIndex()
							g_fSparkTime = GetAccumTime()
							iNow = iNow + 1
							if iNow > 3 then
								iNow = 1
							end
							UISelf:SetUVIndex(iNow)
						end
					</SCRIPT>
					<SCRIPT ID = "ON_CALL">
						g_fSparkTime = GetAccumTime()
					</SCRIPT>
				</IMG>
			</ANI_BAR>
		</FORM>
	</FORM>

	<FORM ID ="SKILL_MAINTENANCETIME_BAR">
		<ATTR X="0" Y="0" W="150" H="15"/>
		<ATTR IMG="../Data/6_UI/09_SKILL/skillBarBg.tga" IMG_W="150" IMG_H="15"/>
		<SCRIPT ID="ON_CALL">
			UISelf:Visible(false);
		</SCRIPT>
		<SCRIPT ID="ON_DISPLAY">
			UISelf:SetLocationToMyActor(Point2(-75,65),"char_root");
		</SCRIPT>
		<FORM ID="BG_BAR">
			<ATTR X="4" Y="4" W="144" H="9"/>
			<ATTR IMG="../Data/6_UI/09_SKILL/skillBar2.tga" IMG_W="144" IMG_H="9"/>
			<ANI_BAR ID="ANIBAR" BAR_TYPE = "1" >
				<ATTR X="0" Y="0" W="144" H="9"/>
				<ATTR U="1" V="1"/>
				<ATTR BAR_IMG ="../Data/6_UI/main/skillBar1.tga" BAR_IMG_W="144" BAR_IMG_H="9"/>
				<ATTR BAR_COUNT="1"/>
				<SCRIPT ID="ON_DISPLAY">
					UISelf:DisplayTimeBar(false)
				</SCRIPT>
				<SCRIPT ID="ON_BAR_FULL">
					UISelf:GetParent():GetParent():Visible(false);
				</SCRIPT>

			</ANI_BAR>
		</FORM>
	</FORM>

	<STATIC_FORM ID="SFRM_MSG_COMMON" PRIORITY="99">	
		<ATTR ALIGN_X="50" ALIGN_Y="23" W="208" H="127" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="190" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="190" H="75" STATIC_NUM="3" />
				<ATTR TEXT="" FONT="Font_Text" T_X="95" T_Y="30" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK">
			<ATTR X="63" Y="88" W="79" H="28" />
			<ATTR TEXT="3163" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>			
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</SCRIPT>
			<HOTKEY ID="1">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
			<HOTKEY ID="28">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
			<HOTKEY ID="59">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
		</BUTTON>
		<SCRIPT ID = "ON_CLOSE">
			local wnd = GetUIWnd("LoginDlg")
			if wnd:IsNil() == false then
			wnd:GetControl("TRY_LOGIN"):SetClose(false)
			end
			OnMsgBoxClose(UISelf)
		</SCRIPT>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_MIDDLE_MSG_COMMON" PRIORITY="99">	
		<ATTR ALIGN_X="50" Y="180" W="300" H="170" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR" X="9" Y="7" W="282" H="125" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFR_SDW_BG" X="0" Y="0" W="282" H="125" STATIC_NUM="3"/>
			<FORM ID="SFR_SDW" X="4" Y="0" W="278" H="125">
				<ATTR TEXT="" FONT="FTcts_13" T_X="135" T_Y="50" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK" X="113" Y="134" W="79" H="28">
			<ATTR TEXT="3163" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>			
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</SCRIPT>
			<HOTKEY ID="1">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
			<HOTKEY ID="28">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
			<HOTKEY ID="59">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
		</BUTTON>
		<SCRIPT ID = "ON_CLOSE">
			local wnd = GetUIWnd("LoginDlg")
			if wnd:IsNil() == false then
			wnd:GetControl("TRY_LOGIN"):SetClose(false)
			end
			OnMsgBoxClose(UISelf)
		</SCRIPT>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_MIDDLE_MSG_COMMON_QUIT" PRIORITY="99">	
		<ATTR ALIGN_X="50" Y="180" W="300" H="170" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR" X="9" Y="7" W="282" H="125" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFR_SDW_BG" X="0" Y="0" W="282" H="125" STATIC_NUM="3"/>
			<FORM ID="SFR_SDW" X="4" Y="0" W="278" H="125">
				<ATTR TEXT="" FONT="FTcts_13" T_X="135" T_Y="50" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK" X="113" Y="134" W="79" H="28">
			<ATTR TEXT="3163" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>			
			<SCRIPT ID="ON_L_BTN_DOWN">
				ExitClient()
				return true
			</SCRIPT>
			<HOTKEY ID="1">
				ExitClient()
				return true
			</HOTKEY>			
			<HOTKEY ID="59">
				ExitClient()
				return true
			</HOTKEY>
		</BUTTON>		
	</STATIC_FORM>

	<STATIC_FORM ID="SFRM_MSG_LOCK">
		<ATTR ALIGN_X="50" ALIGN_Y="50" W="508" H="204" CAN_DRAG="0" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_MEMO">
			<ATTR X="9" Y="7" W="490" H="186" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<ATTR TEXT="" FONT="Font_Text" T_X="245" T_Y="53" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
		</STATIC_FORM>
		<BUTTON ID="BTN_OK">
			<ATTR X="205" Y="155" W="79" H="28" />
			<ATTR TEXT="400002" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">CloseUI("SFRM_MSG_LOCK")</SCRIPT>
		</BUTTON>
	</STATIC_FORM>
	
	<!--<STATIC_FORM ID="SFRM_MSG_COMMON_CANCEL" USE_OFFSCREEN="1">	
		<ATTR ALIGN_X="50" Y="180" W="208" H="127" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="190" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="190" H="75" STATIC_NUM="3" />
				<ATTR TEXT="" FONT="Font_Text" T_X="95" T_Y="30" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK">
			<ATTR X="63" Y="88" W="79" H="28" />
			<ATTR TEXT="400844" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_SendUIPacket(UISelf)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>
		<SCRIPT ID = "ON_CLOSE">
			UISelf:CloseParent()
		</SCRIPT>		
	</STATIC_FORM>	-->
	
	<STATIC_FORM ID="SFRM_MSG_COMMON_CANCEL" X="260" Y="100" W="202" H="160" PRIORITY="99">
		<ATTR ALIGN_X="50" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_TIMER_COUNT" X="10" Y="8" W="184" H="25" STATIC_NUM="34">
			<ATTR TEXT="" T_X="90" T_Y="3" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" T_CENTER="1"/>
			<SCRIPT ID="ON_TICK">
				local kSelf = UISelf
				local fEndTime = kSelf:GetCustomDataAsFloat()
				local iRemain = math.floor( fEndTime - GetAccumTime() )
				if 0 > iRemain then iRemain = 0 end
				local kText = string.gsub( GetTextW(71020):GetStr(), "#MIN#", math.floor(iRemain / 3600) )
				if 10 > iRemain then kText = "{C=0xFFFF0000/}" .. kText end
				iRemain = iRemain % 3600
				local iValue = math.floor(iRemain / 60);
				if 10 > iValue then kText = string.gsub( kText, "#SEC#", "0" .. iValue )
				else kText = string.gsub( kText, "#SEC#", iValue ) end
				local iValue = iRemain % 60;
				if 10 > iValue then kText = string.gsub( kText, "#MS#", "0" .. iValue )
				else kText = string.gsub( kText, "#MS#", iValue ) end
				kSelf:SetStaticText( kText )
			</SCRIPT>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_COLOR" X="9" Y="35" W="184" H="80" STATIC_NUM="2" COLOR_TYPE="1" CAN_COLOR_CHANGE="1">
				<STATIC_FORM ID="SFR_SDW" X="6" Y="5" W="171" H="69" STATIC_NUM="6" COLOR_TYPE="3" CAN_COLOR_CHANGE="1">	
					<ATTR TEXT="450052" T_X="84" T_Y="4" FONT="FTbt_12" FONT_COLOR_HEX="0xFF4D3413" T_CENTER="1"/>
				</STATIC_FORM>
		</STATIC_FORM>	
		
		<BUTTON ID="BTN_OK" X="56" Y="120" W="79" H="31" >
			<ATTR TEXT="400844" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_SendUIPacket(UISelf)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>
		<SCRIPT ID = "ON_CLOSE">
			OnMsgBoxClose(UISelf)
			UISelf:CloseParent()
		</SCRIPT>		
	</STATIC_FORM>	
	
	<STATIC_FORM ID="SFRM_MSG_COMMON_YESNO" PRIORITY="99">	
		<ATTR ALIGN_X="50" Y="180" W="258" H="127" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="240" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="240" H="75" STATIC_NUM="3" />
				<ATTR TEXT="" FONT="Font_Text" T_X="10" T_Y="30" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK">
			<ATTR X="45" Y="88" W="79" H="28" />
			<ATTR TEXT="400533" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_SendUIPacket(UISelf)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_CANCLE">
			<ATTR X="130" Y="88" W="79" H="28" />
			<ATTR TEXT="400534" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_SendUIPacket(UISelf)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>
		<SCRIPT ID = "ON_CLOSE">
			OnMsgBoxClose(UISelf)
		</SCRIPT>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_MSG_SUMMONPARTYMEMBER_YESNO">	
		<ATTR ALIGN_X="50" Y="180" W="258" H="127" CAN_DRAG="1" STATIC_NUM="1" USE_OFFSCREEN="1"/>	
		<STATIC_FORM ID="SFRM_COLOR1">
			<ATTR X="9" Y="7" W="240" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW1">
				<ATTR X="0" Y="0" W="240" H="75" STATIC_NUM="3" />
				<ATTR TEXT="" FONT="Font_Text" T_X="120" T_Y="16" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>
		<BUTTON ID="BTN_OK">
			<ATTR X="45" Y="88" W="79" H="28" />
			<ATTR TEXT="400533" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_SendUIPacket(UISelf)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_CANCLE">
			<ATTR X="130" Y="88" W="79" H="28" />
			<ATTR TEXT="400534" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_SendUIPacket(UISelf)
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>
		<SCRIPT ID="ON_CALL">
			g_fSummonPartyMemberTime = GetAccumTime()
			g_fSummonPartyMemberCount = 15
			kSummonPartyMemberName = 0
		</SCRIPT>			
		<SCRIPT ID = "ON_TICK">
			if g_fSummonPartyMemberTime ~= nil then
				if GetAccumTime() - g_fSummonPartyMemberTime >= 1 then
					g_fSummonPartyMemberTime = GetAccumTime()
					g_fSummonPartyMemberCount = g_fSummonPartyMemberCount - 1
					if g_fSummonPartyMemberCount >= 0 then
						local sdw = UISelf:GetControl("SFRM_COLOR1"):GetControl("SFR_SDW1")
						if false == sdw:IsNil() then
							local kName = kSummonPartyMemberName
							sdw:SetStaticText( string.format(GetTextW(401311):GetStr(), kName, g_fSummonPartyMemberCount) )
						end						
					else
						UISelf:Close()
						return					
					end
				end
			end
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			UISelf:CloseParent()
		</SCRIPT>
	</STATIC_FORM>	

	<FORM ID = "FRM_MAPLIST_ELE" X="0" Y="0" W="170" H="31">
		<ATTR TEXT = "" FONT = "Font_Text" T_X = "32" T_Y ="3" />
		<CHECK_BUTTON ID = "CBTN_CHECK" X="0" Y="0" W="20" H="20" BTN_CLICK_LOCK="1">
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W = "40" BTN_IMG_H = "40"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">OnClick_SelectMapItem(UISelf)</SCRIPT>
		</CHECK_BUTTON>
	</FORM>
  
	<STATIC_FORM ID = "SFRM_SELECT_MAP" ALIGN_X = "50" ALIGN_Y = "50" W ="215" H ="241">
		<ATTR CAN_DRAG = "0" STATIC_NUM = "1"/>
		<SCRIPT ID = "ON_CALL"> RegistUIAction(UISelf, "CloseUI") LockPlayerInputMove(15) LockPlayerInput(15)</SCRIPT>
		<SCRIPT ID="ON_CLOSE"> UnLockPlayerInputMove(15) UnLockPlayerInput(15)</SCRIPT>
		<STATIC_FORM ID = "SFRM_TITLE" X = "1" Y = "0" W ="213" H ="36" STATIC_NUM = "4">
			<STATIC_FORM ID = "SFRM_CLOSE_BG" X = "182" Y = "4" W ="24" H ="24">
				<ATTR STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
				<BUTTON ID = "Close" X = "0" Y = "0" W ="24" H ="24">
					<ATTR BTN_IMG = "../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W = "48" BTN_IMG_H = "48"/>
					<SCRIPT ID = "ON_L_BTN_DOWN">CloseUI("SFRM_SELECT_MAP") </SCRIPT>
					<HOTKEY ID = "1">CloseUI("SFRM_SELECT_MAP") return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_TAB_BG" X = "7" Y = "4" W ="84" H ="24">
				<ATTR STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
				<CHECK_BUTTON ID = "CBTN_TITLE" X = "0" Y = "0" W ="84" H ="24">
					<ATTR BTN_IMG = "../Data/6_ui/common/cmTabB.tga" BTN_IMG_W = "168" BTN_IMG_H = "48" BTN_CLICK_LOCK="1"/>
					<ATTR TEXT = "301" FONT = "FTtitle_14" T_X = "36" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
					<SCRIPT ID = "ON_CALL"> UISelf:CheckState(true) </SCRIPT>                                              
				</CHECK_BUTTON>
			</STATIC_FORM>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_COLOR" X = "9" Y = "35" W ="197" H ="161">
			<ATTR STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
			<STATIC_FORM ID = "SFRM_SDW" X = "0" Y = "0" W ="197" H ="161" STATIC_NUM = "3">
				<STATIC_FORM ID = "SFRM_MAP_NAME" X = "6" Y = "6" W ="185" H ="25">
					<ATTR STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
					<ATTR TEXT = "" FONT = "Font_Text" T_X = "10" T_Y ="3" T_OUTLINE="0"/>
					<IMG ID="IMG_LINE_1" X="2" Y="56" W="181" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="181" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
					<IMG ID="IMG_LINE_2" X="2" Y="57" W="181" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="181" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
					<IMG ID="IMG_LINE_3" X="2" Y="87" W="181" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="181" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
					<IMG ID="IMG_LINE_4" X="2" Y="88" W="181" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="181" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
					<IMG ID="IMG_LINE_5" X="2" Y="118" W="181" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="181" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
					<IMG ID="IMG_LINE_6" X="2" Y="119" W="181" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="181" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
				</STATIC_FORM>
			</STATIC_FORM>
		</STATIC_FORM>
		
		<LIST ID = "MapList" X = "21" Y = "75" Z="1" W = "182" H = "130">
			<ATTR ELEMENT_ID = "FRM_MAPLIST_ELE"  ITEM_X = "0" ITEM_Y = "0" CAN_SELECT = "1"/>
			<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
			<HOTKEY ID="121"> OnKeyDown_SelectMapMove( -1 ) </HOTKEY>
			<HOTKEY ID="126"> OnKeyDown_SelectMapMove( 1 ) </HOTKEY>
			<HOTKEY ID="28"> OnClick_EnterSelectMap(UISelf:GetParent()) return true </HOTKEY>
			<HOTKEY ID="106"> OnClick_EnterSelectMap(UISelf:GetParent()) return true </HOTKEY>
			<!--HOTKEY ID="57"> OnClick_EnterSelectMap(UISelf:GetParent()) return true </HOTKEY-->
		</LIST>
		
		<BUTTON ID = "BTN_ENTER" X="65" Y="202" W="84" H="26">
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "400206" FONT = "Font_Text" T_X = "40" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> OnClick_EnterSelectMap(UISelf:GetParent()) </SCRIPT>
		</BUTTON>
	</STATIC_FORM>  
	
	<FORM ID = "FRM_TOWN_NAME">
		<ATTR X = "455" Y = "50" W = "115" H = "105" PASS_EVENT = "1" PRIORITY="5" />
		<IMG ID="IMG_LEFT" X="0" Y="0" Z="1" W="50" H="105" IMG="../Data/6_UI/quest/qsTitleBg01.tga" IMG_W="50" IMG_H="104" />
		<IMG ID="IMG_CENTER">
			<ATTR X="50" Y="0" Z="0" W="15" H="105" IMG="../Data/6_UI/quest/qsTitleBody.tga" IMG_W="15" IMG_H="104" />
			<ATTR TEXT = "" T_X = "10" T_Y = "33" T_OUTLINE="1" T_CENTER = "1" FONT = "QTtext_Title" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</IMG>
		<IMG ID="IMG_RIGHT" X="65" Y="0" Z="1" W="50" H="105" IMG="../Data/6_UI/quest/qsTitleBg02.tga" IMG_W="50" IMG_H="104" />
		<SCRIPT ID = "ON_CALL">
			fTownScrTime = GetAccumTime()
			local sz = Point2(115, 105)
			UISelf:SetSize(sz)
			local wndCenter = UISelf:GetControl("IMG_CENTER")
			wndCenter:SetStaticText("")
			sz:SetX(15)
			wndCenter:SetSize(sz)
			wndCenter:SetImgSize(sz)
			wndCenter:SetTextPos(Point2(0, 33))
			UISelf:GetControl("IMG_RIGHT"):SetLocation(Point2(65, 0)) 
			UISelf:SetLocation(Point2(455+(UISelf:GetResolutionGap():GetX()/2),50))
		</SCRIPT>
		<SCRIPT ID = "ON_TICK">
			local fDelta = GetAccumTime() - fTownScrTime
			if 0.5 > fDelta then
				return
			end
			fDelta = fDelta - 0.5
			local szText = GetMapNameW(g_mapNo):Length()
			local wndCenter = UISelf:GetControl("IMG_CENTER")
			if fDelta > 4.0 then
				wndCenter:SetStaticText("")
				local sz = Point2(15, 105)
				sz:SetX(15)
				wndCenter:SetSize(sz)
				wndCenter:SetImgSize(sz)
				UISelf:GetControl("IMG_RIGHT"):SetLocation(Point2(65, 0))
				UISelf:SetLocation(Point2(455+(UISelf:GetResolutionGap():GetX()/2),50))
				UISelf:Close()
			elseif 0.3 > fDelta then
				wndCenter:SetStaticText("")
				local fAdd = fDelta/0.3*szText*20
				local sz = Point2(115+fAdd, 105)
				UISelf:SetSize(sz)
				wndCenter:SetSize(Point2(15+fAdd, 105))
				wndCenter:SetImgSize(Point2(15+fAdd, 105))
				UISelf:GetControl("IMG_RIGHT"):SetLocation(Point2(65+fAdd, 0))
				local wndSize = UISelf:GetSize():GetX()
				UISelf:SetLocation(Point2(512+(UISelf:GetResolutionGap():GetX()/2)-UISelf:GetSize():GetX()*0.5,50))
			else
				local fAdd = szText*25
				wndCenter:SetSize(Point2(15+fAdd, 105))
				wndCenter:SetImgSize(Point2(15+fAdd, 105))
				wndCenter:SetTextPos(Point2(wndCenter:GetSize():GetX()*0.50, 33))
				wndCenter:SetStaticTextW(GetMapNameW(g_mapNo))
				UISelf:GetControl("IMG_RIGHT"):SetLocation(Point2(65+fAdd, 0))
				local sz = UISelf:GetSize()
				sz:SetX(115+fAdd)
				UISelf:SetSize(sz)
				local iii = 512+(UISelf:GetResolutionGap():GetX()/2)-sz:GetX()*0.5
				UISelf:SetLocation(Point2(iii,50))
			end
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			OnCloseTownName(GetVisitFirstMap())
		</SCRIPT>
	</FORM>	

	<FORM ID="FRM_ROADSIGN" X="455" Y="50" W="115" H="105" PASS_EVENT="1">
		<IMG ID="IMG_LEFT" X="0" Y="0" Z="1" W="50" H="105" IMG="../Data/6_UI/quest/qsTitleBg01.tga" IMG_W="50" IMG_H="104"/>
		<IMG ID="IMG_CENTER">
			<ATTR X="50" Y="0" Z="0" W="15" H="105" IMG="../Data/6_UI/quest/qsTitleBody.tga" IMG_W="15" IMG_H="104"/>
			<ATTR TEXT="" T_X="10" T_Y="33" T_OUTLINE="1" T_CENTER="1" FONT="QTtext_Title" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</IMG>
		<IMG ID="IMG_RIGHT" X="65" Y="0" Z="1" W="50" H="105" IMG="../Data/6_UI/quest/qsTitleBg02.tga" IMG_W="50" IMG_H="104"/>
		<SCRIPT ID="ON_CALL">RoadSignInit(UISelf)</SCRIPT>
		<SCRIPT ID="ON_TICK">
			local fDelta = GetAccumTime() - g_RoadSign["AniScrTime"]
			if 0.5 > fDelta then
				return
			end
			fDelta = fDelta - 0.5
			local szText = GetTT(g_RoadSign["TEXT_NO"]):Length()
			local wndCenter = UISelf:GetControl("IMG_CENTER")
			if fDelta > g_RoadSign["DisplayTime"] then
				wndCenter:SetStaticText("")
				local sz = Point2(15, 105)
				sz:SetX(15)
				wndCenter:SetSize(sz)
				wndCenter:SetImgSize(sz)
				UISelf:GetControl("IMG_RIGHT"):SetLocation(Point2(65, 0))
				UISelf:SetLocation(Point2(455+(UISelf:GetResolutionGap():GetX()/2),50))
				UISelf:Close()
			elseif 0.3 > fDelta then
				wndCenter:SetStaticText("")
				local fAdd = fDelta/0.3*szText*20
				local sz = Point2(115+fAdd, 105)
				UISelf:SetSize(sz)
				wndCenter:SetSize(Point2(15+fAdd, 105))
				wndCenter:SetImgSize(Point2(15+fAdd, 105))
				UISelf:GetControl("IMG_RIGHT"):SetLocation(Point2(65+fAdd, 0))
				local wndSize = UISelf:GetSize():GetX()
				UISelf:SetLocation(Point2(512+(UISelf:GetResolutionGap():GetX()/2)-UISelf:GetSize():GetX()*0.5,50))
			else
				local fAdd = szText*25
				wndCenter:SetSize(Point2(15+fAdd, 105))
				wndCenter:SetImgSize(Point2(15+fAdd, 105))
				wndCenter:SetTextPos(Point2(wndCenter:GetSize():GetX()*0.50, 33))
				wndCenter:SetStaticTextW(GetTT(g_RoadSign["TEXT_NO"]))
				UISelf:GetControl("IMG_RIGHT"):SetLocation(Point2(65+fAdd, 0))
				local sz = UISelf:GetSize()
				sz:SetX(115+fAdd)
				UISelf:SetSize(sz)
				local iii = 512+(UISelf:GetResolutionGap():GetX()/2)-sz:GetX()*0.5
				UISelf:SetLocation(Point2(iii,50))
			end
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			if true==g_RoadSign["OpenMinimap"] then
				CallWorldMap(true)
			end
			g_RoadSign["OpenMinimap"] = false
		</SCRIPT>
	</FORM>

	<STATIC_FORM ID="SFRM_COIN_CHANGER">
		<ATTR ALIGN_X="50" ALIGN_Y="50" W="242" H="272" CAN_DRAG="1" STATIC_NUM="1" UNIQUE_EXIST_TYPE="NO_DUPLICATE"/>
		<SCRIPT ID = "ON_CALL"> 
			UISelf:SetCustomDataAsInt(0) 
			RegistUIAction(UISelf, "CloseUI")
		</SCRIPT>
		<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">CloseToolTip()</SCRIPT>
		<STATIC_FORM ID="SFRM_TITLE">
			<ATTR X="1" Y="0" W="240" H="36" STATIC_NUM="4"/>
			<STATIC_FORM ID="SFRM_COLORBOX">
				<ATTR X="7" Y="4" W="84" H="24" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
				<CHECK_BUTTON ID="CBTN_TITLE">
					<ATTR X="0" Y="0" W="84" H="24" />
					<ATTR BTN_IMG ="../Data/6_ui/common/cmTabB.tga" BTN_IMG_W="168" BTN_IMG_H="48"/>
					<ATTR TEXT="550001" FONT="FTtitle_14" T_X="36" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
					<SCRIPT ID="ON_CALL">
						UISelf:CheckState(true)
						UISelf:LockClick(true)
					</SCRIPT>
				</CHECK_BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_EXIT">
				<ATTR X="209" Y="4" W="24" H="24" CAN_COLOR_CHANGE = "1" STATIC_NUM = "2" COLOR_TYPE = "1"/>
				<BUTTON ID="BTN_CLOSE">
					<ATTR X="0" Y="0" W="24" H="24" />
					<ATTR BTN_IMG = "../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W = "48" BTN_IMG_H = "48"/>
					<SCRIPT ID="ON_L_BTN_DOWN">
						CloseUI("SFRM_COIN_CHANGER")
					</SCRIPT>
				</BUTTON>
			</STATIC_FORM>
		</STATIC_FORM>
		
		<BUTTON ID="BTN_OK">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<ATTR X="36" Y="233" W="84" H="26" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmbtbg.tga" BTN_IMG_W="168" BTN_IMG_H="52" />
			<ATTR FONT="FTbt_12" T_X="42" T_Y="6" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">SendBuyCoinItem(UISelf:GetParent()) return true</SCRIPT>
			<HOTKEY ID="59">SendBuyCoinItem(UISelf:GetParent()) return true</HOTKEY>
		</BUTTON>
		
		<BUTTON ID="BTN_CANCEL">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>			
			<ATTR X="122" Y="233" W="84" H="26" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmbtbg.tga" BTN_IMG_W="168" BTN_IMG_H="52" />
			<ATTR FONT="FTbt_12" T_X="42" T_Y="6" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>			
		</BUTTON>
		
		<STATIC_FORM ID="FRM_BACKGROUND">
			<ATTR X="9" Y="35" W="224" H="192" Z="1" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFRM_BG_SHADOW">
				<ATTR X="0" Y="0" W="224" H="192" STATIC_NUM="3"/>
				<IMG ID="IMG_LINE_1" X="59" Y="11" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
				<IMG ID="IMG_LINE_2" X="60" Y="11" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
				<IMG ID="IMG_LINE_3" X="112" Y="11" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
				<IMG ID="IMG_LINE_4" X="113" Y="11" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
				<IMG ID="IMG_LINE_5" X="165" Y="11" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
				<IMG ID="IMG_LINE_6" X="166" Y="11" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
				<IMG ID="IMG_LINE_7" X="59" Y="102" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
				<IMG ID="IMG_LINE_8" X="60" Y="102" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
				<IMG ID="IMG_LINE_9" X="112" Y="102" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
				<IMG ID="IMG_LINE_10" X="113" Y="102" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
				<IMG ID="IMG_LINE_11" X="165" Y="102" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
				<IMG ID="IMG_LINE_12" X="166" Y="102" W="1" H="81" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="1" IMG_H="81" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			</STATIC_FORM>
		</STATIC_FORM>

		<BUILD ID = "BLD_ITEM_VAL" TARGET_ID="FRM_ITEM_VAL" X="9" Y="35" X_COUNT = "4" Y_COUNT = "2" X_GAB = "53" Y_GAB = "89"/>
		<FORM ID="FRM_ITEM_VAL">
			<ATTR X="0" Y="0" W="53" H="89" Z="2"/>
			<STATIC_FORM ID="SFRM_IMG">
				<ATTR X="12" Y="9" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_TEXT">
				<ATTR X="10" Y="53" W="46" H="41" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
				<ATTR TEXT="550002" T_X="23" T_Y="4" FONT_COLOR_HEX="0xFF4D3413" T_CENTER="1"/>
				<SCRIPT ID = "ON_CALL">  </SCRIPT>
			</STATIC_FORM>
			<IMG ID="ICN_ITEM_ICON">
				<ATTR X="12" Y="9" W="42" H="42" Z="2" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE = "1"/>
				<SCRIPT ID="ON_DISPLAY"> DrawMissionRewardItem(UISelf)</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			</IMG>
			<CHECK_BUTTON ID="CBTN_SELECT_ITEM">
				<ATTR X="12" Y="9" W="42" H="42" Z="3" PASS_EVENT = "1" />
				<ATTR BTN_IMG ="../Data/6_ui/common/cmIconOver02.tga" BTN_IMG_W="84" BTN_IMG_H="84"/>
				<SCRIPT ID="ON_CALL">
					UISelf:CheckState(false)
					UISelf:LockClick(false)
				</SCRIPT>
				<SCRIPT ID="ON_L_BTN_DOWN">SelectCoinItem(UISelf)</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			</CHECK_BUTTON>
		</FORM>
		<HOTKEY ID="1"> UISelf:Close() return true </HOTKEY>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_SEAL_PROCESS" UNIQUE_EXIST_TYPE="NO_DUPLICATE">
		<ATTR ALIGN_X="50" ALIGN_Y="50" W="231" H="366" STATIC_NUM="1" CAN_DRAG="1"/>
		<HOTKEY ID="1">UISelf:Close() return true</HOTKEY>
		<STATIC_FORM ID="SFRM_TITLEBAR">
			<ATTR X="1" Y="0" W="229" H="36" Z="1" STATIC_NUM="4"/>
			<STATIC_FORM ID="SFRM_NAME_BG">
				<ATTR X="7" Y="4" W="142" H="24" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
				<ATTR TEXT="406002" T_X="67" T_Y="4" T_CENTER="1" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413"/>				
			</STATIC_FORM>
			<FORM ID="SFRM_NAME_TAB">
				<ATTR X="7" Y="4" W="120" H="24"  U="1" V="4"/>
				<ATTR IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" UV_INDEX="3"/>
			</FORM>			
			<FORM ID="FRM_BTN_BG">
				<ATTR X="206" Y="10" W="12" H="11" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
				<ATTR IMG="../Data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11"/>
			</FORM>
			<BUTTON ID="BTN_CLOSE">
				<ATTR BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48" X="198" Y="4" W="24" H="24"/>
				<SCRIPT ID="ON_L_BTN_UP"> CloseUI("SFRM_SEAL_PROCESS") </SCRIPT>
			</BUTTON>
		</STATIC_FORM>
		
		<STATIC_FORM ID="SFRM_BACKGROUND">
			<ATTR X="9" Y="35" W="213" H="258" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFRM_SHADOW">
				<ATTR X="0" Y="0" W="213" H="258" STATIC_NUM="3" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			</STATIC_FORM>
			<FORM ID="IMG_ARROW">
				<ATTR X="9" Y="15" W="195" H="6"/>
				<ATTR IMG="../Data/6_ui/common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
				<ATTR TEXT="406001" T_X="7" T_Y="-5" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			</FORM>
			<IMG ID="IMG_LINE1" X="8" Y="29" W="197" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="197" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE2" X="8" Y="30" W="197" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="197" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
		</STATIC_FORM>
		<LIST ID="LIST_SEAL_ITEMS" X="14" Y="68" W="187" H="220">
			<ATTR ELEMENT_ID="FRM_SEAL_PROCESS_ITEM" ITEM_X="0" ITEM_Y="0"/>
			<IMG ID="QUEST_LIST_SCROLL_BG">
				<ATTR X="190" Y="15" Z="-1" W="13" H="200" IMG="../Data/6_ui/Common/cmScrollBg.tga" IMG_W="13" IMG_H="200"/>
			</IMG>
			<BUTTON ID="BTN_SCR_UP">
				<ATTR X="186" Y="0" W="20" H="15"/>
				<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollUp.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			</BUTTON>
			<BUTTON ID="BTN_SCR_DOWN">
				<ATTR X="186" Y="205" W="20" H="15"/>
				<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollDn.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			</BUTTON>
			<BUTTON ID="BTN_SCR_MIDDLE">
				<ATTR X="188" Y="15" W="18" H="21"/>
				<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42"/>
			</BUTTON>
			<ATTR BTN_UP="BTN_SCR_UP" BTN_DOWN="BTN_SCR_DOWN" BTN_MIDDLE="BTN_SCR_MIDDLE" WND_BAR="QUEST_LIST_SCROLL_BG"/>
		</LIST>
		<BUTTON ID="SELECT_ALL_BTN" X="72" Y="297" W="84" H="26" Z="1" TEXT="790255">
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR T_X="42" T_Y="4" FONT="FTbt_12" T_CENTER="1"BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">
				UISelf:SetCustomDataAsInt(0)
				UISelf:SetStaticTextW(GetTT(790255))
			</SCRIPT>	
			<SCRIPT ID="ON_L_BTN_DOWN">
				local Type = UISelf:GetCustomDataAsInt()
				if 0 == Type then
					UISelf:SetStaticTextW(GetTT(790256))
					UISelf:SetCustomDataAsInt(1)
				else
					UISelf:SetStaticTextW(GetTT(790255))
					UISelf:SetCustomDataAsInt(0)
				end
				ItemSealProcessSelectAll()
			</SCRIPT>
			<SCRIPT ID="ON_CLOSE"> UISelf:ClearCustomData() </SCRIPT>			
		</BUTTON>
		
		<BUTTON ID="BTN_OK">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<ATTR X="31" Y="327" W="84" H="26"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR T_X="42" T_Y="4" FONT="FTbt_12" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">  ItemSealProcessSendPacket(UISelf:GetParent())  </SCRIPT>
			<HOTKEY ID="59"> ItemSealProcessSendPacket(UISelf:GetParent()) return true </HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="117" Y="327" W="84" H="26"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR T_X="42" T_Y="4" FONT="FTbt_12" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:GetParent():Close() </SCRIPT>
			<HOTKEY ID="60"> UISelf:GetParent():Close() return true </HOTKEY>			
		</BUTTON>
	</STATIC_FORM>
	
	<FORM ID="FRM_SEAL_PROCESS_ITEM">
		<ATTR X="0" Y="0" W="187" H="44"/>
		<STATIC_FORM ID="SFRM_ICON_BG">
			<ATTR X="0" Y="0" W="42" H="43" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<ATTR TEXT="" FONT="Font_Text" T_X="38" T_Y="26" T_RIGHT="1" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		<IMG ID = "IMG_ICON" X="0" Y="0" W="42" H="42" Z="1" IMG_X="1" IMG_Y="1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID="ON_TICK">ItemSealProcessIconDraw(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">ItemSealProcessIconToolTip(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>		
			<SCRIPT ID="ON_L_BTN_DOWN">ItemSealProcessListSelect(UISelf)</SCRIPT>
			<CHECK_BUTTON ID="CBTN_ITEM_SELECT">
				<ATTR X="0" Y="0" W="42" H="42" Z="1" BTN_CLICK_LOCK="1" PASS_EVENT="1"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmIconOver02.tga" BTN_IMG_W="84" BTN_IMG_H="84" IS_VISIBLE="1"/>
			</CHECK_BUTTON>
		</IMG>
		<STATIC_FORM ID="SFRM_ITEM_NAME">
			<ATTR X="45" Y="7" W="137" H="27" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
			<ATTR TEXT="" FONT="Font_Text" T_X="5" T_Y="6" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
	</FORM>
	
	<STATIC_FORM ID="SFRM_NOTICE_SEAL_PROCESSING" PRIORITY="10" ALIGN_X="50" Y="180" W="208" H="127" CAN_DRAG="1" STATIC_NUM="1">
		<STATIC_FORM ID="SFRM_COLOR" X="9" Y="7" W="190" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFR_SDW" X="0" Y="0" W="190" H="75" STATIC_NUM="3">
				<ATTR TEXT="" FONT="Font_Text" T_X="95" T_Y="30" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>
		<BUTTON ID="BTN_OK">
			<ATTR X="63" Y="88" W="79" H="28" />
			<ATTR TEXT="400003" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">	UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="1"> UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
		<SCRIPT ID="ON_CLOSE"> ItemSealProcessStop() </SCRIPT>
		<SCRIPT ID="ON_TICK"> ItemSealProcessWatchingDelayedPacket() </SCRIPT>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_MTOM_CHAT_DLG" X="0" Y="0" W="318" H="313" STATIC_NUM="1" CAN_DRAG="1">
		<FORM ID="FRM_BACK" X="0" Y="0" W="318" H="313" Z="-1" NO_FOCUS="1">
			<STATIC_FORM ID="SFRM_TITLE_BG" X="1" Y="0" W="316" H="36" STATIC_NUM="4" TEXT="551001" FONT="FTtitle_14" FONT_COLOR_HEX="0xFFFFFFFF" T_X="10" T_Y="7" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<FORM ID="FRM_CM_BODY1" X="265" Y="16" W="12" H="5" IMG="../data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<FORM ID="FRM_CM_BODY2" X="291" Y="10" W="12" H="11" IMG="../data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<IMG ID="IMG_LINE" X="254" Y="5" W="2" H="22" IMG="../data/6_ui/myhome/mhLine.tga" IMG_W="2" IMG_H="22"/>
			<FORM ID="FRM_NAME_LABEL" X="5" Y="32" W="308" H="33" IMG="../data/6_ui/auction/auSchBg.tga" IMG_W="308" IMG_H="33"/>
			<STATIC_FORM ID="SFRM_CHATLIST_BG" X="11" Y="70" W="296" H="202" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" STATIC_NUM="2"/>
			<STATIC_FORM ID="SFRM_CHARLIST_BG_SD" X="11" Y="70" W="296" H="202" STATIC_NUM="3"/>
			<STATIC_FORM ID="SFRM_CHAT_BG" X="11" Y="273" W="296" H="26" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" STATIC_NUM="2"/>
			<STATIC_FORM ID="SFRM_CHAR_BG_SD" X="11" Y="273" W="296" H="26" STATIC_NUM="3"/>
		</FORM>
		<FORM ID="FRM_NAME_LABEL" X="10" Y="39" W="30" H="20" U="2" V="4" UV_INDEX="1" IMG="../data/6_ui/community/fdState.tga" IMG_W="60" IMG_H="80" NO_FOCUS="1"/>
		<FORM ID="FRM_NAME_TEXT" X="45" Y="39" W="268" H="20" TEXT="" FONT="FTtitle_14" FONT_COLOR_HEX="0xFFFFF9AE" T_X="0" T_Y="1" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" NO_FOCUS="1"/>
		<!--FORM ID="FRM_LINE" X="27" Y="80" W="264" H="1">
			<FORM ID="FRM_CM_BODY1" X="0" Y="0" W="264" H="1" IMG="../data/6_ui/common/cmBody.tga" IMG_W="264" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<FORM ID="FRM_CM_BODY2" X="0" Y="1" W="264" H="1" IMG="../data/6_ui/common/cmBody.tga" IMG_W="264" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
		</FORM-->
		<BUTTON ID="BTN_MINIMIZE" X="259" Y="4" W="24" H="24" BTN_IMG="../data/6_ui/common/cmMiniBg.tga" BTN_IMG_W="48" BTN_IMG_H="48" NO_FOCUS="1">
			<SCRIPT ID="ON_L_BTN_UP">MToMChatDlgStateChange(UISelf:GetParent())</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_CLOSE" X="285" Y="4" W="24" H="24" BTN_IMG="../data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48" NO_FOCUS="1">
			<SCRIPT ID="ON_L_BTN_UP">MToMChatClose(UISelf:GetParent())</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_SEND_CHAT" X="223" Y="273" W="84" H="26" BTN_IMG="../data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" TEXT="551000" FONT="FTbt_12" T_X="42" T_Y="5" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" NO_FOCUS="1">
			<SCRIPT ID="ON_L_BTN_DOWN">
				local UIEdit = UISelf:GetParent():GetControl("EDT_CHAT_INPUT")
				if UIEdit:IsNil() then
					return
				end
				if UIEdit:IsFocus() then
					MToMSendChatLog(UISelf:GetParent()) return true
				end
			</SCRIPT>
		</BUTTON>
		<LIST ID="LIST_CHAT_MSG" USE_ALPHA_ANI="0" X="6" Y="74" Z="1" W="296" H="196" ITEM_X="0" ITEM_Y="0" CAN_SELECT="1" NO_FOCUS="1">
			<ATTR BTN_UP="ScrUp" BTN_DOWN="ScrDown"  BTN_MIDDLE="ScrMiddle" WND_BAR="IMG_LIST_SCROLL_BG" ELEMENT_ID="FRM_FRIEND_CHAT_MESSAGE_DATA"/>
			<IMG ID="IMG_LIST_SCROLL_BG" X="290" Y="0" Z="-1" W="13" H="196" IMG="../Data/6_ui/Common/cmScrollBg.tga" IMG_W="13" IMG_H="202" NO_FOCUS="1"/>
			<BUTTON ID="ScrUp" X="277" Y="0" W="19" H="15" BTN_IMG="../Data/6_ui/common/cmScrollUp.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="ScrDown" X="277" Y="181" W="19" H="15" BTN_IMG="../Data/6_ui/common/cmScrollDn.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="ScrMiddle" X="279" Y="0" W="15" H="21" BTN_IMG="../Data/6_ui/common/cmScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42"/>
		</LIST>
		<EDIT ID="EDT_CHAT_INPUT" X="11" Y="274" W="212" H="22">
			<ATTR EDIT_BLOCK_IMG="../Data/6_UI/01_main/bgWarn.tga" EDIT_CAROT_IMG="../Data/6_UI/Carot.tga" EDIT_T_X="4" EDIT_T_Y="4" EDIT_FONT="Font_Text"/>
			<ATTR EDIT_PREVIEW="10101" EDIT_LIMIT_LENGTH="200" TEXT="10102" FONT="Font_Text" T_X="0" T_Y="5" FONT_COLOR_HEX = "0xFF4D3413"/>
			<SCRIPT ID="ON_CALL">
				UISelf:SetCustomDataAsInt(0)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">
				local cust = UISelf:GetCustomDataAsInt()
				if cust == 0 then
					UISelf:SetEditFocus(true)
					UISelf:SetCustomDataAsInt(1)
				end
			</SCRIPT>
			<HOTKEY ID="1">
				MToMChatClose(UISelf:GetParent())
				UISelf:GetParent():Close() 
				return true
			</HOTKEY>
			<HOTKEY ID="28">
				if UISelf:IsFocus() then
					MToMSendChatLog(UISelf:GetParent()) return true
				end
			</HOTKEY>
			<HOTKEY ID="106">
				if UISelf:IsFocus() then
					MToMSendChatLog(UISelf:GetParent()) return true
				end
			</HOTKEY>
		</EDIT>
		<HOTKEY ID="1">
				MToMChatClose(UISelf:GetParent())
				UISelf:Close() 
				return true
		</HOTKEY>
	</STATIC_FORM>

	<STATIC_FORM ID="SFRM_MTOM_QUESTION_DLG" ALIGN_X="50" ALIGN_Y="40" W="302" H="189" STATIC_NUM="1" CAN_DRAG="1">
		<FORM ID="FRM_BACK" X="1" Y="0" W="302" H="313" Z="-1" NO_FOCUS="1">
			<STATIC_FORM ID="SFRM_TITLE_BG" X="0" Y="0" W="302" H="36" STATIC_NUM="4" TEXT="400445" FONT="FTtitle_14" FONT_COLOR_HEX="0xFFFFFFFF" T_X="10" T_Y="7" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000">
				<STATIC_FORM ID="SFRM_COLOR4" X="268" Y="4" W="24" H="24" CAN_COLOR_CHANGE = "1" STATIC_NUM = "2" COLOR_TYPE = "1"/>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_CHAT_BG" X="11" Y="35" W="279" H="114" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" STATIC_NUM="2"/>
			<STATIC_FORM ID="SFRM_CHAR_BG_SD" X="11" Y="35" W="279" H="114" STATIC_NUM="3"/>
		</FORM>
		<BUTTON ID="BTN_CLOSE" X="269" Y="4" W="24" H="24" BTN_IMG="../data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48" NO_FOCUS="1">
			<SCRIPT ID="ON_L_BTN_UP">MToMChatDlgStateChange(UISelf:GetParent())</SCRIPT>
		</BUTTON>
		<FORM ID="FRM_NAME_TEXT" X="30" Y="45" W="242" H="20" TICK_TIME="1000">
			<ATTR TEXT="1" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413" T_X="121" T_Y="7" T_CENTER="1" NO_FOCUS="1"/>
			<SCRIPT ID="ON_TICK">MToMRefreshUI(UISelf:GetParent())</SCRIPT>
		</FORM>
		<BUTTON ID="BTN_OK" X="14" Y="152" W="84" H="26" BTN_IMG="../data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" TEXT="74000" FONT="FTbt_12" T_X="42" T_Y="5" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" NO_FOCUS="1">
			<SCRIPT ID="ON_L_BTN_DOWN">
				Req_JoinEmporia()
				MToMChatDlgStateChange(UISelf:GetParent())
			</SCRIPT>
			<SCRIPT ID="ON_CALL">SetTextOnThisUI(74000, 2200)</SCRIPT>
			<HOTKEY ID="59">
				Req_JoinEmporia()
				MToMChatDlgStateChange(UISelf:GetParent()) 
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_AFTER_JOIN" X="101" Y="152" W="97" H="26" BTN_IMG="../data/6_ui/common/cmBtBgLg.tga" BTN_IMG_W="194" BTN_IMG_H="52" TEXT="74019" FONT="FTbt_12" T_X="48" T_Y="5" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" NO_FOCUS="1">
			<SCRIPT ID="ON_L_BTN_DOWN">
				Req_FollowEmporiaStartJoin()
				MToMChatDlgStateChange(UISelf:GetParent())
			</SCRIPT>
			<SCRIPT ID="ON_CALL">SetTextOnThisUI(74019, 2201)</SCRIPT>
			<HOTKEY ID="60">
				Req_FollowEmporiaStartJoin() 
				MToMChatDlgStateChange(UISelf:GetParent())
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_BOTTOM_CLOSE" X="201" Y="152" W="84" H="26" BTN_IMG="../data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" TEXT="403040" FONT="FTbt_12" T_X="42" T_Y="5" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" NO_FOCUS="1">
			<SCRIPT ID="ON_L_BTN_DOWN">MToMChatDlgStateChange(UISelf:GetParent())</SCRIPT>
			<SCRIPT ID="ON_CALL">SetTextOnThisUI(403040, 2202)</SCRIPT>
			<HOTKEY ID="61">MToMChatDlgStateChange(UISelf:GetParent()) return true</HOTKEY>
		</BUTTON>
		<HOTKEY ID="1">MToMChatDlgStateChange(UISelf) return true</HOTKEY>
	</STATIC_FORM>
	
	<FORM ID="FRM_FRIEND_CHAT_MESSAGE_DATA" X="0" Y="0" W="280" H="17" OUTLINE_COLOR_HEX="0xFF000000" TEXT="" FONT="Font_Chat" T_X="10" T_Y="1" T_OUTLINE="1" USE_ALPHA_ANI="0"/>
	<FORM ID="FRM_MTOM_CHAT_MINI" X="634" Y="660" W="42" H="38" Z="1" IS_ABSOLUTE_X="1">
		<ATTR U="4" V="6" UV_INDEX="1" IMG="../data/6_ui/community/fdChatMsg.tga" IMG_W="168" IMG_H="228" TICK_TIME="500"/>
		<SCRIPT ID="ON_TICK">MToMMiniFlash(UISelf)</SCRIPT>
		<SCRIPT ID="ON_L_BTN_UP">
			CloseToolTip()
			MToMChatDlgStateChange(UISelf)
		</SCRIPT>
		<SCRIPT ID="ON_MOUSE_OVER">MToMMiniToolTip(UISelf, GetTextW(404023), GetUIWnd("Cursor"):GetLocation())</SCRIPT>
		<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
	</FORM>

	<STATIC_FORM ID="FRM_TRADE_UNSEALINGSCROLL" ALIGN_X="50" ALIGN_Y="40" W="242" H="288" STATIC_NUM="1" UNIQUE_EXIST_TYPE="NO_DUPLICATE">
		<STATIC_FORM ID="SFRM_TITLE_BG" X="1" Y="0" Z="1" W="240" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_BG_1" X="7" Y="4" W="200" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<ATTR TEXT="400451" T_X="8" T_Y="4" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413"/>
				<STATIC_FORM ID="SFRM_BG_SD" X="0" Y="0" W="200" H="24" STATIC_NUM="3"/>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_BG_3" X="209" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<BUTTON ID="BNT_CLOSE" X="209" Y="4" Z="1" W="24" H="24">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
				<SCRIPT ID="ON_L_BTN_DOWN"> CloseUI("FRM_TRADE_UNSEALINGSCROLL") </SCRIPT>				
			</BUTTON>
		</STATIC_FORM>
		
		<FORM ID="FRM_UI" X="9" Y="35" Z="-1" W="224">
			<STATIC_FORM ID="SFRM_BG_COLOR_1" X="0" Y="0" Z="-2" W="224" H="208" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFRM_BG_SHADOW_1" X="0" Y="0" Z="-1" W="224" H="208" STATIC_NUM="3"/>
			<STATIC_FORM ID="SFRM_BG_SOUL" X="12" Y="10" Z="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<IMG ID="IMG_ICON_CURSOR1" X="62" Y="16" W="6" H="6" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
			<FORM ID="FRM_SOUL_NAME" X="72" Y="11" W="100" H="20" TEXT="400452" T_X="0" T_Y="0" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			<IMG ID="IMG_ICON_CROSS1" X="72" Y="33" W="14" H="14" IMG="../Data/6_ui/Stone/stXimg.tga" IMG_W="14" IMG_H="14" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
			<IMG ID="IMG_LINE_1" X="60" Y="56" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE_2" X="60" Y="57" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			<IMG ID="IMG_ARROW" X="92" Y="61" W="40" H="55" IMG="../Data/6_ui/Stone/stArw2.tga" IMG_W="40" IMG_H="55">
				<SCRIPT ID = "ON_DISPLAY"> OnProgressUnsealingScroll(UISelf) </SCRIPT>
			</IMG>
			<IMG ID="IMG_LINE_3" X="60" Y="119" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE_4" X="60" Y="120" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			<STATIC_FORM ID="SFRM_BG_UNSEALINGSCROLL" X="12" Y="122" Z="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<IMG ID="IMG_ICON_CURSOR2" X="62" Y="128" W="6" H="6" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
			<FORM ID="FRM_SCROLL_NAME" X="72" Y="123" W="200" H="20" TEXT="400453" T_X="0" T_Y="0" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			<IMG ID="IMG_ICON_CROSS2" X="72" Y="145" W="14" H="14" IMG="../Data/6_ui/Stone/stXimg.tga" IMG_W="14" IMG_H="14" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
			<STATIC_FORM ID="SFRM_COUNT" X="12" Y="174" Z="0" W="198" H="26" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
				<ATTR TEXT="400454" T_X="8" T_Y="4" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			</STATIC_FORM>
		</FORM>
		<IMG ID="ICON_Item1" X="22" Y="46" Z="1" W="42" H="42">
			<SCRIPT ID="ON_CALL">SetSimpleItemIcon(UISelf, 79000030)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER">CallSimpleItemToolTip(UISelf, 79000030)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</IMG>
		<IMG ID="ICON_Item2" X="22" Y="158" Z="1" W="42" H="42">
			<SCRIPT ID="ON_CALL">SetSimpleItemIcon(UISelf, 79000040)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER">CallSimpleItemToolTip(UISelf, 79000040)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</IMG>
		
		<STATIC_FORM ID="SFRM_COUL_COUNT" X="100" Y="64" Z="1" W="119" H="22" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT="400454" T_X="8" T_Y="2" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_SCROLL_COUNT" X="100" Y="176" Z="1" W="119" H="22" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT="400454" T_X="8" T_Y="2" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		<BUTTON ID="BTN_INC_COUNT" X="98" Y="213" Z="1" W="18" H="18">
			<ATTR BTN_IMG="../Data/6_ui/Skill/skUpB.tga" BTN_IMG_W="36" BTN_IMG_H="36"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnIncTradeUnsealingScrollCount(UISelf:GetParent()) </SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_DEC_COUNT" X="118" Y="213" Z="1" W="18" H="18">
			<ATTR BTN_IMG="../Data/6_ui/Skill/skDnB.tga" BTN_IMG_W="36" BTN_IMG_H="36"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnDecTradeUnsealingScrollCount(UISelf:GetParent()) </SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_MAX_COUNT" X="140" Y="211" Z="1" W="76" H="22">
			<ATTR BTN_IMG="../Data/6_ui/Community/gdBt.tga" BTN_IMG_W="152" BTN_IMG_H="44"/>
			<ATTR TEXT="400455" T_X="38" T_Y="2" FONT="Font_Text" T_OUTLINE="1" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnMaxTradeUnsealingScrollCount(UISelf:GetParent()) </SCRIPT>
		</BUTTON>
		
		<BUTTON ID="BTN_OK" X="36" Y="249" Z="3" W="84" H="26">			
			<SCRIPT ID="ON_CREATE">	SetTextOnThisUI(400700, 2200) </SCRIPT>
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">  OnSendTradeUnsealingScroll( UISelf:GetCustomDataAsInt() )	</SCRIPT>
			<HOTKEY ID="59">  OnSendTradeUnsealingScroll( UISelf:GetCustomDataAsInt() )	return true </HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL" X="122" Y="249" Z="3" W="84" H="26">
			<SCRIPT ID="ON_CREATE">	SetTextOnThisUI(400534, 2201) </SCRIPT>
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
		<SCRIPT ID="ON_CALL">
			OnInitTradeUnsealingScrollVal()
			UpdateTradeUnselingScroll(UISelf, 1)
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			OnInitTradeUnsealingScrollVal()
			UpdateTradeUnselingScroll(UISelf, 1)
		</SCRIPT>
	</STATIC_FORM>
	<FORM ID="FRM_ACHIEVEMENT_POPUP" ALIGN_X="50" ALIGN_Y="30" PRIORITY="100" W="300" H="135" TEXT="2801" FONT="Font_Warn" T_X="150" T_Y="20" T_CENTER="1" FONT_COLOR_HEX="0xFFFFDB86" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" IMG="../Data/6_ui/main/mnWorksSbg.tga" IMG_W="300" IMG_H="135">
		<ATTR PASS_EVENT="1" NO_FORCUS="1"/>
		<ICON ID="ICON_MEDAL" X="54" Y="62" W="40" H="40" ICON_GRP="254" PASS_EVENT="1" NO_FORCUS="1">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
		</ICON>
		<FORM ID="FRM_TEXT" X="110" Y="50" W="170" H="65"  TEXT="" FONT="FTctsBig_14" T_X="85" T_Y="5" T_CENTER="1" FONT_COLOR_HEX="0xFFFFF1CE" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" PASS_EVENT="1" NO_FORCUS="1"/>
	</FORM>
	<FORM ID="FRM_ACHIEVEMENT_ALERT" X="0" Y="0" W="214" H="35">
		<FORM ID="FRM_ALERT" X="0" Y="2" W="27" H="26" Z="1" IMG="../Data/6_ui/main/mnWorksLfmk.tga" IMG_W="27" IMG_H="26"/>
		<FORM ID="FRM_TEXT" X="14" Y="0" W="200" H="30" TEXT="" FONT="QTtext" T_X="100" T_Y="7" T_CENTER="1" FONT_COLOR_HEX="0xFFFFF896" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" IMG="../Data/6_ui/main/mnWorksLbg.tga" IMG_W="200" IMG_H="30"/>
		<FORM ID="FRM_INTERSEPT" X="0" Y="0" W="214" H="35" Z="2">
			<SCRIPT ID="ON_L_BTN_DOWN">OpenAchievementInfo(UISelf)</SCRIPT>
		</FORM>
		<SCRIPT ID="ON_TICK">NotifyAlertFlash(UISelf:GetControl("FRM_ALERT"), UISelf:GetControl("FRM_TEXT"))</SCRIPT>
	</FORM>
	<LIST ID="LST_ACHIEVEMENT" ALIGN_X="100" ALIGN_Y="70" W="214" H="100" ELEMENT_ID="FRM_ACHIEVEMENT_ALERT" PASS_EVENT="1">
		<SCRIPT ID="ON_CALL"></SCRIPT>
		<SCRIPT ID="ON_TICK">AchievementNotifyItemOnTick(UISelf)</SCRIPT>
	</LIST>
	<FORM ID="FRM_ACHIEVEMENT_INFO" ALIGN_X="67" ALIGN_Y="88" W="278" H="92" TEXT="" FONT="FTcts_16" T_X="45" T_Y="15" FONT_COLOR_HEX="0xFFFFF55A" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" IMG="../Data/6_ui/main/mnWorksEbg.tga" IMG_W="278" IMG_H="92">
		<ICON ID="ICON_MEDAL" X="223" Y="15" W="40" H="40" ICON_GRP="254">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
		</ICON>
		<FORM ID="FRM_TEXT" X="45" Y="37" W="170" H="45"  TEXT="" FONT="FTctsBig_14" T_X="0" T_Y="0" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
	</FORM>
	
	<FORM ID="FRM_CALL_ORDER" X="0" Y="0" ALIGN_X="0" ALIGN_Y="0" W="445" H="290" PRIORITY="99" CAN_DRAG="1">
		<!--SCRIPT ID="ON_CALL">g_bEnableShortCutKey = false</SCRIPT-->
		<SCRIPT ID="ON_CLOSE">CloseOrderUI(UISelf)</SCRIPT>
		<FORM ID="FRM_BG1" X="0" Y="0" W="447" H="168" Z="-1" IMG="../Data/6_ui/main/mnMcrBg.tga" IMG_W="445" IMG_H="290"/>
		<!--FORM ID="FRM_BG2" X="289" Y="232" W="447" H="450" Z="-1" IMG="../Data/6_ui/main/mnMcrBg02.tga" IMG_W="447" IMG_H="450"/-->	
		<!--BUTTON ID="BTN_SEND" X="562" Y="555" W="112" H="35" BTN_IMG="../Data/6_ui/quest/qsWantedBt.tga" BTN_IMG_W="224" BTN_IMG_H="70" TEXT="2403" FONT="FTctsBig_14" T_X="56" T_Y="6" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10">
			<SCRIPT ID="ON_L_BTN_DOWN">SendOrderPassward(UISelf:GetParent())</SCRIPT>
			<HOTKEY ID="28">SendOrderPassward(UISelf:GetParent())</HOTKEY>
			<HOTKEY ID="106">SendOrderPassward(UISelf:GetParent())</HOTKEY>
		</BUTTON-->
		<!--FORM ID="FRM_TITLE" X="337" Y="277" W="270" H="25" TEXT="2401" T_X="1" T_Y="3" FONT="FTtitleBig_16" FONT_COLOR_HEX="0xFF9E0B0F"/-->
		<FORM ID="FRM_TIME" X="335" Y="18" W="100" H="25" TEXT="" T_X="34" T_Y="0" T_CENTER="1" FONT="Font_Warn" FONT_COLOR_HEX="0xFFFFFF01" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF3D210F">
			<SCRIPT ID="ON_TICK">SendOrderTimer(UISelf)</SCRIPT>
		</FORM>
		<BUTTON ID="BTN1" X="68" Y="217" W="71" H="42" BTN_IMG="../Data/6_ui/map/mapBtSearch.tga" BTN_IMG_W="142" BTN_IMG_H="42" TEXT="790202" FONT="FTctsBig_14" T_X="35" T_Y="1" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10">
			<SCRIPT ID="ON_L_BTN_DOWN">SendOrderPassward(1)</SCRIPT>
		</BUTTON>
		
		<BUTTON ID="BTN2" X="145" Y="217" W="71" H="42" BTN_IMG="../Data/6_ui/map/mapBtSearch.tga" BTN_IMG_W="142" BTN_IMG_H="42" TEXT="790203" FONT="FTctsBig_14" T_X="35" T_Y="1" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10">
			<SCRIPT ID="ON_L_BTN_DOWN">SendOrderPassward(3)</SCRIPT>
		</BUTTON>
		
		<BUTTON ID="BTN3" X="222 " Y="217" W="71" H="42" BTN_IMG="../Data/6_ui/map/mapBtSearch.tga" BTN_IMG_W="142" BTN_IMG_H="42" TEXT="790204" FONT="FTctsBig_14" T_X="35" T_Y="1" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10">
			<SCRIPT ID="ON_L_BTN_DOWN">SendOrderPassward(5)</SCRIPT>
		</BUTTON>
		
		<BUTTON ID="BTN4" X="299" Y="217" W="71" H="42" BTN_IMG="../Data/6_ui/map/mapBtSearch.tga" BTN_IMG_W="142" BTN_IMG_H="42" TEXT="790205" FONT="FTctsBig_14" T_X="35" T_Y="1" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10">
			<SCRIPT ID="ON_L_BTN_DOWN">SendOrderPassward(7)</SCRIPT>
		</BUTTON>
		
		<FORM ID="FRM_PASSCODE" X="50" Y="142" W="338" H="50" TEXT="1" T_X="169" T_Y="5" T_CENTER="1" FONT="FTtext_25" FONT_COLOR_HEX="0xFF9E0B0F"/>
		<FORM ID="FRM_NFY_TEXT" X="-6" Y="181" W="445" H="25" TEXT="790200" T_X="222" T_Y="3" T_CENTER="1" FONT="FTcts_13" FONT_COLOR_HEX="0xFF2E1809"/>
		<!--EDIT ID="EDT_CODE" X="343" Y="557" W="220" H="29">
			<ATTR EDIT_T_X="4" EDIT_T_Y="5" EDIT_FONT="FTctsBig_14"/>
			<ATTR EDIT_PREVIEW="" EDIT_LIMIT_LENGTH="8" TEXT="" FONT="FTctsBig_14" T_X="0" T_Y="5" FONT_COLOR_HEX = "0xFF2E1809"/>
			<SCRIPT ID="ON_L_BTN_DOWN">UISelf:SetEditFocus(true)</SCRIPT>
			<HOTKEY ID="28">SendOrderPassward(UISelf:GetParent())</HOTKEY>
			<HOTKEY ID="106">SendOrderPassward(UISelf:GetParent())</HOTKEY>
		</EDIT-->
		<LIST ID = "LIST_TEXT" X="45" Y="56" W="337" H="80">
			<IMG ID="IMG_LIST_SCROLL_BG" X="333" Y="15" Z="-1" W="13" H="180" IMG="../Data/6_ui/Common/cmScrollBg.tga" IMG_W="13" IMG_H="180"/>
			<BUTTON ID="ScrUp" X="331" Y="4" W="19" H="15" BTN_IMG="../Data/6_ui/common/cmScrollUp.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="ScrDown" X="331" Y="60" W="19" H="15" BTN_IMG="../Data/6_ui/common/cmScrollDn.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="ScrMiddle" X="333" Y="15" W="15" H="21" BTN_IMG="../Data/6_ui/common/cmScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42" />
			<ATTR BTN_UP = "ScrUp" BTN_DOWN = "ScrDown"  BTN_MIDDLE = "ScrMiddle" WND_BAR= "IMG_LIST_SCROLL_BG" ELEMENT_ID="FRM_CALL_ORDER_TEXT"/>
			<SCRIPT ID="ON_CREATE">
				UISelf:ClearAllListItem()
				UISelf:AddNewListItemChar("")
			</SCRIPT>
		</LIST>
		<SCRIPT ID="ON_L_BTN_DOWN">return true</SCRIPT>
		<SCRIPT ID="ON_L_BTN_UP">return true</SCRIPT>
		<SCRIPT ID="ON_R_BTN_DOWN">return true</SCRIPT>
		<SCRIPT ID="ON_R_BTN_UP">return true</SCRIPT>
		<SCRIPT ID="ON_MOUSE_OVER">return true</SCRIPT>
		<SCRIPT ID="ON_MOUSE_OUT">return true</SCRIPT>
		<HOTKEY ID="1">return true</HOTKEY>
		<HOTKEY ID="26">return true</HOTKEY>
		<HOTKEY ID="106">return true</HOTKEY>
	</FORM>
	<FORM ID="FRM_CALL_ORDER_TEXT" X="0" Y="0" W="315" H="10" TEXT="" FONT="FTcts_13" FONT_COLOR_HEX="0xFF2E1809"/>
	
	<!-- GemStore -->
	<STATIC_FORM ID="FRM_GEM_STORE" ALIGN_X="50" ALIGN_Y="40" W="294" H="386" STATIC_NUM="1" CAN_DRAG="1">		
		<SCRIPT ID="ON_CALL">RegistUIAction(UISelf, "CloseUI")</SCRIPT>
		<SCRIPT ID="ON_CLOSE"> ClearGemStoreData() UISelf:ClearCustomData() CloseToolTip() </SCRIPT>
		
		<STATIC_FORM ID="SFRM_TITLEBAR" X="1" Y="0" W="292" H="36" Z="1" STATIC_NUM="4">
			<STATIC_FORM ID = "SFRM_TAB_BG" X="8" Y="5" W="142" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<IMG ID="IMG_TITLE_TAB" X="7" Y="4" Z="1" W="114" H="24" NO_FOCUS="1" T_CENTER = "1" T_X = "67" T_Y = "4">
				<ATTR FONT="FTbt_12" FONT_COLOR_HEX="0xFF4D3413" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11" TEXT="790120" IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
				<SCRIPT ID="ON_CALL">
					if 0 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(790120))
					elseif 1 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(790128))
					elseif 2 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(790129))
					elseif 3 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(799646))
					elseif 4 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(799647))
					elseif 5 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(799910))
					elseif 8 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(799939))
					elseif 9 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(799950))
					elseif 10 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(790530))
					elseif 12 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(310001))
					elseif 14 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(790530))
					elseif 15 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(50701))
					elseif 16 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(790128))
					elseif 17 == GetGemStoreTitleMenu() then
						UISelf:SetStaticTextW(GetTextW(790129))
					else
						UISelf:SetStaticTextW(GetTextW(790120))
					end
				</SCRIPT>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="261" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<SCRIPT ID="ON_L_BTN_UP"> UISelf:GetParent():CloseParent() CloseUI("SFRM_JEWEL_CONSTELLATION") </SCRIPT>
			</BUTTON>
		</STATIC_FORM>
		
		<FORM ID="FRM_UI" X="9" Y="35" Z="-1" W="276" H="240">
			<STATIC_FORM ID="SFRM_BG_COLOR_1" X="0" Y="0" Z="-2" W="276" H="240" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFRM_BG_SHADOW_1" X="0" Y="0" Z="-1" W="276" H="240" STATIC_NUM="3"/>
		</FORM>
	
		<!-- expression build cp item slot -->
		<IMG ID = "IMG_CURSOR" X = "-1" Y = "-1" Z = "2" W = "42" H = "42" IMG="../Data/6_ui/common/cmIconOver02.tga" IMG_W = "84" IMG_H = "84" U = "2" V = "2" UV_INDEX = "2" IGNORE_PARENT_RECT = "1" IS_VISIBLE = "0" PASS_EVENT = "1" NO_FOCUS = "1">
			<SCRIPT ID = "ON_TICK">	UISelf:Visible(UISelf:PtInUI(GetCursorPos())) </SCRIPT>
		</IMG>
		<IMG ID="IMG_SELECT" X="-1" Y="-1" W="42" H="42" Z="4" U="2" V="2" UV_INDEX="3" IMG="../Data/6_ui/common/cmIconOver02.tga" IMG_W="84" IMG_H="84" NO_FOCUS="1" PASS_EVENT="1" IS_VISIBLE="0">
			<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
		</IMG>
		<BUILD ID="BLD_SLOT_BG" TARGET_ID="ICON_SLOT_BG" X="28" Y="44" Z="1" X_COUNT="5" Y_COUNT="4" X_GAB="49" Y_GAB="46"/>
		<STATIC_FORM ID="ICON_SLOT_BG" X="0" Y="0" Z="1" W="42" H="43" ICON_GRP ="254" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
		<BUILD ID="BLD_SLOT" TARGET_ID="ICON_SLOT" X="28" Y="44" Z="1" X_COUNT="5" Y_COUNT="4" X_GAB="49" Y_GAB="46"/>
		<IMG ID="ICON_SLOT" X="0" Y="0" Z="3" W="40" H="40">
			<ATTR TEXT="" T_X="21" T_Y="42" T_CENTER="1"/>
			<SCRIPT ID="ON_DISPLAY">GemStoreDrawIconImage(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				ClickGemStoreListItem(UISelf)
				PlaySound("../Sound/U_Sound/button(click).wav")
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">
				local self = UISelf
				GemStoreDrawIconTooltip(self)
				local b = true
				local cur = self:GetParent():GetControl("IMG_CURSOR")
				if false == cur:IsNil() then
					cur:Visible(b)
					if b then
						local pos = self:GetLocation()
						pos:SetX(pos:GetX())
						pos:SetY(pos:GetY())
						cur:SetLocation(pos)
					end
				end
			</SCRIPT>
		</IMG>
		<BUILD ID="BLD_SLOT_COUNT" TARGET_ID="ICON_SLOT_COUNT" X="28" Y="44" Z="1" X_COUNT="5" Y_COUNT="4" X_GAB="49" Y_GAB="46"/>
		<FORM ID="ICON_SLOT_COUNT" X="0" Y="0" Z="2" W="42" H="43" T_X="40" T_Y="2" T_RIGHT="1" TEXT="" FONT="Font_Text" FONT_COLOR_HEX="0xFF2E1809"/>
		<BUILD ID="BLD_SLOT_ORDER_INDEX" TARGET_ID="ICON_SLOT_ORDER_INDEX" X="28" Y="44" Z="0" X_COUNT="5" Y_COUNT="4" X_GAB="49" Y_GAB="46"/>
		<FORM ID="ICON_SLOT_ORDER_INDEX" X="0" Y="0" Z="2" W="42" H="43" T_X="40" T_Y="2" T_RIGHT="1" TEXT="" FONT="Font_Text" FONT_COLOR_HEX="0xFF2E1809"/>		
		
		<IMG ID="IMG_LINE01" X="15" Y="230" W="264" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="264" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
		<IMG ID="IMG_LINE02" X="15" Y="231" W="264" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="264" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>

		<FORM ID = "FRM_PAGE" X="40" Y="240" Z="1" W="214" H="23">
			<IMG ID="BTN_FIRST_BG" X="19" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<IMG ID="BTN_PREV_BG" X="48" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<IMG ID="BTN_NEXT_BG" X="159" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<IMG ID="BTN_END_BG" X="189" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<BUTTON ID = "BTN_FIRST" X="0" Y="2" W="23" H="19">
				<ATTR BTN_IMG="../Data/6_ui/pvp/pvBack2.tga" BTN_IMG_W="46" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreBeginPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUTTON ID = "BTN_PREV" X="38" Y="2" W="15" H="19">
				<ATTR BTN_IMG="../Data/6_ui/Pvp/pvBack1.tga" BTN_IMG_W="30" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreJumpPrevPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUTTON ID = "BTN_NEXT" X="159" Y="2" W="15" H="19">
				<ATTR BTN_IMG="../Data/6_ui/Pvp/pvNext1.tga" BTN_IMG_W="30" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreJumpNextPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUTTON ID = "BTN_END" X="189" Y="2" W="23" H="19">
				<ATTR BTN_IMG="../Data/6_ui/Pvp/pvNext2.tga" BTN_IMG_W="46" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreEndPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUILD ID="BLD_PAGENUM" TARGET_ID = "CBTN_NUM" X = "60" Y = "0" X_COUNT = "3" Y_COUNT = "1" X_GAB = "30" Y_GAB = "0"/>
			<CHECK_BUTTON ID="CBTN_NUM" X="0" Y="0" W="28" H="21" TEXT="5002" T_CENTER="1" T_X="14" T_Y="1" FONT="FTcts_16" BTN_CLICK_LOCK="1" BTN_T_INVERTBOLD="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="4">
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStorePage(UISelf)</SCRIPT>
			</CHECK_BUTTON>
		</FORM>
				
		<STATIC_FORM ID="SFRM_JEWEL_BG" X="9" Y="277" W="276" H="64" STATIC_NUM="34" />
		<!-- expression Owned Gems -->
		<BUILD ID="BLD_ICON_JEWEL" TARGET_ID="FRM_JEWEL" X="15" Y="280" Z="1" X_COUNT="5" Y_COUNT="1" X_GAB="55" Y_GAB="44"/>
		<FORM ID="FRM_JEWEL" X="0" Y="0" Z="1" W="58" H="43">
			<ATTR TEXT="" T_X="21" T_Y="42" T_CENTER="1"/>
			<LOCAL>
				<NAME ID="KOREA">
					<ATTR FONT="Font_Text"/>
				</NAME>
			</LOCAL>
			<ICON ID="ICON_JEWEL" X="0" Y="0" Z="1" W="42" H="43" ICON_GRP ="254">
				<ATTR IMG="../Data/6_ui/info/ifIconBg.tga" IMG_W="42" IMG_H="42" />					
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				<SCRIPT ID="ON_CLOSE">CloseToolTip() UISelf:ClearCustomData() UISelf:SetStaticText("")</SCRIPT>
			</ICON>
		</FORM>
		
		<BUILD ID="BLD_LINE" TARGET_ID="IMG_LINE" X="62" Y="280" Z="1" X_COUNT="4" Y_COUNT="1" X_GAB="55" Y_GAB="44"/>
		<IMG ID="IMG_LINE" X="0" Y="0" W="2" H="48" IMG="../Data/6_ui/myHome/mhLine.tga" IMG_W="2" IMG_H="48"/>
		
		<BUTTON ID="BTN_OK" X = "62" Y = "345" W ="84" H ="26">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(2503, 2200) </SCRIPT>
			<ATTR FONT = "FTbt_12" T_X = "42" T_Y ="6" T_CENTER = "1" />
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> 
				SendReqGemTrade()
			</SCRIPT>
			<HOTKEY ID = "59">
				SendReqGemTrade()
			</HOTKEY>
		</BUTTON>
		
		<BUTTON ID="BTN_CANCEL" X = "148" Y = "345" W ="84" H ="26">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR FONT = "FTbt_12" T_X = "42" T_Y ="6" T_CENTER = "1" />
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> UISelf:CloseParent() CloseUI("SFRM_JEWEL_CONSTELLATION") return true	</SCRIPT>
			<HOTKEY ID = "60">	UISelf:CloseParent()  CloseUI("SFRM_JEWEL_CONSTELLATION") return true </HOTKEY>
			<HOTKEY ID = "1">	UISelf:CloseParent() CloseUI("SFRM_JEWEL_CONSTELLATION") return true </HOTKEY>
		</BUTTON>		
	</STATIC_FORM>
	
	<STATIC_FORM ID="FRM_CP_STORE" ALIGN_X="50" ALIGN_Y="40" W="274" H="416" STATIC_NUM="1" CAN_DRAG="1" UNIQUE_EXIST_TYPE="NO_DUPLICATE">		
		<SCRIPT ID="ON_CALL">RegistUIAction(UISelf, "CloseUI")</SCRIPT>
		<SCRIPT ID="ON_CLOSE"> ClearGemStoreData() UISelf:ClearCustomData() </SCRIPT>
		
		<STATIC_FORM ID="SFRM_TITLEBAR" X="1" Y="0" W="272" H="36" Z="1" STATIC_NUM="4">
			<STATIC_FORM ID = "SFRM_TAB_BG" X="8" Y="5" W="142" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<IMG ID="IMG_TITLE_TAB" X="7" Y="4" Z="1" W="114" H="24" NO_FOCUS="1" T_CENTER = "1" T_X = "67" T_Y = "4">
				<ATTR FONT="FTbt_12" FONT_COLOR_HEX="0xFF4D3413" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11" TEXT="401011" IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="241" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<SCRIPT ID="ON_L_BTN_UP"> CloseUI("FRM_CP_STORE") </SCRIPT>
			</BUTTON>
		</STATIC_FORM>
		
		<FORM ID="FRM_UI" X="9" Y="35" Z="-1" W="256" H="240">
			<STATIC_FORM ID="SFRM_BG_COLOR_1" X="0" Y="0" Z="-2" W="256" H="240" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFRM_BG_SHADOW_1" X="0" Y="0" Z="-1" W="256" H="240" STATIC_NUM="3"/>
		</FORM>
		
		<!-- expression build cp item slot -->
		<IMG ID = "IMG_CURSOR" X = "-1" Y = "-1" Z = "2" W = "42" H = "42" IMG="../Data/6_ui/common/cmIconOver02.tga" IMG_W = "84" IMG_H = "84" U = "2" V = "2" UV_INDEX = "2" IGNORE_PARENT_RECT = "1" IS_VISIBLE = "0" PASS_EVENT = "1" NO_FOCUS = "1">
			<SCRIPT ID = "ON_TICK">	UISelf:Visible(UISelf:PtInUI(GetCursorPos())) </SCRIPT>
		</IMG>
		<IMG ID="IMG_SELECT" X="-1" Y="-1" W="42" H="42" Z="4" U="2" V="2" UV_INDEX="3" IMG="../Data/6_ui/common/cmIconOver02.tga" IMG_W="84" IMG_H="84" NO_FOCUS="1" PASS_EVENT="1" IS_VISIBLE="0">
			<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
		</IMG>
		<BUILD ID="BLD_SLOT_BG" TARGET_ID="ICON_SLOT_BG" X="18" Y="44" Z="1" X_COUNT="5" Y_COUNT="4" X_GAB="49" Y_GAB="46"/>
		<STATIC_FORM ID="ICON_SLOT_BG" X="0" Y="0" Z="1" W="42" H="43" ICON_GRP ="254" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
		<BUILD ID="BLD_SLOT" TARGET_ID="ICON_SLOT" X="18" Y="44" Z="1" X_COUNT="5" Y_COUNT="4" X_GAB="49" Y_GAB="46"/>
		<IMG ID="ICON_SLOT" X="0" Y="0" Z="3" W="40" H="40">
			<ATTR TEXT="" T_X="21" T_Y="42" T_CENTER="1"/>
			<SCRIPT ID="ON_DISPLAY">GemStoreDrawIconImage(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			<SCRIPT ID="ON_CLOSE">CloseToolTip()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				ClickGemStoreListItem(UISelf)
				PlaySound("../Sound/U_Sound/button(click).wav")
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">
				local self = UISelf
				GemStoreDrawIconTooltip(self)
				local b = true
				local cur = self:GetParent():GetControl("IMG_CURSOR")
				if false == cur:IsNil() then
					cur:Visible(b)
					if b then
						local pos = self:GetLocation()
						pos:SetX(pos:GetX())
						pos:SetY(pos:GetY())
						cur:SetLocation(pos)
					end
				end
			</SCRIPT>
		</IMG>

		<IMG ID="IMG_LINE01" X="15" Y="230" W="244" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="244" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
		<IMG ID="IMG_LINE02" X="15" Y="231" W="244" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="244" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>

		<FORM ID = "FRM_PAGE" X="30" Y="240" Z="1" W="214" H="23">
			<IMG ID="BTN_FIRST_BG" X="19" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<IMG ID="BTN_PREV_BG" X="48" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<IMG ID="BTN_NEXT_BG" X="159" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<IMG ID="BTN_END_BG" X="189" Y="9" Z="-1" W="4" H="6" IMG="../Data/6_UI/Common/cmBody.tga" IMG_W="4" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<BUTTON ID = "BTN_FIRST" X="0" Y="2" W="23" H="19">
				<ATTR BTN_IMG="../Data/6_ui/pvp/pvBack2.tga" BTN_IMG_W="46" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreBeginPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUTTON ID = "BTN_PREV" X="38" Y="2" W="15" H="19">
				<ATTR BTN_IMG="../Data/6_ui/Pvp/pvBack1.tga" BTN_IMG_W="30" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreJumpPrevPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUTTON ID = "BTN_NEXT" X="159" Y="2" W="15" H="19">
				<ATTR BTN_IMG="../Data/6_ui/Pvp/pvNext1.tga" BTN_IMG_W="30" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreJumpNextPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUTTON ID = "BTN_END" X="189" Y="2" W="23" H="19">
				<ATTR BTN_IMG="../Data/6_ui/Pvp/pvNext2.tga" BTN_IMG_W="46" BTN_IMG_H="38"/>
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStoreEndPage(UISelf)</SCRIPT>
			</BUTTON>
			<BUILD ID="BLD_PAGENUM" TARGET_ID = "CBTN_NUM" X = "60" Y = "0" X_COUNT = "3" Y_COUNT = "1" X_GAB = "30" Y_GAB = "0"/>
			<CHECK_BUTTON ID="CBTN_NUM" X="0" Y="0" W="28" H="21" TEXT="5002" T_CENTER="1" T_X="14" T_Y="1" FONT="FTcts_16" BTN_CLICK_LOCK="1" BTN_T_INVERTBOLD="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="4">
				<SCRIPT ID="ON_L_BTN_DOWN">OnClickGemStorePage(UISelf)</SCRIPT>
			</CHECK_BUTTON>
		</FORM>
		
		<STATIC_FORM ID="SFRM_JEWEL_BG" X="10" Y="277" W="257" H="98" STATIC_NUM="34">
			<FORM ID="IMG_BG" X="10" Y="67" W="235" H="25" IMG="../Data/6_ui/etc/etcCpBg.tga" IMG_W="235" IMG_H="25">
				<ATTR TEXT="400426" FONT="Font_Text" T_X="225" T_Y="4" T_RIGHT="1" FONT_COLOR_HEX="0xFFFFFFFF"/>	
			</FORM>
		</STATIC_FORM>
		<!-- expression Owned Gems -->
		<BUILD ID="BLD_ICON_JEWEL" TARGET_ID="FRM_JEWEL" X="18" Y="280" Z="1" X_COUNT="5" Y_COUNT="1" X_GAB="49" Y_GAB="44"/>
		<FORM ID="FRM_JEWEL" X="0" Y="0" Z="1" W="42" H="43">
			<ATTR TEXT="" T_X="18" T_Y="42" T_CENTER="1"/>	
			<ICON ID="ICON_JEWEL" X="0" Y="0" Z="1" W="42" H="43" ICON_GRP ="254">
				<ATTR IMG="../Data/6_ui/info/ifIconBg.tga" IMG_W="42" IMG_H="42" />					
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				<SCRIPT ID="ON_CLOSE">CloseToolTip() UISelf:ClearCustomData() UISelf:SetStaticText("")</SCRIPT>
			</ICON>
		</FORM>
		
		<BUILD ID="BLD_LINE" TARGET_ID="IMG_LINE" X="62" Y="280" Z="1" X_COUNT="4" Y_COUNT="1" X_GAB="49" Y_GAB="44"/>
		<IMG ID="IMG_LINE" X="0" Y="0" W="2" H="48" IMG="../Data/6_ui/myHome/mhLine.tga" IMG_W="2" IMG_H="48"/>
		
		<FORM ID="FRM_CP" X="20" Y="344" W="235" H="25">
			<ATTR TEXT="" FONT="Font_Text" T_X="200" T_Y="4" T_RIGHT="1" FONT_COLOR_HEX="0xFFFFF568"/>	
			<SCRIPT ID="ON_CALL">UISelf:SetStaticText("")</SCRIPT>
		</FORM>

		<BUTTON ID="BTN_OK" X = "52" Y = "378" W ="84" H ="26">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(2503, 2200) </SCRIPT>
			<ATTR FONT = "FTbt_12" T_X = "42" T_Y ="6" T_CENTER = "1" />
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> 
				SendReqGemTrade()
			</SCRIPT>
			<HOTKEY ID = "59">	
				SendReqGemTrade()
			</HOTKEY>
		</BUTTON>
		
		<BUTTON ID="BTN_CANCEL" X = "138" Y = "378" W ="84" H ="26">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR FONT = "FTbt_12" T_X = "42" T_Y ="6" T_CENTER = "1" />
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> UISelf:CloseParent() return true	</SCRIPT>
			<HOTKEY ID = "60">	UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID = "1">	UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>		
	</STATIC_FORM>	
	
	<!-- list item in GemStore list -->
	<FORM ID="FRM_GEM_STORE_ITEM" X="0" Y="0" W="215" H="58" >		
		<FORM ID="FRM_ARROW1" X="50" Y="10" W="6" H="6" IMG="../Data/6_ui/common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
		<FORM ID="FRM_LV_CLASS" TEXT="1" T_X="60" T_Y="3" W="200" H="22" Z="2" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			
		<STATIC_FORM ID="SFRM_ICON_BG" X="4" Y="4" Z="1" W="40" H="40" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
		<STATIC_FORM ID="SFRM_ITEM_NAME" X="50" Y="20" Z="1" W="160" H="22" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT="400454" T_X="6" T_Y="3" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		
		<STATIC_FORM ID="SFRM_BG" X="0" Y="0" Z="-1"  W="215" H="48" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" />
		
		<IMG ID="ICON_ITEM" X="5" Y="4" Z="4" W="40" H="40" ICON_GRP="254">
			<SCRIPT ID="ON_DISPLAY"> GemStoreDrawIconImage(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER"> GemStoreDrawIconTooltip(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">  
				ClickGemStoreListItem(UISelf:GetParent():GetControl("CBTN_SELECT_ITEM"))
				PlaySound("../Sound/U_Sound/button(click).wav")
			</SCRIPT> 
		</IMG>
		<CHECK_BUTTON ID="CBTN_SELECT_ITEM">
			<ATTR X="0" Y="0" W="215" H="48" Z="3" PASS_EVENT = "1" />
			<ATTR BTN_IMG ="../Data/6_ui/common/cmGemClick.tga" BTN_IMG_W="215" BTN_IMG_H="192" U="1" V="4" UV_INDEX="0"/>
			<SCRIPT ID="ON_CALL">
				UISelf:CheckState(false)
				UISelf:LockClick(false)
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN"> ClickGemStoreListItem(UISelf) </SCRIPT>
		</CHECK_BUTTON>
	</FORM>
	<FORM ID="FRM_GET_ITEM">
		<ATTR ALIGN_X="50" ALIGN_Y="20" W="263" H="99" IMG="../Data/6_ui/stone/stIconBg.tga" IMG_W="263" IMG_H="99"	PASS_EVENT="1" PRIORITY="99" NO_FOCUS="1"/>
		<ICON ID="ICON" X="111" Y="0" Z="1" W="42" H="43" ICON_GRP ="254">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>			
		</ICON>
		<FORM ID="FRM_MSG" X="0" Y="52" W="263" H="47" TEXT="" T_X="131" T_Y="3" T_CENTER="1" FONT="Font_Text" FONT_COLOR_HEX="0xFFFFFFFF"/>
	</FORM>		
	
	<FORM ID="FRM_GET_ITEM2" ALIGN_X="50" ALIGN_Y="20" W="394" H="148" PRIORITY="99" ALIVE_TIME="3000" ALIVE_TIME_IGNORE_MOUSE_OVER="1" IMG="../Data/6_ui/etc/etcItPopS.tga" IMG_W="394" IMG_H="148">
		<IMG ID="ICN_ITEM" X="166" Y="3" W="40" H="40">
			<SCRIPT ID="ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</IMG>
		<FORM ID="FRM_UIMODEL" X="-190" Y="-355" W="768" H="768" IGNORE_PARENT_RECT="1" NO_FOCUS="1" PASS_EVENT="1">
			<SCRIPT ID="ON_CREATE">
				local kSelf = UISelf
				kSelf:InitRenderModel("MazeItemEffect", true, true)
				kSelf:SetRenderModelCameraZoomMinMax("MazeItemEffect", 0.1, 1.0)
			</SCRIPT>
			<SCRIPT ID="ON_CALL">
				local kSelf = UISelf
				kSelf:RenderModelOrthoCameraZoomSubstitutionOldVer("MazeItemEffect", 0.5)
				kSelf:AddRenderModelNIFByPath("MazeItemEffect", "MazeMixEffect", "../Data/5_Effect/4_UI/ef_combination_01.nif", false, true)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">UISelf:DrawRenderModel("MazeItemEffect")</SCRIPT>
			<SCRIPT ID="ON_DISPLAY">UISelf:AddToDrawListRenderModel("MazeItemEffect")</SCRIPT>
			<SCRIPT ID="ON_CLOSE">UISelf:ClearRenderModel("MazeItemEffect")</SCRIPT>
		</FORM>
		<ATTR TEXT="" FONT="FTcts_16" T_X="195" T_Y="72" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1"/>
		<HOTKEY ID="1">UISelf:Close() return true</HOTKEY>
	</FORM>
	
	<STATIC_FORM ID = "SFRM_TREASURE_CHEST">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W ="288" H ="407" CAN_DRAG = "1" STATIC_NUM = "1" />
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="287" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_CLOSE_BG" X="255" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<BUTTON ID="Close" X="0" Y="0" W="24" H="24">
					<ATTR BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
					<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():GetParent():CloseParent()</SCRIPT>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_COLOR" X="7" Y="4" W="246" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<STATIC_FORM ID = "SFRM_SHADOW" X = "0" Y = "0" W="246" H="24" STATIC_NUM = "3">
					<ATTR TEXT="790500" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413" T_X="10" T_Y="4" T_LEFT="1" BTN_CLICK_LOCK="1"/>
				</STATIC_FORM>
			</STATIC_FORM>
		</STATIC_FORM>
		
		<SCRIPT ID="ON_CALL"> g_iAniStartTime = nil </SCRIPT>
		<SCRIPT ID="ON_CLOSE"> g_iAniStartTime = nil </SCRIPT>
		
		<FORM ID = "FRM_MODEL" X="9" Y="35" Z="-2" W="270" H="270">
			<ATTR IMG="../Data/6_ui/etc/etcBoxBg.tga" IMG_W="270" IMG_H="270" />
			
			<FORM ID = "FRM_MODELVIEW" X="0" Y="0" Z="-1" W="266" H="269">			
				<SCRIPT ID="ON_CALL">
					local kSelf = UISelf
					kSelf:InitRenderModel("TCModel", true)
					kSelf:AddRenderModelActorByID("TCModel", "TCActor", "o_UI_TreasureChest", true, false)
					kSelf:SetRenderModelActorTranslate("TCModel", "TCActor", 13, 40, -20)
					kSelf:SetRenderModelActorRotate("TCModel", "TCActor", 0, 0, -130)
					InitChestCamera("TCModel", "TCActor")
				</SCRIPT>
				<SCRIPT ID="ON_WHEEL_UP">
				</SCRIPT>
				<SCRIPT ID="ON_WHEEL_DOWN">
				</SCRIPT>
				<SCRIPT ID="ON_TICK">
					if g_FastBoxOpen == false then
						if g_iAniStartTime ~= nil then
							local fDelta = GetAccumTime() - g_iAniStartTime
							if fDelta >= 3.5 then
								SendReqOpenChest()
								g_iAniStartTime = nil
							end
						end
						UISelf:DrawRenderModel("TCModel")
					else
						if g_iAniStartTime ~= nil then
							local fDelta = GetAccumTime() - g_iAniStartTime
							if fDelta >= 0.2 then
								SendReqOpenChest()
								g_iAniStartTime = nil
							end
						end
						UISelf:DrawRenderModel("TCModel")
					end
				</SCRIPT>
				<SCRIPT ID="ON_DISPLAY">
					UISelf:AddToDrawListRenderModel("TCModel")
				</SCRIPT>
				<SCRIPT ID="ON_CLOSE"> UISelf:DelRenderModel("TCModel") </SCRIPT>
				<SCRIPT ID="ON_WHEEL_UP"> return true </SCRIPT>
				<SCRIPT ID="ON_WHEEL_DOWN"> return true </SCRIPT>
			</FORM>
		
			<FORM ID = "FRM_REWARDSLOT" X="1" Y="52" Z="0" W="76" H="74" IS_VISIBLE="0">
				<ATTR IMG="../Data/6_ui/etc/etcIctSlot.tga" IMG_W="76" IMG_H="74" />
				<FORM ID="FRM_RESULTSLOT_ANI" Z="1" W="76" H="74">
					<ATTR IMG="../Data/6_ui/etc/etcIctSlotFn.tga" IMG_W="228" IMG_H="148" U="3" V="2" />
					<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.09) </SCRIPT>
				</FORM>
			</FORM>
			<ICON ID = "ICN_REWARD" X="19" Y="70" Z="1" W="40" H="40" ICON_GRP ="254">
				<SCRIPT ID = "ON_DISPLAY"> DrawChestIcon(UISelf) </SCRIPT>
				<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			</ICON>

			<STATIC_FORM ID = "SFRM_KEYSLOT" X = "19" Y = "157" Z="0" W="40" H="40" STATIC_NUM = "2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<STATIC_FORM ID = "SFRM_KEYSLOTSDW" X = "0" Y = "0" Z="0" W="40" H="40" STATIC_NUM = "3" />
			</STATIC_FORM>
			<ICON ID = "ICN_KEY">
				<ATTR X="19" Y="157" Z="1" W="40" H="40" ICON_GRP ="90"/>
				<SCRIPT ID = "ON_DISPLAY"> DrawChestIcon(UISelf) </SCRIPT>
				<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
				<SCRIPT ID = "ON_R_BTN_DOWN"> RemoveKey() </SCRIPT>
				<SCRIPT ID = "ON_L_BTN_UP"> UISelf:CursorToIcon() </SCRIPT>
			</ICON>
		</FORM>
		
		<STATIC_FORM ID = "SFRM_COLOR1" X="9" Y="309" Z="-2" W="269" H="55" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
		<STATIC_FORM ID = "SFRM_SHADOW1" X="9" Y="309" Z="-1" W="269" H="55" STATIC_NUM = "3">
			<ATTR TEXT="" T_X="134" T_Y="12" T_CENTER="1" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			<SCRIPT ID="ON_CALL">
				UISelf:SetStaticTextW(GetTextW(699960))
			</SCRIPT>
		</STATIC_FORM>
		
		<BUTTON ID = "BTN_TRY_REFINE" IS_ENABLE = "0">
			<ATTR X="59" Y="368" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(790502, 2200) </SCRIPT>
			<SCRIPT ID = "ON_CALL"> UISelf:ClearCustomData() </SCRIPT>
			<SCRIPT ID = "ON_TICK">
				if UISelf:GetEnable() and not IsAvailableChest() then
					UISelf:SetEnable(false)
					RemoveKey()
				end
			</SCRIPT>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				SetRewardItem(0)
				local fAniStartTime = OpenChest()
				if fAniStartTime ~= 0 then
					g_iAniStartTime = fAniStartTime
					UISelf:SetEnable(false)
				else
					g_iAniStartTime = nil
				end
				UISelf:SetCustomDataAsFloat(fAniStartTime)
				return true
			</SCRIPT>
			<HOTKEY ID="59">
				SetRewardItem(0)
				local fAniStartTime = OpenChest()
				if fAniStartTime ~= 0 then
					g_iAniStartTime = fAniStartTime
					UISelf:SetEnable(false)
				else
					g_iAniStartTime = nil
				end
				UISelf:SetCustomDataAsFloat(fAniStartTime)
				return true
			</HOTKEY>		
		</BUTTON>
		<BUTTON ID = "BTN_CANCEL">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="144" Y="368" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
		
	</STATIC_FORM>
	
	<STATIC_FORM ID = "SFRM_JEWEL_BOX" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W ="255" H ="210" CAN_DRAG = "1" STATIC_NUM = "1" />
		<!--<FORM ID = "SFRM_TITLE_VIEW" TEXT="790108" X="54" Y="40" W="196" H="70" STATIC_NUM="3" FONT_COLOR_HEX="0xFF4D3413"/>-->
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="253" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_CLOSE_BG" X="222" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<BUTTON ID="Close" X="0" Y="0" W="24" H="24">
					<ATTR BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
					<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():GetParent():CloseParent()</SCRIPT>
					<HOTKEY ID="1">UISelf:GetParent():GetParent():CloseParent() return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_COLOR" X="7" Y="4" W="104" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			</STATIC_FORM>
			
			<CHECK_BUTTON ID="CBTN_COLOR" X="7" Y="4" Z="1" W="104" H="24" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmTabLong.tga" BTN_IMG_W="208" BTN_IMG_H="48"/>
				<ATTR TEXT="790500" FONT="FTtitle_14" T_X="46" T_Y="4" T_CENTER="1" BTN_CLICK_LOCK="1"/>
				<SCRIPT ID="ON_CALL">
					UISelf:CheckState(true)
				</SCRIPT>
			</CHECK_BUTTON>			
		</STATIC_FORM>
		<IMG ID = "ICN_LEFT_BG" X="59" Y="49" W="42" H="42" IMG = "../Data/6_UI/common/cmSlotQ.tga" IMG_W = "84" IMG_H = "42" U = "2" V = "1" UV_INDEX = "1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID = "ON_DISPLAY">
				if GetAccumTime() - g_fSparkTime > 0.1 then
					local iNow = UISelf:GetUVIndex()
					g_fSparkTime = GetAccumTime()
					iNow = iNow + 1
					if iNow > 2 then
						iNow = 1
					end
					UISelf:SetUVIndex(iNow)
				end
			</SCRIPT>
			<SCRIPT ID = "ON_CALL">
				g_fSparkTime = GetAccumTime()
			</SCRIPT>
		</IMG>	
		<STATIC_FORM ID="SFRM_LEFT_ITEM_BG" X="59" Y="49" W="42" H="42" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<IMG ID = "IMG_BG_1" X="0" Y="0" W="42" H="42" IMG = "../Data/6_UI/common/cmSlotBg.tga" IMG_W = "42" IMG_H = "42" UV_INDEX = "1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1"/>
		</STATIC_FORM>
		<ICON ID = "ICN_LEFT" X="60" Y="50" W="40" H="40" ICON_GRP ="254" ICON_KEY = "0" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
		</ICON>
		<STATIC_FORM ID="ICN_RIGHT_BG">
			<ATTR X="143" Y="49" W="42" H="42" Z="-1" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
		</STATIC_FORM>		
		<IMG ID = "ICN_RIGHT" X="144" Y="50" W="40" H="40" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID="ON_TICK">ItemSealProcessIconDraw(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">ItemSelfProcessIconToolTip(UISelf:GetParent():GetControl("ICN_RIGHT_BG"))</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>			
		</IMG>		
		<STATIC_FORM ID = "SFRM_COLOR" X="9" Y="35" Z="-2" W="234" H="132" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
		<STATIC_FORM ID = "SFRM_SHADOW" X = "9" Y = "35" Z="-1" W="234" H="132" STATIC_NUM = "3" />
		
		<STATIC_FORM ID = "SFRM_COLOR_TEXT" X="18" Y="99" W="216" H="61" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT = "790501" FONT = "Font_Text" T_X="108" T_Y ="20" T_CENTER = "1"/>
			<!--<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText( string.format(GetTextW(790109):GetStr(), 0) ) </SCRIPT>-->
		</STATIC_FORM>
		
		<BUTTON ID = "BTN_TRY_REFINE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(790502, 2200) </SCRIPT>
			<ATTR X="41" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_L_BTN_DOWN">
				local wnd = ItemJewelBoxWnd(UISelf)
				wnd:SendReqJewelBox()
			</SCRIPT>
			<HOTKEY ID="59">
				local wnd = ItemJewelBoxWnd(UISelf)
				wnd:SendReqJewelBox()
				return true
			</HOTKEY>		
		</BUTTON>
		<BUTTON ID = "BTN_CANCLE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="127" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>	
	
	<STATIC_FORM ID = "SFRM_GAMBLE" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W ="255" H ="210" CAN_DRAG = "1" STATIC_NUM = "1" />
		<!--<FORM ID = "SFRM_TITLE_VIEW" TEXT="790108" X="54" Y="40" W="196" H="70" STATIC_NUM="3" FONT_COLOR_HEX="0xFF4D3413"/>-->
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="253" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_CLOSE_BG" X="222" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<BUTTON ID="Close" X="0" Y="0" W="24" H="24">
					<ATTR BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
					<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():GetParent():CloseParent()</SCRIPT>
					<HOTKEY ID="1">UISelf:GetParent():GetParent():CloseParent() return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_COLOR" X="7" Y="4" W="104" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			</STATIC_FORM>
			
			<CHECK_BUTTON ID="CBTN_COLOR" X="7" Y="4" Z="1" W="104" H="24" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmTabLong.tga" BTN_IMG_W="208" BTN_IMG_H="48"/>
				<ATTR TEXT="790520" FONT="FTtitle_14" T_X="46" T_Y="4" T_CENTER="1" BTN_CLICK_LOCK="1"/>
				<SCRIPT ID="ON_CALL">
					UISelf:CheckState(true)
				</SCRIPT>
			</CHECK_BUTTON>			
		</STATIC_FORM>
		<IMG ID = "ICN_RESULT_BG" X="106" Y="49" W="42" H="42" IMG = "../Data/6_UI/common/cmSlotRd.tga" IMG_W = "84" IMG_H = "84" U = "2" V = "2" UV_INDEX = "1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID = "ON_DISPLAY">
				if GetAccumTime() - g_fSparkTime > 0.1 then
					local iNow = UISelf:GetUVIndex()
					g_fSparkTime = GetAccumTime()
					iNow = iNow + 1
					if iNow > 4 then
						iNow = 1
					end
					local wnd = ItemGambleWnd(UISelf)
					if true == wnd:GetInProcess() then
						PlaySoundByID("Item_Gachapon_Loop")
						UISelf:SetUVIndex(iNow)
					end
				end
			</SCRIPT>
			<SCRIPT ID = "ON_CALL">
				g_fSparkTime = GetAccumTime()
			</SCRIPT>
		</IMG>	
		<STATIC_FORM ID="SFRM_RESULT_ITEM_BG" X="106" Y="49" W="42" H="42" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<IMG ID = "IMG_BG_1" X="0" Y="0" W="42" H="42" IMG = "../Data/6_UI/common/cmSlotBg.tga" IMG_W = "42" IMG_H = "42" UV_INDEX = "1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1"/>
		</STATIC_FORM>
		<ICON ID = "ICN_RESULT" X="107" Y="50" W="40" H="40" ICON_GRP ="254" ICON_KEY = "0" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
<!--			<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>			-->
			<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
		</ICON>
		
		<STATIC_FORM ID = "SFRM_COLOR" X="9" Y="35" Z="-2" W="234" H="132" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
		<STATIC_FORM ID = "SFRM_SHADOW" X = "9" Y = "35" Z="-1" W="234" H="132" STATIC_NUM = "3" />
		
		<STATIC_FORM ID = "SFRM_COLOR_TEXT" X="18" Y="99" W="216" H="61" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT = "790521" FONT = "Font_Text" T_X="108" T_Y ="20" T_CENTER = "1"/>
		</STATIC_FORM>	
		<SCRIPT ID = "ON_TICK">
			local wnd = ItemGambleWnd(UISelf)
				local iGambleItemCount = wnd:GetGambleItemCount()
				if  iGambleItemCount > 0 then
					local child = UISelf:GetControl("BTN_TRY_REFINE")
					if not child:IsNil() then
						child:SetEnable(true)
					end
					local child2 = UISelf:GetControl("SFRM_COLOR_TEXT")
					if not child2:IsNil() then
						if not wnd:GetAgainSend() then
							child2:SetStaticTextW(GetTextW(790521))
						else
							child2:SetStaticTextW(GetTextW(790522))
						end
					end 
				else
					local child = UISelf:GetControl("BTN_TRY_REFINE")
					if not child:IsNil() then
						child:SetEnable(false)
					end
					local child2 = UISelf:GetControl("SFRM_COLOR_TEXT")
					if not child2:IsNil() then
						child2:SetStaticTextW(GetTextW(790523))
					end 
				end
		</SCRIPT>	
		<BUTTON ID = "BTN_TRY_REFINE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<ATTR X="41" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_L_BTN_DOWN">
				local wnd = ItemGambleWnd(UISelf)
				wnd:SendReqGamble()
			</SCRIPT>
			<HOTKEY ID="59">
				local wnd = ItemGambleWnd(UISelf)
				wnd:SendReqGamble()
				return true
			</HOTKEY>		
		</BUTTON>
		<BUTTON ID = "BTN_CANCLE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="127" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">	UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>		
		
	<STATIC_FORM ID = "SFRM_EVENT_BOX" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W ="255" H ="210" CAN_DRAG = "1" STATIC_NUM = "1" />
		<!--<FORM ID = "SFRM_TITLE_VIEW" TEXT="790108" X="54" Y="40" W="196" H="70" STATIC_NUM="3" FONT_COLOR_HEX="0xFF4D3413"/>-->
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="253" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_CLOSE_BG" X="222" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<BUTTON ID="Close" X="0" Y="0" W="24" H="24">
					<ATTR BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
					<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():GetParent():CloseParent()</SCRIPT>
					<HOTKEY ID="1">UISelf:GetParent():GetParent():CloseParent() return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_COLOR" X="7" Y="4" W="104" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			</STATIC_FORM>
			
			<CHECK_BUTTON ID="CBTN_COLOR" X="7" Y="4" Z="1" W="104" H="24" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmTabLong.tga" BTN_IMG_W="208" BTN_IMG_H="48"/>
				<ATTR TEXT="790520" FONT="FTtitle_14" T_X="46" T_Y="4" T_CENTER="1" BTN_CLICK_LOCK="1"/>
				<SCRIPT ID="ON_CALL">
					UISelf:CheckState(true)
				</SCRIPT>
			</CHECK_BUTTON>			
		</STATIC_FORM>
		<IMG ID = "ICN_RESULT_BG" X="106" Y="49" W="42" H="42" IMG = "../Data/6_UI/common/cmSlotRd.tga" IMG_W = "84" IMG_H = "84" U = "2" V = "2" UV_INDEX = "1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID = "ON_DISPLAY">
				if GetAccumTime() - g_fSparkTime > 0.1 then
					local iNow = UISelf:GetUVIndex()
					g_fSparkTime = GetAccumTime()
					iNow = iNow + 1
					if iNow > 4 then
						iNow = 1
					end
					local wnd = ItemEventBoxWnd(UISelf)
					if true == wnd:GetInProcess() then
						PlaySoundByID("Item_Gachapon_Loop")
						UISelf:SetUVIndex(iNow)
					end
				end
			</SCRIPT>
			<SCRIPT ID = "ON_CALL">
				g_fSparkTime = GetAccumTime()
			</SCRIPT>
		</IMG>	
		<STATIC_FORM ID="SFRM_RESULT_ITEM_BG" X="106" Y="49" W="42" H="42" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<IMG ID = "IMG_BG_1" X="0" Y="0" W="42" H="42" IMG = "../Data/6_UI/common/cmSlotBg.tga" IMG_W = "42" IMG_H = "42" UV_INDEX = "1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1"/>
		</STATIC_FORM>
		<ICON ID = "ICN_RESULT" X="107" Y="50" W="40" H="40" ICON_GRP ="254" ICON_KEY = "0" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
<!--			<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>			-->
			<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
		</ICON>
		
		<STATIC_FORM ID = "SFRM_COLOR" X="9" Y="35" Z="-2" W="234" H="132" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
		<STATIC_FORM ID = "SFRM_SHADOW" X = "9" Y = "35" Z="-1" W="234" H="132" STATIC_NUM = "3" />
		
		<STATIC_FORM ID = "SFRM_COLOR_TEXT" X="18" Y="99" W="216" H="61" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT = "790521" FONT = "Font_Text" T_X="108" T_Y ="20" T_CENTER = "1"/>
		</STATIC_FORM>	
		<SCRIPT ID = "ON_TICK">
			local wnd = ItemEventBoxWnd(UISelf)
				local iEventBoxItemCount = wnd:GetEventBoxItemCount()
				if  iEventBoxItemCount > 0 then
					local child = UISelf:GetControl("BTN_TRY_REFINE")
					if not child:IsNil() then
						child:SetEnable(true)
					end
					local child2 = UISelf:GetControl("SFRM_COLOR_TEXT")
					if not child2:IsNil() then
						if not wnd:GetAgainSend() then
							child2:SetStaticTextW(GetTextW(790521))
						else
							child2:SetStaticTextW(GetTextW(790522))
						end
					end 
				else
					local child = UISelf:GetControl("BTN_TRY_REFINE")
					if not child:IsNil() then
						child:SetEnable(false)
					end
					local child2 = UISelf:GetControl("SFRM_COLOR_TEXT")
					if not child2:IsNil() then
						child2:SetStaticTextW(GetTextW(790523))
					end 
				end
		</SCRIPT>	
		<BUTTON ID = "BTN_TRY_REFINE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<ATTR X="41" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_L_BTN_DOWN">
				local wnd = ItemEventBoxWnd(UISelf)
				wnd:SendReqEventBox()
			</SCRIPT>
			<HOTKEY ID="59">
				local wnd = ItemEventBoxWnd(UISelf)
				wnd:SendReqEventBox()
				return true
			</HOTKEY>		
		</BUTTON>
		<BUTTON ID = "BTN_CANCLE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="127" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">	UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>		
		
	<STATIC_FORM ID="FRM_ITEM_CONVERT" X = "240" Y = "91" W="242" H="368" STATIC_NUM="1">		
		<STATIC_FORM ID="SFRM_TITLE_BG" X="1" Y="0" Z="1" W="240" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_BG_1" X="7" Y="4" W="200" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<ATTR TEXT="790530" T_X="8" T_Y="4" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413"/>
				<STATIC_FORM ID="SFRM_BG_SD" X="0" Y="0" W="200" H="24" STATIC_NUM="3"/>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_BG_3" X="209" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<BUTTON ID="BNT_CLOSE" X="209" Y="4" Z="1" W="24" H="24">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
				<SCRIPT ID="ON_L_BTN_DOWN"> CloseUI("FRM_ITEM_CONVERT") </SCRIPT>				
			</BUTTON>
		</STATIC_FORM>
		
		<FORM ID="FRM_UI" X="9" Y="35" Z="-1" W="224" H="288">
			<STATIC_FORM ID="SFRM_BG_COLOR_1" X="0" Y="0" Z="-2" W="224" H="288" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFRM_BG_SHADOW_1" X="0" Y="0" Z="-1" W="224" H="288" STATIC_NUM="3"/>
			<STATIC_FORM ID="SFRM_BG_SOUL" X="12" Y="90" Z="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			
			<FORM ID="FRM_TITLE_NAME" X="0" Y="5" W="224" H="50" TEXT="790540" T_X="112" T_Y="10" T_CENTER="1" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413">
				<SCRIPT ID = "ON_CALL"> 
					if(GetLocale() == LOCALE.NC_USA) then
						local kSelf = UISelf
						kSelf:SetStaticTextW(GetTT(790541))
					end
				</SCRIPT>
			</FORM>
		
			<IMG ID="IMG_ICON_CURSOR1" X="62" Y="96" W="6" H="6" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
			<FORM ID="FRM_SOUL_NAME" X="72" Y="91" W="200" H="20" TEXT="" T_X="0" T_Y="0" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			<IMG ID="IMG_ICON_CROSS1" X="72" Y="113" W="14" H="14" IMG="../Data/6_ui/Stone/stXimg.tga" IMG_W="14" IMG_H="14" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
			<IMG ID="IMG_LINE_1" X="60" Y="136" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE_2" X="60" Y="137" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			<IMG ID="IMG_ARROW" X="92" Y="141" W="40" H="55" IMG="../Data/6_ui/Stone/stArw2.tga" IMG_W="40" IMG_H="55">
				<SCRIPT ID = "ON_DISPLAY"> OnProgressItemConvert(UISelf) </SCRIPT>
			</IMG>
			<IMG ID="IMG_LINE_3" X="60" Y="199" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE_4" X="60" Y="210" W="289" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="150" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			<STATIC_FORM ID="SFRM_BG_UNSEALINGSCROLL" X="12" Y="202" Z="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<IMG ID="IMG_ICON_CURSOR2" X="62" Y="208" W="6" H="6" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
			<FORM ID="FRM_SCROLL_NAME" X="72" Y="203" W="200" H="20" TEXT="" T_X="0" T_Y="0" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			<IMG ID="IMG_ICON_CROSS2" X="72" Y="225" W="14" H="14" IMG="../Data/6_ui/Stone/stXimg.tga" IMG_W="14" IMG_H="14" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
			<STATIC_FORM ID="SFRM_COUNT" X="12" Y="254" Z="0" W="198" H="26" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
				<ATTR TEXT="400454" T_X="8" T_Y="4" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			</STATIC_FORM>
		</FORM>
		<ICON ID = "ICON_Item1" X="22" Y="126" W="40" H="40" ICON_GRP ="161" ICON_KEY = "0">
			<SCRIPT ID = "ON_L_BTN_DOWN"> local wnd = ItemConvertSystemWnd(UISelf) </SCRIPT>
			<SCRIPT ID = "ON_L_BTN_UP"> 
				local bRet = UISelf:CursorToIcon() 
				if true == bRet then
					local wnd = ItemConvertSystemWnd(UISelf)
					wnd:OnItemConvertInit(1)
				end
			</SCRIPT>
			<SCRIPT ID = "ON_DISPLAY">
				local wnd = ItemConvertSystemWnd(UISelf)
				wnd:DisplaySrcIcon()
			</SCRIPT>
			<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER"> CallSimpleItemToolTip(UISelf, UISelf:GetCustomDataAsInt()) </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
		</ICON>		
		<IMG ID="ICON_Item2" X="22" Y="238" Z="1" W="42" H="42">
			<SCRIPT ID="ON_CALL">SetSimpleItemIcon(UISelf, 0)</SCRIPT>
			<SCRIPT ID="ON_TICK">ItemSealProcessIconDraw(UISelf)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER">CallSimpleItemToolTip(UISelf, UISelf:GetCustomDataAsInt())</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</IMG>
		
		<STATIC_FORM ID="SFRM_COUL_COUNT" X="100" Y="144" Z="1" W="119" H="22" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT="" T_X="8" T_Y="2" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_SCROLL_COUNT" X="100" Y="256" Z="1" W="119" H="22" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT="" T_X="8" T_Y="2" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		<BUTTON ID="BTN_INC_COUNT" X="98" Y="293" Z="1" W="18" H="18">
			<ATTR BTN_IMG="../Data/6_ui/Skill/skUpB.tga" BTN_IMG_W="36" BTN_IMG_H="36"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnIncItemConvertCount(UISelf:GetParent()) </SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_DEC_COUNT" X="118" Y="293" Z="1" W="18" H="18">
			<ATTR BTN_IMG="../Data/6_ui/Skill/skDnB.tga" BTN_IMG_W="36" BTN_IMG_H="36"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnDecItemConvertCount(UISelf:GetParent()) </SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_MAX_COUNT" X="140" Y="291" Z="1" W="76" H="22">
			<ATTR BTN_IMG="../Data/6_ui/Community/gdBt.tga" BTN_IMG_W="152" BTN_IMG_H="44"/>
			<ATTR TEXT="400455" T_X="38" T_Y="2" FONT="Font_Text" T_OUTLINE="1" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnMaxItemConvertCount(UISelf:GetParent()) </SCRIPT>
		</BUTTON>
		
		<BUTTON ID="BTN_OK" X="36" Y="329" Z="3" W="84" H="26">			
			<SCRIPT ID="ON_CREATE">	SetTextOnThisUI(400700, 2200) </SCRIPT>
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">  OnSendItemConvertSystem( UISelf:GetCustomDataAsInt() )	</SCRIPT>
			<HOTKEY ID="59">  OnSendItemConvertSystem( UISelf:GetCustomDataAsInt() )	return true </HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL" X="122" Y="329" Z="3" W="84" H="26">
			<SCRIPT ID="ON_CREATE">	SetTextOnThisUI(400534, 2201) </SCRIPT>
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
		<SCRIPT ID="ON_CALL">
			OnInitTradeUnsealingScrollVal()
			
			local wnd = ItemConvertSystemWnd(UISelf)
			wnd:Clear()
			wnd:OnItemConvertCallInit()
			RegistUIAction(UISelf, "CloseUI")
			ActivateUI("Inv")			
			CloseUI("SFRM_MSG_TRADE")
			CloseUI("SFRM_MSG_TRADE_REQUEST")			
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			OnInitTradeUnsealingScrollVal()
			
			local wnd = ItemConvertSystemWnd(UISelf)
			wnd:Clear(true)
			CloseUI("Inv")						
		</SCRIPT>
	</STATIC_FORM>	
	<!--
	CallUI("SFRM_USE_CUSTOM_ITEMS_SELECTER")
	-->
	<STATIC_FORM ID="SFRM_USE_CUSTOM_ITEMS_SELECTER" ALIGN_X="50" ALIGN_Y="50" W="231" H="310" STATIC_NUM="1" CAN_DRAG="1">
		<HOTKEY ID="1">UISelf:Close() return true</HOTKEY>
		<STATIC_FORM ID="SFRM_BACKGROUND" X="9" Y="9" W="213" H="258" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="213" H="258" STATIC_NUM="3" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<FORM ID="IMG_ARROW" X="9" Y="15" W="195" H="6" IMG="../Data/6_ui/common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4" TEXT="401402" T_X="7" T_Y="-5" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			<IMG ID="IMG_LINE1" X="8" Y="29" W="197" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="197" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE2" X="8" Y="30" W="197" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="197" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
		</STATIC_FORM>
		<LIST ID="LIST_CUSTOM_ITEMS" X="14" Y="42" W="187" H="220">
			<ATTR ELEMENT_ID="FRM_USE_CUSTOM_ITEMS_SELECTER_ITEM" ITEM_X="0" ITEM_Y="0"/>
			<ATTR BTN_UP="BTN_SCR_UP" BTN_DOWN="BTN_SCR_DOWN" BTN_MIDDLE="BTN_SCR_MIDDLE" WND_BAR="QUEST_LIST_SCROLL_BG"/>
			<IMG ID="QUEST_LIST_SCROLL_BG" X="190" Y="15" Z="-1" W="13" H="200" IMG="../Data/6_ui/Common/cmScrollBg.tga" IMG_W="13" IMG_H="200"/>
			<BUTTON ID="BTN_SCR_UP" X="186" Y="0" W="20" H="15" BTN_IMG="../Data/6_ui/Common/cmScrollUp.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="BTN_SCR_DOWN" X="186" Y="205" W="20" H="15" BTN_IMG="../Data/6_ui/Common/cmScrollDn.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="BTN_SCR_MIDDLE" X="188" Y="15" W="18" H="21" BTN_IMG="../Data/6_ui/Common/cmScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42"/>			
		</LIST>
		<BUTTON ID="BTN_OK">
			<ATTR X="31" Y="271" W="84" H="26"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR T_X="42" T_Y="4" FONT="FTbt_12" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnOKUseCustomTypeItem(UISelf) </SCRIPT>
			<HOTKEY ID="59"> OnOKUseCustomTypeItem(UISelf) return true </HOTKEY>			
		</BUTTON>
		<BUTTON ID="BTN_CANCEL">
			<ATTR X="117" Y="271" W="84" H="26"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR T_X="42" T_Y="4" FONT="FTbt_12" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:GetParent():Close() </SCRIPT>
			<HOTKEY ID="60"> UISelf:GetParent():Close() return true </HOTKEY>			
		</BUTTON>
	</STATIC_FORM>
	<FORM ID="FRM_USE_CUSTOM_ITEMS_SELECTER_ITEM">
		<ATTR X="0" Y="0" W="187" H="44"/>
		<STATIC_FORM ID="SFRM_ICON_BG">
			<ATTR X="0" Y="0" W="42" H="43" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<ATTR TEXT="" FONT="Font_Text" T_X="38" T_Y="26" T_RIGHT="1" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		<IMG ID = "IMG_ICON" X="0" Y="0" W="42" H="42" Z="1" IMG_X="1" IMG_Y="1" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID="ON_TICK">OnDrawCustomTypeItemIcon(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">OnCallCustomItemTooltip(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>		
			<SCRIPT ID="ON_L_BTN_DOWN">OnClickCustomTypeItem(UISelf)</SCRIPT>
			<CHECK_BUTTON ID="CBTN_ITEM_SELECT">
				<ATTR X="0" Y="0" W="42" H="42" Z="1" BTN_CLICK_LOCK="1" PASS_EVENT="1"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmIconOver02.tga" BTN_IMG_W="84" BTN_IMG_H="84" IS_VISIBLE="1"/>
			</CHECK_BUTTON>
		</IMG>
		<STATIC_FORM ID="SFRM_ITEM_NAME">
			<ATTR X="45" Y="7" W="137" H="27" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
			<ATTR TEXT="" FONT="Font_Text" T_X="5" T_Y="6" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
	</FORM>
	<FORM ID="FRM_ACCUMULATION_EXPCARD" IS_ABSOLUTE_X="1" X="390" Y="656" W="368" H="42" IMG="../Data/6_ui/etc/etcExpCdBg.tga" IMG_W="368" IMG_H="42" NO_FOCUS="1" PASS_EVENT="1">
		<ATTR TEXT="21" T_X="45" T_Y="11" FONT="Font_Chat" FONT_COLOR_HEX="0xFFFFFFFF"/>
		<FORM ID="FRM_ACCUM_RATE" X="1" Y="1" W="40" H="40" Z="1" IMG="../Data/6_ui/etc/etcIconTxt.tga" IMG_W="40" IMG_H="40" PASS_EVENT="1" NO_FOCUS="1">
			<ATTR TEXT="" T_X="25" T_Y="27" FONT="Font_Chat" T_BOLD="1" T_RIGHT="1" FONT_COLOR_HEX="0xFFFFFF00"/>
			<SCRIPT ID="ON_CREATE">UISelf:SetStaticText(""..100)</SCRIPT>
		</FORM>
		<ICON ID="ICN_EXPCARD" X="1" Y="1" W="40" H="40" ICON_GRP="252">
			<SCRIPT ID = "ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		<ANI_BAR ID="ANI_ACCUM_RATE_IMG" X="42" Y="29" W="324" H="8" BAR_IMG="../Data/6_ui/etc/etcExpCdBar.tga" BAR_IMG_W="324" BAR_IMG_H="8" BAR_COUNT="1" NO_FOCUS="1" PASS_EVENT="1">
			<SCRIPT ID="ON_CREATE">UISelf:BarNow(2) UISelf:BarMax(2)</SCRIPT>
		</ANI_BAR>
	</FORM>
	<STATIC_FORM ID="SFRM_ACCUMULATED_EXPCARD_USE" ALIGN_X="50" ALIGN_Y="40" W="252" H="217" STATIC_NUM="1">
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="252" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_CLOSE_BG" X="221" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<BUTTON ID="Close" X="0" Y="0" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
					<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():GetParent():GetParent():Close()</SCRIPT>
					<HOTKEY ID="1">UISelf:GetParent():GetParent():GetParent():Close() return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_TAB_BG" X="7" Y="4" W="144" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<CHECK_BUTTON ID="CBTN_TITLE" X="0" Y="0" W="144" H="24" BTN_IMG="../Data/6_ui/common/cmTabLong2.tga" BTN_IMG_W="144" BTN_IMG_H="96" BTN_VERTICAL_IMG="1" BTN_CLICK_LOCK="1">
					<ATTR TEXT="50751" FONT="FTtitle_14" T_X="62" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
					<SCRIPT ID="ON_CALL"> UISelf:CheckState(true) </SCRIPT>                                              
				</CHECK_BUTTON>
			</STATIC_FORM>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_BG" X="9" Y="35" W="234" H="139" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_BG_SD" X="0" Y="0" W="234" H="139" STATIC_NUM="3"/>
			<FORM ID="FRM_CARD_BG" X="54" Y="14" W="42" H="42" IMG="../Data/6_ui/common/cmSlotBg.tga" IMG_W="42" IMG_H="42"/>
			<STATIC_FORM ID="SFRM_BOOK_BG" X="138" Y="14" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<IMG ID="IMG_LINE0" X="9" Y="64" W="216" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="216" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE1" X="9" Y="65" W="216" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="216" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
		</STATIC_FORM>
		<ICON ID="ICN_EXP" X="64" Y="50" W="40" H="40" ICON_GRP="252">
			<SCRIPT ID = "ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		<ICON ID="ICN_BOOK" X="148" Y="50" W="40" H="40" ICON_GRP="252">
			<SCRIPT ID = "ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		<STATIC_FORM ID="SFRM_TEXT_BG" X="18" Y="104" W="216" H="61" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT="50752" FONT="FTtitle_14" T_X="108" T_Y="23" T_CENTER="1"/>
		</STATIC_FORM>
		<BUTTON ID="BTN_USE" X="41" Y="178" W="84" H="26" BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52">
			<ATTR TEXT="50753" FONT="FTtitle_14" T_X="42" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(50753, 2200)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">OnClickFullAccumulateCardUseOK(UISelf)</SCRIPT>
			<HOTKEY ID="59">OnClickFullAccumulateCardUseOK(UISelf) return true</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL" X="127" Y="178" W="84" H="26" BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52">
			<ATTR TEXT="400534" FONT="FTtitle_14" T_X="42" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(400534, 2201)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():Close()</SCRIPT>
			<HOTKEY ID="60">UISelf:GetParent():Close() return true</HOTKEY>
		</BUTTON>
	</STATIC_FORM>	
	<STATIC_FORM ID="SFRM_ACCUMULATED_EXPCARD_USE2" ALIGN_X="50" ALIGN_Y="40" W="252" H="167" STATIC_NUM="1">
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="252" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_CLOSE_BG" X="221" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<BUTTON ID="Close" X="0" Y="0" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
					<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():GetParent():GetParent():Close()</SCRIPT>
					<HOTKEY ID="1">UISelf:GetParent():GetParent():GetParent():Close() return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_TAB_BG" X="7" Y="4" W="144" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<CHECK_BUTTON ID="CBTN_TITLE" X="0" Y="0" W="144" H="24" BTN_IMG="../Data/6_ui/common/cmTabLong2.tga" BTN_IMG_W="144" BTN_IMG_H="96" BTN_VERTICAL_IMG="1" BTN_CLICK_LOCK="1">
					<ATTR TEXT="50751" FONT="FTtitle_14" T_X="62" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
					<SCRIPT ID="ON_CALL"> UISelf:CheckState(true) </SCRIPT>                                              
				</CHECK_BUTTON>
			</STATIC_FORM>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_BG" X="9" Y="35" W="234" H="89" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			<ATTR TEXT="" FONT="Font_Text" T_X="117" T_Y="0" FONT_COLOR_HEX="0xFF4D3413" T_CENTER="1"/>
			<STATIC_FORM ID="SFRM_BG_SD" X="0" Y="0" W="234" H="89" STATIC_NUM="3"/>
		</STATIC_FORM>
		<BUTTON ID="BTN_USE" X="41" Y="128" W="84" H="26" BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52">
			<ATTR TEXT="50755" FONT="FTtitle_14" T_X="42" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(50755, 2200)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">OnClickFullAccumulateCardUseRealOK(UISelf)</SCRIPT>
			<HOTKEY ID="59">OnClickFullAccumulateCardUseRealOK(UISelf) return true</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL" X="127" Y="128" W="84" H="26" BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52">
			<ATTR TEXT="400534" FONT="FTtitle_14" T_X="42" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(400534, 2201)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():Close()</SCRIPT>
			<HOTKEY ID="60">UISelf:GetParent():Close() return true</HOTKEY>
		</BUTTON>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_INGAME_GACHA" W="484" ALIGN_X="50" ALIGN_Y="50" STATIC_NUM="1" CAN_COLOR_CHANGE="1" CAN_DRAG="1" UNIQUE_EXIST_TYPE="NO_DUPLICATE">
		<LOCAL>
			<NAME ID="DEFAULT"> <ATTR H="308"/>	</NAME>
			<NAME ID="TAIWAN">  <ATTR H="318"/> </NAME>
		</LOCAL>
		<ATTR TEXT="790610" T_CENTER="1" T_X="109" T_Y="14" FONT_COLOR_HEX ="0xFFFFFFFF" FONT="FTcts_13" T_OUTLINE="1"/>
		<SCRIPT ID="ON_CALL"> ClearIGGachaUIData() RegistUIAction(UISelf, "CloseUI") </SCRIPT>
		<SCRIPT ID="ON_TICK"> OnTickIGGacha(UISelf)</SCRIPT>
		<HOTKEY ID="59"> UseCoinIGGacha(UISelf, 1,1) return true</HOTKEY>
		<HOTKEY ID="60"> UseCoinIGGacha(UISelf, 1,2) return true</HOTKEY>
		<HOTKEY ID="61"> UseCoinIGGacha(UISelf, 1,3) return true</HOTKEY>
		<HOTKEY ID="1"> UISelf:Close() return true</HOTKEY>

		<!--? 마크 있는 부분 -->
		<FORM ID="FRM_ITEM_VIEW" W="205" H="126" X="5" Y="33" IMG = "../Data/6_ui/gacha/gcItemBg.tga" IMG_W="205" IMG_H="126" Z="-2"/>			
		<FORM ID="FRM_QUESTION" X="73" Y="58" W="70" H="70" IMG = "../Data/6_ui/gacha/gcQmark.tga" IMG_W="70" IMG_H="70">	
			<SCRIPT ID="ON_CALL"> UISelf:Visible(true)</SCRIPT>
		</FORM>
		<ICON ID="ICON" X="90" Y="72" Z="1" W="70" H="70" IS_VISIBLE="0">
			<SCRIPT ID="ON_CALL"> UISelf:ClearCustomData() UISelf:Visible(false) </SCRIPT>
			<SCRIPT ID="ON_TICK"> OnTickIconIGGacha(UISelf) </SCRIPT>
		</ICON>
		
		<FORM ID="FRM_EFFECT" X="36" Y="21" W="205" H="126" Z="-1"> 
			<ATTR IMG = "../Data/6_ui/gacha/gcEft.tga" IMG_W="438" IMG_H="438" U="3" V="3" IS_VISIBLE="0"/>			
			<SCRIPT ID="ON_CALL"> UISelf:ClearCustomData() UISelf:Visible(false) </SCRIPT>
			<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.02) </SCRIPT>
		</FORM>
		
		<!-- 좌측부- 코인버튼, 그만하기 버튼 -->
		<LOCAL>
			<!-- Use Coin Item -->
			<NAME ID="DEFAULT">
				<BUILD ID="BLD_BTN_COIN" TARGET_ID="BTN_COIN" X="12" Y="154" X_COUNT = "1" Y_COUNT = "3" X_GAB = "0" Y_GAB = "30"/>
				<BUTTON ID="BTN_COIN" X="12" Y="154" W="137" H="31">
					<ATTR BTN_IMG="../Data/6_ui/gacha/gcBtCoin01.tga" BTN_IMG_W="137" BTN_IMG_H="124" U="1" V="4"/>
					<ATTR TEXT="" T_X="80" T_Y="8" T_CENTER="1" FONT_COLOR_HEX="0xFFFFF7ED" FONT="Font_Text" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
					<SCRIPT ID="ON_BUILD"> OnBuildIGGacha(UISelf, UISelf:GetBuildIndex()) </SCRIPT>
					<SCRIPT ID="ON_L_BTN_DOWN"> UseCoinIGGacha(UISelf:GetParent(), 1,UISelf:GetBuildIndex()+1)  </SCRIPT>
					<HOTKEY ID="59"> UseCoinIGGacha(UISelf:GetParent(), 1,1) return true</HOTKEY>
					<HOTKEY ID="60"> UseCoinIGGacha(UISelf:GetParent(), 1,2) return true</HOTKEY>
					<HOTKEY ID="61"> UseCoinIGGacha(UISelf:GetParent(), 1,3) return true</HOTKEY>
				</BUTTON>
		
				<BUILD ID="BLD_COIN_CNT" TARGET_ID="SFRM_COIN_CNT" X="150" Y="157" X_COUNT = "1" Y_COUNT = "3" X_GAB = "0" Y_GAB = "30"/>
				<STATIC_FORM ID="SFRM_COIN_CNT" X="150" Y="157" W="55" H="26" STATIC_NUM="34" CAN_COLOR_CHANGE="1">
					<ATTR TEXT="0" FONT_COLOR_HEX="0xFFFED03F" FONT="FTcts_16" T_X="27" T_Y="2" T_CENTER="1" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>			
				</STATIC_FORM>
			</NAME>
			
			<!-- Use Only Cash -->
			<NAME ID="TAIWAN">
				<BUILD ID="BLD_BTN_COIN" TARGET_ID="BTN_COIN" X="12" Y="154" X_COUNT = "1" Y_COUNT = "3" X_GAB = "0" Y_GAB = "30"/>
				<BUTTON ID="BTN_COIN" X="12" Y="154" W="192" H="31">
					<ATTR BTN_IMG="../Data/6_ui/gacha/gcBtCoin01.tga" BTN_IMG_W="192" BTN_IMG_H="124" U="1" V="4"/>
					<ATTR TEXT="" T_X="103" T_Y="8" T_CENTER="1" FONT_COLOR_HEX="0xFFFFF7ED" FONT="Font_Text" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
					<SCRIPT ID="ON_BUILD"> OnBuildIGGacha(UISelf, UISelf:GetBuildIndex()) </SCRIPT>
					<SCRIPT ID="ON_CALL"> OnCallIGGachaButton(UISelf, UISelf:GetBuildIndex()) </SCRIPT>
					<SCRIPT ID="ON_L_BTN_DOWN"> UseCoinIGGacha(UISelf:GetParent(), 1,UISelf:GetBuildIndex()+1)  </SCRIPT>
					<HOTKEY ID="59"> UseCoinIGGacha(UISelf:GetParent(), 1,1) return true</HOTKEY>
					<HOTKEY ID="60"> UseCoinIGGacha(UISelf:GetParent(), 1,2) return true</HOTKEY>
					<HOTKEY ID="61"> UseCoinIGGacha(UISelf:GetParent(), 1,3) return true</HOTKEY>
				</BUTTON>
				<STATIC_FORM ID="FRM_CASH_TEXT" STATIC_NUM="0" TEXT="1817" X="2" Y="247" W="106" H="31" T_X="53" T_Y="2" T_CENTER="1" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1"/>				
				<STATIC_FORM ID="SFRM" X="107" Y="247" W="95" H="26" STATIC_NUM="34" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1" T_CENTER="1" T_X="47" T_Y="4">
					<SCRIPT ID="ON_TICK">UISelf:DrawMoney(4)</SCRIPT>
				</STATIC_FORM>
			</NAME>
		</LOCAL>

		<BUTTON ID="BTN_CANCEL" X="65" W="84" H="26" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10">
			<LOCAL>
				<NAME ID="DEFAULT"> <ATTR Y="267"/>	</NAME>
				<NAME ID="TAIWAN">  <ATTR Y="280"/> </NAME>
			</LOCAL>
			<ATTR TEXT="790614" T_X="42" T_Y="4" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413" FONT="Font_Text" />			
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<SCRIPT ID="ON_L_BTN_DOWN">	CloseUI("SFRM_INGAME_GACHA") </SCRIPT>
		</BUTTON>
		
		<!-- 우측부 -->
		<IMG ID="IMG_LINE" X="210" Y="3" W="2" H="299" IMG="../data/6_ui/myhome/mhLine.tga" IMG_W="2" >
			<LOCAL>
				<NAME ID="DEFAULT"> <ATTR IMG_H="299"/>	</NAME>
				<NAME ID="TAIWAN">  <ATTR IMG_H="309"/> </NAME>
			</LOCAL>
		</IMG>
		
		<BUILD ID="BLD_CBTN_TAB" TARGET_ID="CBTN_TAB" X="220"  X_COUNT = "3" Y_COUNT = "1" X_GAB = "83" Y_GAB = "0">
			<LOCAL>
				<NAME ID="DEFAULT"> <ATTR Y="8"/>  </NAME>
				<NAME ID="TAIWAN">  <ATTR Y="12"/> </NAME>
			</LOCAL>
		</BUILD>
		<CHECK_BUTTON ID = "CBTN_TAB" X = "0" Y = "0" W = "83" H = "29" >
			<ATTR BTN_IMG="../Data/6_ui/gacha/gcTabBt.tga" BTN_IMG_W="83" BTN_IMG_H="116" BTN_CLICK_LOCK="1" U="1" V="4"/>
			<ATTR T_OUTLINE="1" T_CENTER = "1" T_X = "41" T_Y = "4" FONT = "FTbt_12" OUTLINE_COLOR_HEX="0xFF000000" FONT_COLOR_HEX="0xFFFFFFFF"/>
			<ATTR BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="1"/>
			<SCRIPT ID="ON_GET_FOCUS"> SelectTabIGGacha(UISelf:GetParent(), UISelf:GetBuildIndex()) </SCRIPT>
			<SCRIPT ID="ON_BUILD"> UISelf:SetStaticTextW(GetTextW(790615+UISelf:GetBuildIndex())) </SCRIPT>
		</CHECK_BUTTON>
		
 		<STATIC_FORM ID="SFRM_LIST_BG" X="215"  W="259" H="262" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			<LOCAL>
				<NAME ID="DEFAULT"> <ATTR Y="36"/>  </NAME>
				<NAME ID="TAIWAN">  <ATTR Y="41"/> </NAME>
			</LOCAL>
		</STATIC_FORM>
 		<STATIC_FORM ID="SFRM_LIST_BG_SDW" X="215" Y="41" W="259" H="262" STATIC_NUM="3">
			<LOCAL>
				<NAME ID="DEFAULT"> <ATTR Y="36"/>  </NAME>
				<NAME ID="TAIWAN">  <ATTR Y="41"/> </NAME>
			</LOCAL>
		</STATIC_FORM>
	
		<LIST ID="LIST_ITEM_LIST" X="224" W="259" H="254">
				<LOCAL>
					<NAME ID="DEFAULT"> <ATTR Y="41"/>  </NAME>
					<NAME ID="TAIWAN">  <ATTR Y="46"/> </NAME>
				</LOCAL>
			
			<IMG ID="IMG_BG" X="246" Y="7" W="13" H="217">
				<ATTR IMG="../Data/6_ui/Common/cmScrollBg.tga" IMG_W="13" IMG_H="217"/>
			</IMG>
			<BUTTON ID="ScrUp" X="222" Y="1" W="19" H="15">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollUp.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			</BUTTON>
			<BUTTON ID="ScrDown" X="222" Y="235" W="19" H="15">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollDn.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
			</BUTTON>
			<BUTTON ID="ScrMiddle" X="224" Y="7" W="15" H="21">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42"/>
			</BUTTON>			
			<ATTR ELEMENT_ID="FRM_INGACHA_ITEM" />
			<ATTR BTN_UP="ScrUp" BTN_DOWN="ScrDown" BTN_MIDDLE="ScrMiddle" WND_BAR="IMG_BG"/>
		</LIST>
	</STATIC_FORM>
	
	<FORM ID="FRM_INGACHA_ITEM" X="0" Y="0" W="259" H="51" >		
		<STATIC_FORM ID="SFRM_IDX" X="6" Y="0" W="29" H="22" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="3" FONT_COLOR_HEX="0xFF4D3413" FONT="Font_Text" T_X="14" T_Y="2" T_CENTER="1" IS_VISIBLE="0"/>
		<STATIC_FORM ID="SFRM_USE_TIME" X="134" Y="3" W="76" H="18" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="3" FONT_COLOR_HEX="0xFF4D3413" FONT="Font_Text" T_X="38" T_Y="0" T_CENTER="1"/>
		
		<FORM ID="FRM_ARROW1" X="50" Y="10" W="6" H="6" IMG="../Data/6_ui/common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
		<FORM ID="FRM_TIME_TEXT" TEXT="790619" T_X="60" T_Y="3" W="200" H="22" Z="2" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			
		<STATIC_FORM ID="SFRM_ICON_BG" X="4" Y="5" Z="1" W="40" H="40" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
		<STATIC_FORM ID="SFRM_ITEM_NAME" X="50" Y="22" Z="1" W="160" H="22" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT="400454" T_X="6" T_Y="3" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
		</STATIC_FORM>
		
		<STATIC_FORM ID="SFRM_BG" X="0" Y="0" Z="-1"  W="215" H="50" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" />		
		<IMG ID="ICON_ITEM" X="5" Y="4" Z="4" W="40" H="40" ICON_GRP="254">
			<SCRIPT ID="ON_DISPLAY"> GemStoreDrawIconImage(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER"> GemStoreDrawIconTooltip(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</IMG>
	</FORM>

	<FORM ID="FRM_NOTIFY_EARN_INGACHA_ITEM" ALIGN_X="50" ALIGN_Y="40" W="512" H="67" ALIVE_TIME="2500" PRIORITY="99" NO_FOCUS="1" PASS_EVENT="1">
		<ATTR IMG = "../Data/6_ui/gacha/gcTxtBg.tga" IMG_W="512" IMG_H="134" U="1" V="2"/>
		<ATTR TEXT="790618" T_X="256" T_Y="12" T_CENTER="1" FONT="Font_Warn" T_OUTLINE="1"/>
		<LOCAL>
			<NAME ID="JAPAN">
				<!--SCRIPT ID="ON_CALL"> 
					UISelf:SetCustomDataAsFloat(0) 
					local kActor = GetMyActor()
					if(nil == kActor:IsNil()) then return end
					kActor:AttachParticleToCameraFront(10001, Point3(0,200,-5), "ef_IGGacha_Earn_Notify", 1)
					StopSoundByID("Item_Gachapon_Result")
					PlaySoundByID("Event_Firework")
				</SCRIPT-->
			</NAME>
			<NAME ID="DEFAULT">
				<SCRIPT ID="ON_CALL"> 
					UISelf:SetCustomDataAsFloat(0) 
					local kActor = GetMyActor()
					if(nil == kActor:IsNil()) then return end
					kActor:AttachParticleToCameraFront(10001, Point3(0,200,-5), "ef_IGGacha_Earn_Notify", 1)
					StopSoundByID("Item_Gachapon_Result")
					PlaySoundByID("Event_Firework")
				</SCRIPT>
			</NAME>
		</LOCAL>
		<SCRIPT ID="ON_TICK">UVAnimation(UISelf, 0.1) </SCRIPT>
		<!--FORM ID="FRM_UIMODEL" X="-130" Y="-470" W="768" H="768" IGNORE_PARENT_RECT="1" NO_FOCUS="1" PASS_EVENT="1">
			<SCRIPT ID="ON_CREATE">
				local kSelf = UISelf
				kSelf:InitRenderModel("IGGachaItemEffect", true, true)
				kSelf:SetRenderModelCameraZoomMinMax("IGGachaItemEffect", 0.1, 1.0)
			</SCRIPT>
			<SCRIPT ID="ON_CALL">
				local kSelf = UISelf
				kSelf:UpdateOrthoZoom("IGGachaItemEffect", 0.1, 0, 30)
				kSelf:AddRenderModelNIFByPath("IGGachaItemEffect", "IGGachaItemEffect", "../Data/5_Effect/1_PC/03_Arc/ef_Mysteryouscooking_01_char_root.nif", false, true)
				kSelf:SetRenderModelNIFRotate("IGGachaItemEffect", "IGGachaItemEffect", 25,-20,-18)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">UISelf:DrawRenderModel("IGGachaItemEffect")</SCRIPT>
			<SCRIPT ID="ON_DISPLAY">UISelf:AddToDrawListRenderModel("IGGachaItemEffect")</SCRIPT>
			<SCRIPT ID="ON_CLOSE">UISelf:ClearRenderModel("IGGachaItemEffect")</SCRIPT>
		</FORM-->
		<HOTKEY ID="1">UISelf:Close() return true</HOTKEY>
	</FORM>
	
	<STATIC_FORM ID="SFRM_CASHCHARGE_YESNO" >	
		<ATTR ALIGN_X="50" Y="180" W="258" H="127" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="240" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="240" H="75" STATIC_NUM="3" />
				<ATTR TEXT="790624" T_CENTER="1" FONT="Font_Text" T_X="124" T_Y="18" FONT_COLOR_HEX = "0xFF4D3413"/>
			</STATIC_FORM>
		</STATIC_FORM>
		<BUTTON ID="BTN_OK">
			<ATTR X="45" Y="88" W="79" H="28" />
			<ATTR TEXT="1820" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(1820, 2200) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">	OpenCashChargeURL()	UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="59"> OpenCashChargeURL() UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCLE">
			<ATTR X="130" Y="88" W="79" H="28" />
			<ATTR TEXT="400534" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400534, 2201) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent()</SCRIPT>
		</BUTTON>
		<HOTKEY ID="1"> UISelf:Close() return true</HOTKEY>
		<HOTKEY ID="60"> UISelf:Close() return true</HOTKEY>
	</STATIC_FORM>
	
	<!-- active status -->
	<STATIC_FORM ID="SFRM_ACTIVE_STATUS" ALIGN_X="50" ALIGN_Y="40" W="302" H="352" STATIC_NUM="1" CAN_DRAG="1">
		<ATTR TEXT="790641" T_X="15" T_Y="40" T_OUTLINE="1" />
		<STATIC_FORM ID="SFRM_TITLEBAR" X="1" Y="0" W="300" H="36" Z="1" STATIC_NUM="4">
			<STATIC_FORM ID = "SFRM_TAB_BG" X="8" Y="5" W="142" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<IMG ID="IMG_TITLE_TAB" X="7" Y="4" Z="1" W="114" H="24" NO_FOCUS="1" T_CENTER = "1" T_X = "67" T_Y = "4">
				<ATTR FONT="FTbt_12" FONT_COLOR_HEX="0xFF4D3413" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11" TEXT="790640" IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="269" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<SCRIPT ID="ON_L_BTN_UP"> UISelf:GetParent():CloseParent() </SCRIPT>
			</BUTTON>
		</STATIC_FORM>

		<FORM ID="FRM_UI" X="9" Y="85" Z="-1" W="284" H="240">
			<STATIC_FORM ID="SFRM_BG_COLOR_1" X="0" Y="0" Z="-2" W="284" H="184" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
			<STATIC_FORM ID="SFRM_BG_SHADOW_1" X="0" Y="0" Z="-1" W="284" H="184" STATIC_NUM="3"/>
			<STATIC_FORM ID="SFRM_TEXT1" X="7" Y="7" W="148" H="25" TEXT="790642" T_CENTER="1" T_X="74" T_Y="4" STATIC_NUM="5" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<STATIC_FORM ID="SFRM_TEXT2" X="157" Y="7" W="119" H="25" TEXT="790643" T_CENTER="1" T_X="59" T_Y="4" STATIC_NUM="5" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
		</FORM>	
		
		<BUILD ID="BLD_ELEM" TARGET_ID="FRM_ELEM" X="9" Y="120" Z="1" X_COUNT="1" Y_COUNT="4" X_GAB="0" Y_GAB="30"/>
		
		<FORM ID="FRM_ELEM" X="9" Y="86" W="284" H="30" TEXT="7041" T_X="16" T_Y="2" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413" Z="1">
			<SCRIPT ID="ON_BUILD"> UISelf:SetStaticTextW(GetTT(7041+(10*UISelf:GetBuildIndex()))) </SCRIPT>
			
			<STATIC_FORM ID="SFRM_BNS" X="79" Y="0" W="76" H="24" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="3" TEXT="" T_CENTER="1" T_X="38" T_Y="4"  FONT="FTcts_13" FONT_COLOR_HEX="0xFF9E0B0F" Z="-1"/>
			<STATIC_FORM ID="SFRM_ACC_BNS" X="157" Y="0" W="119" H="24" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="3" TEXT="" T_CENTER="1" T_X="30" T_Y="4" FONT="FTcts_13" FONT_COLOR_HEX="0xFF4D3413" Z="-1"/>
			
			<IMG ID="IMG_LINE1" X="9" Y="25" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE2" X="9" Y="26" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			
			<BUTTON ID="BTN_DN" X="82" Y="3" W="18" H="18">
				<ATTR BTN_IMG="../Data/6_ui/skill/skDnB.tga" BTN_IMG_W="36" BTN_IMG_H="36"/>
				<SCRIPT ID="ON_L_BTN_DOWN"> ModifyStat_AS(UISelf:GetParent():GetBuildIndex()+1, false) </SCRIPT>
			</BUTTON>
			<BUTTON ID="BTN_UP" X="134" Y="3" W="18" H="18">
				<ATTR BTN_IMG="../Data/6_ui/skill/skUpB.tga" BTN_IMG_W="36" BTN_IMG_H="36"/>
				<SCRIPT ID="ON_L_BTN_DOWN"> ModifyStat_AS(UISelf:GetParent():GetBuildIndex()+1, true) </SCRIPT>
			</BUTTON>
			<BUTTON ID="BTN_INIT_STATUS" X="217" Y="2" W="59" H="20" Z="1" TEXT="221" T_OUTLINE="1" T_X="29" T_CENTER="1" T_Y="2">
				<ATTR BTN_IMG="../Data/6_ui/community/fdBt2.tga" BTN_IMG_W="59" BTN_IMG_H="80"  U="1" V="4" OUTLINE_COLOR_HEX="0xFF502602" />
				<SCRIPT ID="ON_L_BTN_DOWN"> UseInitStatusItem_AS(UISelf:GetParent():GetBuildIndex()+1) </SCRIPT>
			</BUTTON>
		</FORM>
		
		<STATIC_FORM ID="SFRM_REMAIN_TEXT" STATIC_NUM="34" X="10" Y="272" W="285" H="32" TEXT="790645" FONT="Font_Text" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" T_X="10" T_Y="6" Z="-1"/>
		<STATIC_FORM ID="FRM_REMAIN_STAT_VALUE" STATIC_NUM="" X="220" Y="272" W="76" H="32" TEXT="" FONT="FT15" FONT_COLOR_HEX="0xFFFFF568" T_OUTLINE="1" T_X="38" T_Y="4" T_CENTER="1"/>
				
		<BUTTON ID="BTN_INIT_ALL_STATUS" X="167" Y="240" W ="118" H ="26" TEXT="790644">
			<ATTR T_X="59" T_Y ="4" T_CENTER="1" FONT_COLOR_HEX="0xFFFFF7ED" FONT="Font_Text" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF502602"/>
			<ATTR BTN_IMG="../Data/6_ui/etc/etcStaBt.tga" BTN_IMG_W="118" BTN_IMG_H="88" U="1" V="4"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UseInitAllStatusItem_AS() </SCRIPT>			
		</BUTTON>
		
		<BUTTON ID="BTN_INIT_UIDATA" X="23" Y="313" W ="84" H ="26" TEXT="790648">
			<ATTR FONT="FTbt_12" T_X="42" T_Y ="6" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> InitUIData_AS() Update_AS() </SCRIPT>
		</BUTTON>
		
		<BUTTON ID="BTN_OK" X="110" Y="313" W ="84" H ="26" Z="1">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<ATTR FONT="FTbt_12" T_X="42" T_Y ="6" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				if(true == IsModifiedStatusInUI_AS()) then 
					CallUI("SFRM_CONFIRM_ACTIVE_STATUS",true) 
				else
					AddWarnDataTT(790681)
				end
			</SCRIPT>
			<HOTKEY ID="59">
				if(true == IsModifiedStatusInUI_AS()) then 
					CallUI("SFRM_CONFIRM_ACTIVE_STATUS",true) 
				else
					AddWarnDataTT(790681)
				end
				return true 
			</HOTKEY>
		</BUTTON>
		
		<BUTTON ID="BTN_CANCEL" X="195" Y="313" W ="84" H ="26">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR FONT="FTbt_12" T_X="42" T_Y ="6" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="1">	 UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_CONFIRM_ACTIVE_STATUS" ALIGN_X="50" ALIGN_Y="40" W="277" H="202" STATIC_NUM="1" CAN_DRAG="0">
		<STATIC_FORM ID="SFRM_TITLEBAR" X="1" Y="0" W="275" H="36" Z="1" STATIC_NUM="4">
			<STATIC_FORM ID = "SFRM_TAB_BG" X="8" Y="5" W="142" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<IMG ID="IMG_TITLE_TAB" X="7" Y="4" Z="1" W="114" H="24" NO_FOCUS="1" T_CENTER = "1" T_X = "67" T_Y = "4">
				<ATTR FONT="FTbt_12" FONT_COLOR_HEX="0xFF4D3413" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11" TEXT="790640" IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="244" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<SCRIPT ID="ON_L_BTN_UP"> UISelf:GetParent():CloseParent() </SCRIPT>
			</BUTTON>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_STATUS_TEXT" STATIC_NUM="34" X="9" Y="38" W="261" H="38" TEXT="790646" FONT="Font_Text" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" T_X="130" T_Y="6" T_CENTER="1">
			<SCRIPT ID="ON_CALL"> 
				UISelf:SetStaticText( string.format(GetTextW(790646):GetStr(), 
					GetAddtionlaStatus_AS(1),GetAddtionlaStatus_AS(2),GetAddtionlaStatus_AS(3),GetAddtionlaStatus_AS(4)))
			</SCRIPT>
		</STATIC_FORM>
		<FORM ID="FRM_UI" X="9" Y="75" Z="-1" W="259" H="84">
			<STATIC_FORM ID="SFRM_BG_COLOR_1" X="0" Y="0" Z="-2" W="259" H="84" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" TEXT="790647" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413" T_CENTER="1" T_X="129" T_Y="30"/>
			<STATIC_FORM ID="SFRM_BG_SHADOW_1" X="0" Y="0" Z="-1" W="259" H="84" STATIC_NUM="3"/>
		</FORM>	
		
		<BUTTON ID="BTN_RESET" X="11" Y="163" W ="84" H ="26" TEXT="790648">
			<ATTR FONT="FTbt_12" T_X="42" T_Y ="6" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> Call_AS() UISelf:CloseParent() </SCRIPT>
		</BUTTON>
		
		<BUTTON ID="BTN_OK" X="97" Y="163" W ="84" H ="26">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<ATTR FONT="FTbt_12" T_X="42" T_Y ="6" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> SendModifyAddStatus_AS() CloseUI("SFRM_ACTIVE_STATUS") UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="59">SendModifyAddStatus_AS() CloseUI("SFRM_ACTIVE_STATUS") UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
		
		<BUTTON ID="BTN_CANCEL" X="183" Y="163" W ="84" H ="26">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR FONT="FTbt_12" T_X="42" T_Y ="6" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent() return true </SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="1">	 UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>
	
	<FORM ID="FRM_STATUS_UP" ALIGN_X="100" Y="655" W="119" H="48" >
		<SCRIPT ID="ON_CALL">
			local kSelf = UISelf
			if false==IsViewActiveStatusUI() then
				kSelf:SetAliveTime(1)
			else
				kSelf:SetAliveTime(0)
			end
		</SCRIPT>
		<IMG ID="IMG_BTN"  W="119" H="48" IMG="../Data/6_ui/etc/etcStaUpBt.tga" IMG_W="119" IMG_H="96" U="1" V="2">
			<ATTR TEXT="790654" T_X="59" T_Y="10" T_CENTER="1" T_OUTLINE="1" />
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:SetUVIndex(2)    </SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">   UISelf:SetUVIndex(1) Call_AS() </SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER"> UISelf:OffTwinkleSelf() </SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">  UISelf:SetUVIndex(1)    </SCRIPT>		
		</IMG>
	</FORM>
	
	<STATIC_FORM ID="SFRM_ACTIVE_MSG_BOX" PRIORITY="10">	
		<ATTR ALIGN_X="50" Y="180" W="247" H="158" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="230" H="106" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />			
		</STATIC_FORM>
		<STATIC_FORM ID="SFR_SDW">
			<ATTR X="9" Y="7" W="230" H="106" STATIC_NUM="3" Z="1" />
			<ATTR TEXT="" FONT="Font_Text" T_X="115" T_Y="30" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
		</STATIC_FORM>
			
		<BUTTON ID="BTN_OK">
			<ATTR X="83" Y="119" W="79" H="28" />
			<ATTR TEXT="" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">SetTextOnThisUI(400002, 2200)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</SCRIPT>
			<HOTKEY ID="1">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
			<HOTKEY ID="28">
				UISelf:OnOk()
				UISelf:CloseParent()
				return true;
			</HOTKEY>
			<HOTKEY ID="59">UISelf:OnOk() UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>
	</STATIC_FORM>
	<!--		CallUI("FRM_SKILL_AWAKE_BAR")	-->
	<FORM ID="FRM_SKILL_AWAKE_BAR" X="468" Y="685" W="274" H="14" TICK_FRAME="50" IS_ABSOLUTE_X="1">
		<SCRIPT ID="ON_TICK">
			UpdateCheckDrawLimitBreakBar()
			if GetUIWnd("Bg_XP_Bar"):IsNil() then UISelf:Close() end
		</SCRIPT>
		<FORM ID="FRM_TEXT" X="0" Y="0" TEXT="0" W="274" H="14" Z="1" PASS_EVENT="1" NO_FOCUS="1">
			<ATTR T_X="137" T_Y="1" FONT="FTtabS" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFBC7"/>
			<SCRIPT ID="ON_TICK"> OnTick_AwakeGaugeText(UISelf) </SCRIPT>
		</FORM>
		<FORM ID="FRM_BAR_BG" X="0" Y="0" W="274" H="14" Z="-1" IMG="../Data/6_ui/skill/skBarBg.tga" IMG_W="274" IMG_H="14" PASS_EVENT="1" NO_FOCUS="1"/>
		<FORM ID="FRM_BAR_MAX_BD" X="-7" Y="-8" W="288" H="30" Z="1" U="1" V="13" UV_INDEX="1" IMG="../Data/6_ui/skill/skMaxLine.tga" IMG_W="288" IMG_H="390" PASS_EVENT="1" NO_FOCUS="1">
			<SCRIPT ID="ON_DISPLAY">UISelf:SetUVIndex(math.mod(math.floor(GetAccumTime()*30),13) + 1)</SCRIPT>
		</FORM>
		<FORM ID="FRM_BAR_MAX" X="251" Y="-20" W="83" H="50" Z="2" U="1" V="2" IMG="../Data/6_ui/skill/skMaxFt.tga" IMG_W="83" IMG_H="100" PASS_EVENT="1" NO_FOCUS="1">
			<SCRIPT ID="ON_DISPLAY">UISelf:SetUVIndex(math.mod(math.floor(GetAccumTime()*10),2) + 1)</SCRIPT>
		</FORM>
		<FORM ID="FRM_BURN_IMG" X="-25" Y="-25" W="64" H="64" Z="3" U="2" V="2" UV_INDEX="1" IS_VISIBLE="0" IMG="../Data/6_ui/skill/skBarSpot.tga" IMG_W="128" IMG_H="128" PASS_EVENT="1" NO_FOCUS="1">
			<SCRIPT ID="ON_TICK">
				if( CheckNil(g_world == nil) ) then return false end
				if( CheckNil(g_world:IsNil()) ) then return false end
				UISelf:SetUVIndex(math.floor(math.mod(g_world:GetAccumTime()*15,3))+1)
			</SCRIPT>
		</FORM>
		<ANI_BAR ID="ANIBAR_SKILLPOINT" X="2" Y="2" W="270" H="10" U="1" V="2" UV_INDEX="1" BAR_IMG="../Data/6_ui/skill/skBar.tga" BAR_IMG_W="270" BAR_IMG_H="20" BAR_TYPE="3" BAR_COUNT="2" PASS_EVENT="1" NO_FOCUS="1"/>
	</FORM>
	
	<FORM ID="FRM_HIDDEN_TEXT" ALIGN_X="50" ALIGN_Y="50" W="376" H="500" CAN_DRAG="1">
		<IMG ID="IMG_TOP" X="0" Y="0" Z="0" W="376" H="46">
			<ATTR IMG ="../Data/6_ui/Pvp/pvEtBxT.tga" IMG_W="376" IMG_H="46"/>
		</IMG>
		<FORM ID="FRM_TITLE" X="17" Y="11" Z="1" W="150" H="15">
			<ATTR TEXT="400980" T_X="0" T_Y="0" FONT="QTtext_Title" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFBC7"/>
		</FORM>
		
		<STATIC_FORM ID="SFRM_BOX" STATIC_NUM="29" X="0" Y="46" Z="0" W="376" H="406"/>
		<STATIC_FORM ID="SFRM_SUB_BOX" STATIC_NUM="34" X="13" Y="47" Z="1" W="352" H="114">
			<ATTR TEXT="400981" T_X="10" T_Y="10" FONT="FTctsBig_14" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFBC7"/>
		</STATIC_FORM>
		
		<STATIC_FORM ID="SFRM_BG_COLOR" X="12" Y="157" W="352" H="253" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_BG_SHADOW" X="0" Y="0" W="352" H="253" STATIC_NUM="3"/>
		</STATIC_FORM>		

		<FORM ID="SFRM_MARK1" X="18" Y="164" Z="1" W="200" H="24" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="4">
			<IMG ID="IMG_ICON" X="4" Y="0" W="18" H="18" IMG="../Data/6_UI/quest/qsMark.tga" IMG_W="18" IMG_H="18"/>
		</FORM>			
		<STATIC_FORM ID="FRM_TEXT1" X="18" Y="160" W="340" H="25" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
			<ATTR TEXT="400982" FONT="FTcts_13" T_X="24" T_Y="4" FONT_COLOR_HEX="0xFF9e0b0f"/>
		</STATIC_FORM>
		<FORM ID="FRM_TEXT2" X="20" Y="190" Z="1" W="340" H="200">
			<ATTR TEXT="400983" T_X="0" T_Y="0" />
		</FORM>		
		
		<FORM ID="SFRM_MARK2" X="18" Y="304" Z="1" W="200" H="24" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="4">
			<IMG ID="IMG_ICON" X="4" Y="0" W="18" H="18" IMG="../Data/6_UI/quest/qsMark.tga" IMG_W="18" IMG_H="18"/>
		</FORM>			
		<STATIC_FORM ID="FRM_TEXT3" X="18" Y="300" W="340" H="25" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
			<ATTR TEXT="400984" FONT="FTcts_13" T_X="24" T_Y="4" FONT_COLOR_HEX="0xFF9e0b0f"/>
		</STATIC_FORM>
		<FORM ID="FRM_TEXT4" X="20" Y="330" Z="1" W="340" H="200">
			<ATTR TEXT="400985" T_X="0" T_Y="0" />
		</FORM>			
		
		<BUTTON ID="BTN_CLOSE" X="146" Y="414" Z="1" W="79" H="28">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="915" T_X="42" T_Y="3" FONT="FTbt_12" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent() </SCRIPT>
		</BUTTON>
		<HOTKEY ID="1"> UISelf:Close() return true </HOTKEY>
	</FORM>	
	
	<FORM ID="FRM_HIDDEN_TIMELIMIT" IS_ABSOLUTE_Y="1" ALIGN_X="100" Y="224" W="217" H="68" TICK_TIME="500" NO_FOCUS="1">
		<ATTR IMG="../Data/6_ui/battle/bsRBg01.tga" IMG_W="217" IMG_H="68"/>
		<ATTR TEXT="401067" T_X="108" T_Y="8" T_CENTER="1" FONT="FTslot" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFCD4"/> 
		<IMG ID="FRM_MIN10" X="47" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		<IMG ID="FRM_MIN1" X="67" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		<IMG ID="IMG_DOT" X="91" Y="32" W="10" H="20" IMG="../Data/6_ui/mission/msTimeYdot2.tga" IMG_W="10" IMG_H="20" NO_FOCUS="1">
			<SCRIPT ID="ON_CALL">UISelf:Visible(true)</SCRIPT>
		</IMG>
		<IMG ID="FRM_SEC10" X="93" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		<IMG ID="FRM_SEC1" X="113" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		<IMG ID="FRM_SEC1000" X="133" Y="32" W="25" H="25" IMG="../Data/6_ui/mission/msNumTmYs2.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		<IMG ID="FRM_SEC100" X="148" Y="32" W="25" H="25" IMG="../Data/6_ui/mission/msNumTmYs2.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		<SCRIPT ID="ON_DISPLAY">DisplayHiddenTimeLimit( UISelf )</SCRIPT>
	</FORM>	
	
	<FORM ID="FRM_HIDDEN_REWORDITEM" IS_ABSOLUTE_Y="1" ALIGN_X="50" Y="150" W="310" H="55" NO_FOCUS="1">
		<ATTR IMG="../Data/6_ui/etc/etcHiddenBg.tga" IMG_W="310" IMG_H="55"/>
		<ATTR TEXT="400993" T_X="10" T_Y="8" FONT="FTslot" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFCD4"/>

		<FORM ID="FRM_COUNT" X="150" Y="3" W="100" H="25" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
			<ATTR TEXT="400994" FONT="FTcts_13" T_X="90" T_Y="3" T_RIGHT="1" FONT_COLOR_HEX="0xFF9e0b0f"/>
		</FORM>
		
		<STATIC_FORM ID="FRM_TEXT1" X="5" Y="30" W="100" H="25" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" IS_VISIBLE="0">
			<ATTR TEXT="" FONT="FTcts_13" T_X="24" T_Y="4" FONT_COLOR_HEX="0xFF9e0b0f"/>
		</STATIC_FORM>
		<STATIC_FORM ID="FRM_TEXT2" X="110" Y="30" W="100" H="25" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" IS_VISIBLE="0">
			<ATTR TEXT="" FONT="FTcts_13" T_X="24" T_Y="4" FONT_COLOR_HEX="0xFF9e0b0f"/>
		</STATIC_FORM>
		
		<ICON ID = "ICN_ITEM" ICON_GRP ="254" ICON_STATIC = "1">
			<ATTR X = "262" Y = "7" Z = "-1" W = "42" H = "42" IMG_W = "42" IMG_H = "42" IGNORE_PARENT_RECT = "1"/>
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
		</ICON>
		
		<BUTTON ID="BTN_GETITEM">
			<ATTR X="99" Y="29" T_X="80" T_Y="4" TEXT="400995" T_CENTER="1" W="157" H="108" U="1" V="4"/>
			<ATTR BTN_IMG="../Data/6_ui/etc/etcHiddenBt.tga" BTN_IMG_W="157" BTN_IMG_H="108"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local iResultItemNo = UISelf:GetParent():GetControl("ICN_ITEM"):GetCustomDataAsInt()
				GetHiddenRewordItem(iResultItemNo)
			</SCRIPT>
		</BUTTON>		
		
		<SCRIPT ID = "ON_DISPLAY">
			HiddenRewordItemCheck()
		</SCRIPT>
	</FORM>
	
	<STATIC_FORM ID = "SFRM_HIDDEN_REWORDITEM_USE" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X="50" Y="210" W ="255" H ="210" CAN_DRAG = "0" STATIC_NUM = "1" />
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="253" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_CLOSE_BG" X="222" Y="4" W="24" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
				<BUTTON ID="Close" X="0" Y="0" W="24" H="24">
					<ATTR BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
					<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():GetParent():CloseParent()</SCRIPT>
					<HOTKEY ID="1">UISelf:GetParent():GetParent():CloseParent() return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_COLOR" X="7" Y="4" W="104" H="24" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			</STATIC_FORM>	
			
			<CHECK_BUTTON ID="CBTN_COLOR" X="7" Y="4" Z="1" W="104" H="24" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11">
				<ATTR BTN_IMG="../Data/6_ui/Common/cmTabLong.tga" BTN_IMG_W="208" BTN_IMG_H="48"/>
				<ATTR TEXT="400996" FONT="FTtitle_14" T_X="46" T_Y="4" T_CENTER="1" BTN_CLICK_LOCK="1"/>
				<SCRIPT ID="ON_CALL">
					UISelf:CheckState(true)
				</SCRIPT>
			</CHECK_BUTTON>			
		</STATIC_FORM>

		<STATIC_FORM ID="SFRM_RESULT_ITEM_BG" X="106" Y="49" W="42" H="42" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<IMG ID = "IMG_BG_1" X="0" Y="0" W="42" H="42" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1"/>
		</STATIC_FORM>
		<ICON ID = "ICN_RESULT" X="107" Y="50" W="40" H="40" ICON_GRP ="254" ICON_KEY = "0" FONT_COLOR_HEX="0xffffffff" T_OUTLINE = "1">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
		</ICON>
		
		<STATIC_FORM ID = "SFRM_COLOR" X="9" Y="35" Z="-2" W="234" H="132" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1"/>
		<STATIC_FORM ID = "SFRM_SHADOW" X = "9" Y = "35" Z="-1" W="234" H="132" STATIC_NUM = "3" />
		
		<STATIC_FORM ID = "SFRM_COLOR_TEXT" X="18" Y="99" W="216" H="61" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
			<ATTR TEXT = "400997" FONT = "Font_Text" T_X="108" T_Y ="16" T_CENTER = "1"/>
		</STATIC_FORM>	

		<BUTTON ID = "BTN_TRY_REFINE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400002, 2200) </SCRIPT>
			<ATTR X="41" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_L_BTN_DOWN">
				SendHiddenRewordItem()
			</SCRIPT>
			<HOTKEY ID="59">
			</HOTKEY>		
		</BUTTON>
		<BUTTON ID = "BTN_CANCLE">
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="127" Y="172" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "42" T_Y ="5" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">	UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>	
	<STATIC_FORM ID="SFRM_LUCKY_STONE_NFY" ALIGN_X="50" ALIGN_Y="50" W="306" H="501" STATIC_NUM="1">
		<STATIC_FORM ID = "SFRM_CASH_TITLE" X = "1" Y = "0" W = "304" H = "36" STATIC_NUM = "4">
			<IMG ID = "IMG_TITLE_TAB" X="7" Y="4" Z="1" W="144" H="24" NO_FOCUS="1">
				<ATTR IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
				<ATTR T_CENTER = "1" T_X = "67" T_Y = "4" FONT="FTbt_12" FONT_COLOR_HEX="0xFF4d3413" TEXT="5106"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="273" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():CloseParent() return true</SCRIPT>
				<HOTKEY ID="1">UISelf:GetParent():CloseParent() return true</HOTKEY>
			</BUTTON>
			<FORM ID="SFRM_BTN_BG" X="273" Y="9" Z="-1" W="12" H="11" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11"/>
			<STATIC_FORM ID = "SFRM_TAB_BG" X="8" Y="5" W="144" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_BG" X="9" Y="35" W="288" H="423" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_BG_SD" X="0" Y="0" W="288" H="423" STATIC_NUM="3"/>
			<BUILD ID="BLD_ICON_BG" TARGET_ID="SFRM_ICON_BG" X="11" Y="48" X_COUNT="5" Y_COUNT="1" X_GAB="45"/>
			<STATIC_FORM ID="SFRM_ICON_BG" X="0" Y="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<IMG ID="IMG_LINE1" X="11" Y="97" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE2" X="11" Y="98" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>			
			<IMG ID="IMG_LINE3" X="11" Y="221" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE4" X="11" Y="222" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>			
			
			<LOCAL>
				<NAME ID="DEVELOP"> <!-- #NOT_OPEN# if open buy lucky stone button then del this -->
					<STATIC_FORM ID="SFRM_ICON_BG6" X="11" Y="369" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
				</NAME>
			</LOCAL>
			
			<FORM ID="FRM_TEXT1" X="11" Y="11" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="FTcts_13" FONT_COLOR_HEX="0xFF9E0B0F" TEXT="5107"/>
			</FORM>
			<FORM ID="FRM_TEXT2" X="11" Y="104" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="FTcts_13" FONT_COLOR_HEX="0xFF9E0B0F" TEXT="5108"/>
			</FORM>
			<FORM ID="FRM_TEXT3" X="11" Y="228" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="FTcts_13" FONT_COLOR_HEX="0xFF9E0B0F" TEXT="5109"/>
			</FORM>
		</STATIC_FORM>
		<BUILD ID="BLD_ICON" TARGET_ID="ICN_JEWEL" X="21" Y="84" X_COUNT="5" Y_COUNT="1" X_GAB="45"/>
		<ICON ID="ICN_JEWEL" X="0" Y="0" W="40" H="40" ICON_GRP="254">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			<SCRIPT ID="ON_BUILD">
				local kSelf = UISelf;
				local BuildIndex = kSelf:GetBuildIndex()
				if BuildIndex == 1 then
					UISelf:SetCustomDataAsInt( 50900020 )
				elseif BuildIndex == 2 then
					UISelf:SetCustomDataAsInt( 50900030 )
				elseif BuildIndex == 3 then
					UISelf:SetCustomDataAsInt( 50900040 )
				elseif BuildIndex == 4 then
					UISelf:SetCustomDataAsInt( 50900050 )
				else
					UISelf:SetCustomDataAsInt( 50900010 )
				end
			</SCRIPT>			
		</ICON>
		<LOCAL>
			<NAME ID="DEVELOP"> <!-- #NOT_OPEN# if open buy lucky stone button then del this -->
				<ICON ID="SFRM_LUCKYSTONE" X="21" Y="405" W="40" H="40" ICON_GRP="254">
					<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
					<SCRIPT ID="ON_CREATE">UISelf:SetCustomDataAsInt(98000510)</SCRIPT>
				</ICON>		
				<BUTTON ID="BTN_BUY_STONE" X="66" Y="411" W="174" H="28" Z="3" BTN_IMG="../Data/6_ui/etc/etcInvenBt.tga" BTN_IMG_W="174" BTN_IMG_H="112" BTN_VERTICAL_IMG="1">
					<ATTR TEXT="5110" FONT="FTbt_12" T_X="87" T_Y="6" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
					<SCRIPT ID="ON_L_BTN_UP">OnCallStaticCashItemBuy(12, 0)</SCRIPT>
				</BUTTON>
			</NAME>
		</LOCAL>
		<BUTTON ID="BTN_OK" X="111" Y="462" Z="3" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="400533" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" NO_WORD_WRAP = "1"/>
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400533, 2200) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP"> UISelf:CloseParent() return true</SCRIPT>
			<HOTKEY ID="59"> UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>			
	</STATIC_FORM>	
	
	<STATIC_FORM ID="SFRM_ELEMENT_STORE_HELP" ALIGN_X="50" ALIGN_Y="50" W="306" H="501" STATIC_NUM="1">
		<STATIC_FORM ID = "SFRM_CASH_TITLE" X = "1" Y = "0" W = "304" H = "36" STATIC_NUM = "4">
			<IMG ID = "IMG_TITLE_TAB" X="7" Y="4" Z="1" W="144" H="24" NO_FOCUS="1">
				<ATTR IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
				<ATTR T_CENTER = "1" T_X = "67" T_Y = "4" FONT="FTbt_12" FONT_COLOR_HEX="0xFF4d3413" TEXT="799917"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="273" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():CloseParent() return true</SCRIPT>
				<HOTKEY ID="1">UISelf:GetParent():CloseParent() return true</HOTKEY>
			</BUTTON>
			<FORM ID="SFRM_BTN_BG" X="273" Y="9" Z="-1" W="12" H="11" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11"/>
			<STATIC_FORM ID = "SFRM_TAB_BG" X="8" Y="5" W="144" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_BG" X="9" Y="35" W="288" H="423" Z="-1" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_BG_SD" X="0" Y="0" W="288" H="423" STATIC_NUM="3"/>
			<BUILD ID="BLD_ICON_BG" TARGET_ID="SFRM_ICON_BG" X="11" Y="48" X_COUNT="5" Y_COUNT="1" X_GAB="45"/>
			<STATIC_FORM ID="SFRM_ICON_BG" X="0" Y="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<IMG ID="IMG_LINE1" X="11" Y="97" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE2" X="11" Y="98" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>			
			<IMG ID="IMG_LINE3" X="11" Y="241" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE4" X="11" Y="242" W="266" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="266" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>			
			
			<FORM ID="FRM_TEXT1" X="11" Y="11" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="FTcts_13" FONT_COLOR_HEX="0xFF9E0B0F" TEXT="799911"/>
			</FORM>
			<FORM ID="FRM_TEXT2" X="11" Y="28" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413" TEXT="799912"/>
			</FORM>
			<FORM ID="FRM_TEXT3" X="11" Y="104" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="FTcts_13" FONT_COLOR_HEX="0xFF9E0B0F" TEXT="799913"/>
			</FORM>
			<FORM ID="FRM_TEXT4" X="11" Y="121" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413" TEXT="799914"/>
			</FORM>
			<FORM ID="FRM_TEXT5" X="11" Y="248" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="FTcts_13" FONT_COLOR_HEX="0xFF9E0B0F" TEXT="799915"/>
			</FORM>
			<FORM ID="FRM_TEXT6" X="11" Y="265" W="266" H="20" STATIC_NUM="2">
				<ATTR T_X = "0" T_Y = "0" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413" TEXT="799916"/>
			</FORM>
		</STATIC_FORM>
		<BUILD ID="BLD_ICON" TARGET_ID="ICN_JEWEL" X="21" Y="84" X_COUNT="5" Y_COUNT="1" X_GAB="45"/>
		<ICON ID="ICN_JEWEL" X="0" Y="0" W="40" H="40" ICON_GRP="254">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			<SCRIPT ID="ON_BUILD">
				local kSelf = UISelf;
				local BuildIndex = kSelf:GetBuildIndex()
				if BuildIndex == 1 then
					UISelf:SetCustomDataAsInt( 99800110 )
				elseif BuildIndex == 2 then
					UISelf:SetCustomDataAsInt( 99800210 )
				elseif BuildIndex == 3 then
					UISelf:SetCustomDataAsInt( 99800310 )
				elseif BuildIndex == 4 then
					UISelf:SetCustomDataAsInt( 99800410 )
				else
					UISelf:SetCustomDataAsInt( 99800510 )
				end
			</SCRIPT>			
		</ICON>
		<BUTTON ID="BTN_OK" X="111" Y="462" Z="3" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="400533" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" NO_WORD_WRAP = "1"/>
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(400533, 2200) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP"> UISelf:CloseParent() return true</SCRIPT>
			<HOTKEY ID="59"> UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>			
	</STATIC_FORM>
	
	<FORM ID="FRM_LIFT_THE_CHAOS" ALIGN_X="50" Y="600" W="128" H="64">
		<IMG ID="IMG_LIFT" X="0" Y="0" W="64" H="64" SCALE_CENTER_X="0.5" SCALE_CENTER_Y="0.5">
			<ATTR IMG="../Data/6_UI/main/comboKey.tga" IMG_W="256" IMG_H="128" U="8" V="4" UV_INDEX="3" NO_FOCUS="1" PASS_EVENT="1" TICK_TIME="50"/>
			<SCRIPT ID="ON_TICK">
				local kScale = UISelf:GetScale() + 0.1
				if kScale >= 1.3 then
					kScale = 1
				end
				UISelf:SetScale(kScale)
			</SCRIPT>
		</IMG>
		<IMG ID="IMG_RIGHT" X="64" Y="0" W="64" H="64" SCALE_CENTER_X="0.5" SCALE_CENTER_Y="0.5">
			<ATTR IMG="../Data/6_UI/main/comboKey.tga" IMG_W="256" IMG_H="128" U="8" V="4" UV_INDEX="4" NO_FOCUS="1" PASS_EVENT="1" TICK_TIME="60"/>
			<SCRIPT ID="ON_TICK">
				local kScale = UISelf:GetScale() + 0.1
				if kScale >= 1.3 then
					kScale = 1
				end
				UISelf:SetScale(kScale)
			</SCRIPT>
		</IMG>
	</FORM>
	
	<FORM ID="FRM_ID_EXIT" ALIGN_X="100" ALIGN_Y="0" W="217" H="66">
		<ATTR IMG="../Data/6_UI/TrueTW/ttNplayTime.tga" IMG_W="217" IMG_H="66"/>
		<ATTR TEXT="" T_X="108" T_Y="6" FONT="FTcts_13" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFF799" OUTLINE_COLOR_HEX="0xFF000000"/>
		<BUTTON ID="BTN_LEAVE" X="66" Y="33" Z="3" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="400305" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" NO_WORD_WRAP="1"/>
			<!--SCRIPT ID="ON_L_BTN_UP"> ReqSG_Exit() </SCRIPT-->
			<SCRIPT ID="ON_L_BTN_UP"> ReqExitInstanceDungeon() </SCRIPT>
			
		</BUTTON>
		<SCRIPT ID="ON_CALL">
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			UISelf:SetStaticTextW( GetMapNameW(g_world:GetMapNo()) )
		</SCRIPT>
	</FORM>
	
	<FORM ID="FRM_CLASS_PROMOTION" ALIGN_X="50" ALIGN_Y="0" W="223" H="202" NO_FOCUS="1" PASS_EVENT="1" ALIVE_TIME = "2500" >		
		<!--FORM ID="FRM_TXT" TEXT="1" W="223" H="202" T_X="0" T_Y="0" FONT="FTcts_13" T_CENTER="1" T_OUTLINE="1" Z="2" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/-->
		<FORM ID="FRM_MAIN" Z="1" IMG="../Data/6_UI/main/mnCCimg01.tga" IMG_W="223" IMG_H="404" U="1" V="2" SCALE_CENTER_X="0.5" SCALE_CENTER_Y="0.5">			
			<ATTR TEXT="0" W="223" H="202" T_X="111" T_Y="80" FONT="" T_CENTER="1" T_OUTLINE="1" Z="2" FONT_COLOR_HEX="0xFFFFFBD2" OUTLINE_COLOR_HEX="0xFF00171F"/>
			<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.2) </SCRIPT>
		</FORM>		
		
		<FORM ID="FRM_WING" X="-111" Y="30" Z="0" NO_FOCUS="1" PASS_EVENT="1" SCALE_CENTER_X="0.5" SCALE_CENTER_Y="0.5" IMG="../Data/6_UI/main/mnCCimg02.tga" IMG_W="444" IMG_H="128"/>
		
		<SCRIPT ID="ON_TICK"> ClassPromotionUIOnTick(UISelf) </SCRIPT>
		<SCRIPT ID="ON_CALL"> ClassPromotionUIOnCall(UISelf) </SCRIPT>
	</FORM>
	
</XUI>
