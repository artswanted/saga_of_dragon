<?xml version="1.0" encoding="euc-kr"?>
<XUI>
	<STATIC_FORM ID = "FRM_CREATE_SCENARIO_ITEM" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X="50" ALIGN_Y="50" W="600" H="690"/>
		<!--
		<BUTTON ID = "BTN_BUY_TELECARD">
			<ATTR X="270" Y="123" W="132" H="24" Z="10"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msCdBuyb.tga" BTN_IMG_W = "132" BTN_IMG_H = "116"/>			
			<ATTR TEXT = "5105" FONT = "Font_Text" T_X = "66" T_Y ="5" T_CENTER = "1" BTN_VERTICAL_IMG="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="12"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">OnCallStaticCashItemBuy(13, g_world:GetMapNo())</SCRIPT>			
		</BUTTON>
		-->
		<SCRIPT ID = "ON_CALL">
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(true, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5) 
			g_bEnableShortCutKey = false 

			local kScenario = UISelf:GetControl("FRM_CREATE_FIELD_SCENARIO")
			if false==kScenario:IsNil() then 
				local kItem = kScenario:GetControl("FRM_BG_ITEM_AUTO")
				if false==kItem:IsNil() then kItem:Visible(false) end
				local kText = kScenario:GetControl("FRM_ITEM_AUTO_TEXT")
				if false==kText:IsNil() then kText:Visible(false) end
			end
			
			CloseUI("FRM_MISSION_MAP_SELECT")
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			CloseUI("FRM_CREATE_DEFENCE")
			CloseUI("FRM_SELECT_DIFFICULTY")
			CloseUI("SFRM_DUNGEON_PARTY")
			g_bEnableShortCutKey = true
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(false, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
			ODS("FRM_CREATE_SCENARIO_ITEM OnClose\n")
		</SCRIPT>		
		<FORM ID = "FRM_EASY">
			<ATTR X = "-66" Y = "12" W ="144" H ="453" IS_VISIBLE = "0"/>
			<IMG ID = "IMG_EASY">
				<ATTR X = "0" Y = "0" W="144" H="453" IMG = "../Data/6_ui/mission/msEasyImg.tga" IMG_W = "144" IMG_H = "453"/>
			</IMG>
			<FORM ID = "FRM_TEXT">
				<ATTR X = "0" Y = "0" W="140" H="400" T_X ="14" T_Y ="10" TEXT = "400955" FONT = "Font_Warn" FONT_COLOR_HEX = "0xFFffc456" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			</FORM>
		</FORM>
		<STATIC_FORM ID = "FRM_CREATE_FIELD_SCENARIO">
			<ATTR ALIGN_X = "0" Y = "95" W ="457" H ="455"/>
			<FORM ID = "FRM_BG_ITEM">
				<ATTR X = "68" Y = "10" Z="-1" W = "243" H = "28" />
				<ATTR IMG = "../Data/6_ui/mission/msEtBg.tga" IMG_W = "457" IMG_H = "385" T_X = "100" T_Y = "0" FONT = "FTlevel" FONT_COLOR_HEX = "0xFFFFFFFF"/>
				<FORM ID = "FRM_TEXT">
					<ATTR X = "15" Y = "10" W = "300" H = "28" FONT = "FTctsBig_14" T_X = "0" T_Y = "0" TEXT = "400951" FONT_COLOR_HEX="0xFFF4FBB8" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
				<FORM ID = "FRM_TEXT1">
					<ATTR X = "15" Y = "27" W = "300" H = "28" FONT = "FTctsBig_14" T_X = "0" T_Y = "0" TEXT = "400952" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
				<IMG ID = "IMG_STAR0">
					<ATTR X = "135" Y = "12" W="14" H="14" IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				</IMG>
				<IMG ID = "IMG_STAR1">
					<ATTR X = "149" Y = "12" W="14" H="14" IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				</IMG>				
			</FORM>
			<FORM ID = "FRM_BG_ITEM_AUTO">
				<ATTR X = "68" Y = "10" Z="-1" W = "243" H = "28" />
				<ATTR IMG = "../Data/6_ui/mission/msEtBg2.tga" IMG_W = "457" IMG_H = "455" T_X = "100" T_Y = "0" FONT = "FTlevel" FONT_COLOR_HEX = "0xFFFFFFFF"/>
				<SCRIPT ID="ON_CALL">
					if IsEventMission() == true then
						UISelf:ChangeImage("../Data/6_ui/mission/msEtBg2_Xmas.tga")
					else
						UISelf:ChangeImage("../Data/6_ui/mission/msEtBg2.tga")
					end
				</SCRIPT>
			</FORM>
			<FORM ID = "FRM_BG_EVENT_NOT_HAVE_ARCADE">
				<ATTR X = "68" Y = "10" Z="-1" W = "457" H = "356" />
				<ATTR IMG = "../Data/6_ui/mission/msEventBg.tga" IMG_W = "457" IMG_H = "356" T_X = "100" T_Y = "0" FONT = "FTlevel" FONT_COLOR_HEX = "0xFFFFFFFF"/>
				<FORM ID = "FRM_TEXT">
					<ATTR X = "30" Y = "182" W="397" H="108"/>
					<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "0" T_Y ="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
				<SCRIPT ID="ON_CALL">
					if IsEventMission() == true then
						UISelf:ChangeImage("../Data/6_ui/mission/msEventBg_Xmas.tga")
					else
						UISelf:ChangeImage("../Data/6_ui/mission/msEventBg.tga")
					end
				</SCRIPT>
			</FORM>
			<BUILD TARGET_ID="FRM_CARD" X="80" Y="20" X_COUNT = "4" Y_COUNT = "1" X_GAB = "103" Y_GAB = "0"/>
			<FORM ID = "FRM_CARD">
				<ATTR X = "0" Y = "0" W ="123" H ="189" />
<!--			<ATTR IMG = "../Data/6_ui/mission/msCardBg.tga" IMG_W = "123" IMG_H = "189"/> -->
<!--			<ATTR TEXT = "400228" FONT = "Font_Text" T_X = "17" T_Y ="160"  FONT_COLOR_HEX="0xFFF4FBB8"/> -->
				<SCRIPT ID = "ON_CALL">
					UISelf:GetControl("IMG_OVER"):Visible(false)
				</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT">
					for i=0,3 do
						local szName = "FRM_CARD" .. i
						UISelf:GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
					end
				</SCRIPT>
				<IMG ID = "IMG_NEW">
					<ATTR X = "0" Y = "0" W="123" H="189" IMG_W = "123" IMG_H = "189" IS_VISIBLE = "0" PASS_EVENT = "1"/>
				</IMG>
				<IMG ID = "IMG_OVER">
					<ATTR X = "10" Y = "40" Z = "1" W="414" H="105" IMG = "../Data/6_ui/mission/msCardLine2.tga" IMG_W = "414" IMG_H = "105"/>
					<ATTR IS_VISIBLE = "0"/>
					<SCRIPT ID = "ON_MOUSE_OUT">
						for i=0,3 do
							local szName = "FRM_CARD" .. i
							UISelf:GetParent():GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
						end
						
						CloseToolTip()
					</SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">
						OnSelectMissionDiff( UISelf, true )
					</SCRIPT>
				</IMG>

				<IMG ID = "IMG_BG">
					<ATTR X = "10" Y = "41" W="103" H="123" IMG = "../Data/6_ui/mission/ms010100_01.tga" IMG_W = "103" IMG_H = "103"/>					
					<FORM ID = "FRM_LV5_QUEST" X="2" Y="2">
						<ATTR IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
						<ATTR Z="10" W = "300" H = "14" FONT = "Font_Chat" T_X = "42" T_Y = "1" TEXT = "" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>						
						<SCRIPT ID="ON_CALL">
							local loc = UISelf:GetLocation()
							loc:SetX(2)
							UISelf:SetLocation(loc)
						</SCRIPT>
					</FORM>
					<FORM ID = "FRM_LV6_QUEST" X="2" Y="2">
						<ATTR IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
						<ATTR Z="10" W = "300" H = "14" FONT = "Font_Chat" T_X = "42" T_Y = "1" TEXT = "" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>						
						<SCRIPT ID="ON_CALL">
							local loc = UISelf:GetLocation()
							loc:SetX(2)
							loc:SetY(65)
							UISelf:SetLocation(loc)
						</SCRIPT>
					</FORM>
					<FORM ID = "FRM_LV6_NEED_ITEM" X="2" Y="2">
						<ATTR IMG="../Data/6_ui/mission/msImak.tga" X="0" Y="0" IMG_W="17" IMG_H="18" IS_VISIBLE="0"/>
						<ATTR Z="10" W = "300" H = "14" FONT = "Font_Chat" T_X = "19" T_Y = "1" TEXT = "1712" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>						
						<SCRIPT ID="ON_CALL">
							local loc = UISelf:GetLocation()
							loc:SetX(25)
							loc:SetY(82)
							UISelf:SetLocation(loc)
						</SCRIPT>
					</FORM>
					
					<IMG ID = "IMG_CLEAR">
						<ATTR X = "0" Y = "0" W="60" H="57" IMG = "../Data/6_ui/mission/msClear.tga" IMG_W = "60" IMG_H = "56" IS_VISIBLE = "0" PASS_EVENT = "1"/>
					</IMG>
					<SCRIPT ID = "ON_MOUSE_OVER">
						if UISelf:IsGrayScale() == true then return end
						for i=0,3 do
							local szName = "FRM_CARD" .. i
							UISelf:GetParent():GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
						end
						UISelf:GetParent():GetParent():GetControl("FRM_CARD0"):GetControl("IMG_OVER"):Visible(true)
						
						local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
						if true == wnd:GetControl("FRM_BG_ITEM_AUTO"):IsVisible() then
							CallToolTipText(0, GetTT(8011), GetUIWnd("Cursor"):GetLocation())
						end
					</SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">
						OnSelectMissionDiff( UISelf, true )
					</SCRIPT>
				</IMG>
			</FORM>
			<FORM ID = "FRM_ITEM_AUTO_TEXT">
				<ATTR X = "0" Y = "355" W = "457" H = "40" FONT = "FTcts_13" T_X = "90" TEXT = "8010" FONT_COLOR_HEX="0xFFFFFFFF"/>
				<LOCAL>
					<NAME ID="DEFAULT">
						<ATTR T_Y = "21"/>
					</NAME>
					<NAME ID="TAIWAN/CHINA/KOREA/DEVELOP">
						<ATTR T_Y = "11"/>
					</NAME>
				</LOCAL>
			</FORM>
			<IMG ID = "IMG_KEY">					
				<ATTR X = "282" Y = "102" W="27" H="22" IMG = "../Data/6_ui/mission/msF1234.tga" IMG_W = "54" IMG_H = "66" PASS_EVENT = "1"/>
				<ATTR U="2" V="3" />
				<SCRIPT ID = "ON_CALL">
					UISelf:SetUVIndex(5)
				</SCRIPT>
			</IMG>
			<FORM ID = "SFRM_BOSS_BG">
				<IMG ID = "IMG_BOSS">
					<ATTR X = "380" Y = "-48" Z = "5" W = "163" H = "143" IMG_W = "163" IMG_H = "143" IGNORE_PARENT_RECT = "1" PASS_EVENT = "1" />
				</IMG>
			</FORM>
		</STATIC_FORM>
		<STATIC_FORM ID = "FRM_CREATE_FIELD_DEFENCE">
			<ATTR ALIGN_X = "0" Y = "0" Z="-1" W ="457" H ="115"/>
			
			<FORM ID = "FRM_BG_ITEM">
				<ATTR X = "68" Y = "0" Z="-1" W = "464" H = "63" />
				<ATTR IMG = "../Data/6_ui/mission/msNewMdBg.tga" IMG_W = "457" IMG_H = "115"/>	
				<FORM ID = "FRM_TEXT">
					<ATTR X = "22" Y = "10" W = "200" H = "28" FONT = "FTctsBig_14" T_X = "0" T_Y = "0" TEXT = "400956" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
				<FORM ID = "FRM_TEXT1">
					<ATTR X = "160" Y = "10" W = "250" H = "28" FONT = "Font_Text" T_X = "0" T_Y = "0" TEXT = "400957" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
			</FORM>
			<FORM ID = "FRM_TITLE">
				<ATTR X = "68" Y = "0" W = "414" H = "63" />
				<FORM ID = "FRM_TEXT">
					<ATTR X = "22" Y = "10" W = "200" H = "28" FONT = "FTctsBig_14" T_X = "0" T_Y = "0" TEXT = "400956" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
			</FORM>
			<FORM ID = "FRM_CARD0">
				<ATTR X = "90" Y = "33" W ="414" H ="63" />
				<SCRIPT ID = "ON_CALL">
					UISelf:GetControl("IMG_OVER"):Visible(false)
				</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT">
					UISelf:GetControl("IMG_OVER"):Visible(false)
				</SCRIPT>
				
				<IMG ID = "IMG_OVER">
					<ATTR X = "0" Y = "0" Z = "11" W="414" H="63" IMG = "../Data/6_ui/mission/msCardLine3.tga" IMG_W = "414" IMG_H = "63"/>
					<ATTR IS_VISIBLE = "0" PASS_EVENT = "1" />
				</IMG>

				<FORM ID = "FRM_QUEST" X="2" Y="2">
					<ATTR IMG="../Data/6_ui/icon/IconType.tga" X="-22" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
					<ATTR Z="10" W = "300" H = "14" FONT = "Font_Chat" T_X = "42" T_Y = "1" TEXT = "" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
				
				<IMG ID = "IMG_BG">
					<ATTR X = "0" Y = "0" W="414" H="63" IMG = "../Data/6_ui/mission/msDefenseImg_90102.tga" IMG_W = "414" IMG_H = "63"/>
					<IMG ID = "IMG_CLEAR">
						<ATTR X = "0" Y = "0" W="60" H="57" IMG = "../Data/6_ui/mission/msClear.tga" IMG_W = "60" IMG_H = "56" IS_VISIBLE = "0" PASS_EVENT = "1"/>
					</IMG>
					<SCRIPT ID = "ON_MOUSE_OVER">
						if UISelf:IsGrayScale() == true then return end
						UISelf:GetParent():GetControl("IMG_OVER"):Visible(true)
					</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT">
						UISelf:GetParent():GetControl("IMG_OVER"):Visible(false)
						CloseToolTip()
					</SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">
						if IsInParty() then
							if IsPartyMaster( g_pilotMan:GetPlayerPilotGuid() ) then
								CallDefenceModEnter()
								Send_PT_C_M_REQ_OPEN_DEFENCE_WINDOW()
							end	
						else
							CallDefenceModEnter()
						end
					</SCRIPT>
					<SCRIPT ID = "ON_CALL">UISelf:SetGrayScale(true)</SCRIPT>
				</IMG>
				<FORM ID = "FRM_TEXT">
					<ATTR X = "10" Y = "40" Z= "10" W = "400" H = "28" FONT = "Font_Chat" T_X = "200" T_Y = "0" T_CENTER = "1" TEXT = "400958" FONT_COLOR_HEX="0xFFFFFFFF" PASS_EVENT = "1" />
				</FORM>			
			</FORM>
			<IMG ID = "IMG_KEY">					
				<ATTR X = "282" Y = "48" Z="2" W="27" H="22" IMG = "../Data/6_ui/mission/msF1234.tga" IMG_W = "54" IMG_H = "88" PASS_EVENT = "1"/>
				<ATTR U="2" V="4" />
				<SCRIPT ID = "ON_CALL">
					local index = 6
					local bDefenceMode6 = IsOpenDefenseModeTable(1, GetMissionNo())
					local bDefenceMode7 = IsOpenDefenseModeTable(2, GetMissionNo())
					if false == bDefenceMode6 and bDefenceMode7 then
						index = 7
					end
					UISelf:SetUVIndex(index)
				</SCRIPT>
			</IMG>
			
			
			<SCRIPT ID = "ON_MOUSE_OVER">
				UISelf:GetControl("IMG_BG"):GetControl("IMG_OVER"):Visible(true)
			</SCRIPT>	
			<SCRIPT ID = "ON_MOUSE_OUT">
				UISelf:GetControl("IMG_BG"):GetControl("IMG_OVER"):Visible(false)
			</SCRIPT>	
			<SCRIPT ID = "ON_CALL">
				local loc = UISelf:GetLocation()
				if IsHaveArcadeMode() then
					loc:SetY(0)
				else
					loc:SetY(150)
				end
				
				g_Defence7ModeExpStr = WideString(" 100%")
				
				UISelf:SetLocation(loc)
				UISelf:Visible(false)
			</SCRIPT>	
			<HOTKEY ID="64">
				local bDefenceMode6 = IsOpenDefenseModeTable(1, GetMissionNo())
				if false == bDefenceMode6 then return end
				CallDefenceModEnter()
				return true
			</HOTKEY>
			<HOTKEY ID="65">
				local bDefenceMode6 = IsOpenDefenseModeTable(1, GetMissionNo())
				local bDefenceMode7 = IsOpenDefenseModeTable(2, GetMissionNo())
				if false == bDefenceMode7 then return end
				if bDefenceMode6 and bDefenceMode7 then return end
				CallDefenceModEnter()
				return true
			</HOTKEY>
		</STATIC_FORM>
		<STATIC_FORM ID = "FRM_CREATE_FIELD">
			<ATTR ALIGN_X = "50" Y = "241" W ="600" H ="218" />	
			<SCRIPT ID = "ON_CALL">
				MissionUISetQuest(UISelf)
			</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER">
				local MissionTopWnd;
				local MissionWnd;
				MissionTopWnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM");
				if MissionTopWnd:IsNil() then
					return false
				end					
				MissionWnd = MissionTopWnd:GetControl("FRM_CREATE_FIELD_SCENARIO")
				if MissionWnd:IsNil() then
					return false
				end				
				for i=0,3 do
					local szName = "FRM_CARD" .. i					
					MissionWnd:GetControl(szName):GetControl("IMG_OVER"):Visible(false)
				end
			</SCRIPT>					
			
			<FORM ID = "FRM_BG_ITEM">
				<ATTR X = "68" Y = "10" Z="-1" W = "543" H = "28" />
				<!--<ATTR IMG = "../Data/6_ui/mission/msEntBg.tga" IMG_W = "457" IMG_H = "218" T_X = "100" T_Y = "0" FONT = "FTlevel" FONT_COLOR_HEX = "0xFFFFFFFF"/>-->
				<FORM ID = "FRM_TEXT">
					<ATTR X = "20" Y = "30" W = "300" H = "28" FONT = "FTctsBig_14" T_X = "0" T_Y = "0" TEXT = "400949" FONT_COLOR_HEX="0xFFF4FBB8" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
			</FORM>		

			<BUTTON ID = "BTN_RANK1">
				<ATTR X="232" Y="42" W="53" H="16" TEXT = "401191" T_X = "16" T_Y = "0" CENTER = "1" FONT = "Font_Text" FONT_COLOR_HEX = "0xFFFFFFFF"/>
				<ATTR BTN_IMG="../Data/6_ui/mission/msRankBt.tga" BTN_IMG_W="53" BTN_IMG_H="64" BTN_VERTICAL_IMG="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
				<SCRIPT ID = "ON_CALL">
					if false == GetMissionLevelArea(0) then
						UISelf:Disable(true)
					else
						UISelf:Disable(false)
					end
				</SCRIPT>
				<SCRIPT ID = "ON_L_BTN_UP">
					CallRankInfo(GetMissionKey(GetMissionNo()), 0)
				</SCRIPT>
			</BUTTON>
			
			<BUTTON ID = "BTN_RANK2">
				<ATTR X="442" Y="42" W="53" H="16" TEXT = "401191" T_X = "16" T_Y = "0" CENTER = "1" FONT = "Font_Text" FONT_COLOR_HEX = "0xFFFFFFFF"/>
				<ATTR BTN_IMG="../Data/6_ui/mission/msRankBt.tga" BTN_IMG_W="53" BTN_IMG_H="64" BTN_VERTICAL_IMG="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
				<SCRIPT ID = "ON_CALL">
					if false == GetMissionLevelArea(1) then
						UISelf:Disable(true)
					else
						UISelf:Disable(false)
					end
				</SCRIPT>
				<SCRIPT ID = "ON_L_BTN_UP">
					CallRankInfo(GetMissionKey(GetMissionNo()), 1)
				</SCRIPT>				
			</BUTTON>			
				
			<SCRIPT ID = "ON_DISPLAY">
				if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
					return
				end
				local kActor = GetMyActor()
				if kActor:IsNil() then return end
				if kActor:IsJumping() then UISelf:Close() end
				if false==kActor:GetVelocity():IsZero() then UISelf:Close() end
				local AcName = kActor:GetAction():GetID()
				if AcName == "a_act" or AcName == "a_idle" or AcName == "a_battle_idle" then
				else
					UISelf:Close()
				end
			</SCRIPT>
			<HOTKEY ID="59">
				CallMissionSelectMap(UISelf:GetControl("FRM_CARD0"))
				return true
			</HOTKEY>
			<HOTKEY ID="60">
				CallMissionSelectMap(UISelf:GetControl("FRM_CARD1"))
				return true
			</HOTKEY>
			<HOTKEY ID="63">		
				local CardWnd = UISelf:GetParent():GetControl("FRM_CREATE_FIELD_SCENARIO"):GetControl("FRM_CARD0")
				if false == IsGrayDiff(CardWnd) then
					return true
				end			
				
				if UISelf:GetParent():GetControl("FRM_CREATE_FIELD_SCENARIO"):GetControl("FRM_CARD0"):GetControl("IMG_BG"):GetControl("IMG_CLEAR"):IsVisible() then
					iDiff = 6
				else
					iDiff = 5
				end
				Net_ReqEnterMission( iDiff, 0, 0, 0, 0, GetMutatotSelectedCount(), GetMutatorPacket()  )
			
				InitMission()
				UISelf:CloseParent()
				return true
			</HOTKEY>
			<FORM ID = "FRM_PROG">
				<ATTR X = "80" Y = "206" W = "243" H = "28" />
				<ATTR IMG = "../Data/6_ui/mission/msClrBg.tga" IMG_W = "243" IMG_H = "28" T_X = "110" T_Y = "0" FONT = "FTlevel" FONT_COLOR_HEX = "0xFFFFFFFF"/>
				<FORM ID = "FRM_TEXT">
					<ATTR X = "165" Y = "0" W = "71" H = "28" FONT = "FTlevel" T_X = "0" T_Y = "0" TEXT = "400801" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
				<FORM ID = "FRM_TITLE">
					<ATTR X = "15" Y = "0" W = "84" H = "28" FONT = "FTctsBig_14" T_X = "0" T_Y = "4" TEXT = "400800" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
				<SCRIPT ID="ON_CALL">
					local loc = UISelf:GetLocation()
					local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
					if IsAutoLevel(GetMissionNo()) then						
						loc:SetY(276)
					else
						loc:SetY(206)
					end
					UISelf:SetLocation(loc)
				</SCRIPT>
			</FORM>			
				
			<BUILD ID="BLD_CARD" TARGET_ID="FRM_CARD" X="78" Y="40" X_COUNT = "2" Y_COUNT = "1" X_GAB = "210" Y_GAB = "0"/>
			<FORM ID = "FRM_CARD">
				<ATTR X = "0" Y = "0" W ="206" H ="189" />
<!--			<ATTR IMG = "../Data/6_ui/mission/msCardBg.tga" IMG_W = "123" IMG_H = "189"/> -->
				<ATTR TEXT = "0" FONT = "Font_Text" T_X = "17" T_Y ="155"  FONT_COLOR_HEX="0xFFF4FBB8"/>
				<SCRIPT ID = "ON_CALL">
					UISelf:GetControl("IMG_OVER"):Visible(false)
					
					if 0 ~= UISelf:GetBuildIndex() then
						SetMissionGray(UISelf, GetMissionNo(), UISelf:GetBuildIndex())
					end
				</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				<FORM ID="FRM_LEVEL_BG">
					<IMG ID="IMG_LVBG">
						<ATTR X="118" Y="32" Z="0" W="97" H="20" IMG="../Data/6_ui/mission/msLvBg.tga" IMG_W="97" IMG_H="20" PASS_EVENT = "1"/>
					</IMG>
					<SCRIPT ID="ON_CALL">
						if 1 == UISelf:GetParent():GetBuildIndex() then
							if true == GetMissionLevelArea(UISelf:GetParent():GetBuildIndex()) then
								UISelf:Visible(true)
							else
								UISelf:Visible(false)
							end
						else
							UISelf:Visible(true)
						end
					</SCRIPT>
				</FORM>
				<FORM ID="FRM_AREA_TEXT">
					<ATTR X = "10" Y = "110" Z="3" W ="206" H ="42" PASS_EVENT="1"/>
					<ATTR TEXT = "401199" FONT = "QTtext" T_X ="103" T_Y ="2" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/>
					<SCRIPT ID="ON_CALL">						
						if 1 == UISelf:GetParent():GetBuildIndex() then
							if false == GetMissionLevelArea(UISelf:GetParent():GetBuildIndex()) then
								UISelf:SetStaticText(GetTextW(401199):GetStr())
								UISelf:Visible(true)
							else
								UISelf:SetStaticText("")
								UISelf:Visible(false)
							end
						else
							UISelf:SetStaticText("")
							UISelf:Visible(false)							
						end
					</SCRIPT>
				</FORM>
				<FORM ID="FRM_LEVEL_TEXT">
					<ATTR X = "123" Y = "33" Z="3" W ="83" H ="21" PASS_EVENT="1"/>
					<ATTR TEXT = "" FONT = "QTtext" T_X ="41" T_Y ="2" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/>
					<SCRIPT ID="ON_CALL">
						local iNum = tonumber(string.sub(UISelf:GetID():GetStr(), -1))
						SetMissionLevelingText(UISelf, UISelf:GetParent():GetBuildIndex())					
					</SCRIPT>
				</FORM>
				<FORM ID = "FRM_QUEST_1" X="0" Y="0" W = "226" H = "14" PASS_EVENT="1" IS_VISIBLE="0">
					<ATTR FONT = "Font_Chat" T_X = "42" T_Y = "1" TEXT = "" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>						
					<IMG ID="IMG_QMARK" IMG="../Data/6_ui/mission/msQmarkAni.tga" X="24" Y="0" IMG_W="51" IMG_H="36" U="3" V="2" UV_INDEX="1">
						<SCRIPT ID="ON_TICK">
							UVAnimation(UISelf, 0.1, 1, 6, 1)
						</SCRIPT>
					</IMG>
					<SCRIPT ID="ON_CALL">
						local loc = UISelf:GetLocation()
						loc:SetX(-14)
						loc:SetY(99)
						UISelf:SetLocation(loc)
					</SCRIPT>
				</FORM>
				<FORM ID = "FRM_QUEST_2" X="0" Y="0" W = "226" H = "14" PASS_EVENT="1" IS_VISIBLE="0">
					<ATTR FONT = "Font_Chat" T_X = "42" T_Y = "1" TEXT = "" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>						
					<IMG ID="IMG_QMARK" IMG="../Data/6_ui/mission/msQmarkAni.tga" X="24" Y="0" IMG_W="51" IMG_H="36" U="3" V="2" UV_INDEX="1">
						<SCRIPT ID="ON_TICK">
							UVAnimation(UISelf, 0.1, 1, 6, 1)
						</SCRIPT>
					</IMG>
					<SCRIPT ID="ON_CALL">
						local loc = UISelf:GetLocation()
						loc:SetX(-14)
						loc:SetY(117)
						UISelf:SetLocation(loc)
					</SCRIPT>
				</FORM>
				<FORM ID = "FRM_QUEST_3" X="0" Y="0" W = "226" H = "14" PASS_EVENT="1" IS_VISIBLE="0">
					<ATTR FONT = "Font_Chat" T_X = "42" T_Y = "1" TEXT = "" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
					<IMG ID="IMG_QMARK" IMG="../Data/6_ui/mission/msQmarkAni.tga" X="24" Y="0" IMG_W="51" IMG_H="36" U="3" V="2" UV_INDEX="1">
						<SCRIPT ID="ON_TICK">
							UVAnimation(UISelf, 0.1, 1, 6, 1)
						</SCRIPT>
					</IMG>
					<SCRIPT ID="ON_CALL">
						local loc = UISelf:GetLocation()
						loc:SetX(-14)
						loc:SetY(135)
						UISelf:SetLocation(loc)
					</SCRIPT>
				</FORM>
				<IMG ID = "IMG_CHAOS" X="100" Y="54" Z="3" W="24" H="25">
					<ATTR IMG="../Data/6_ui/common/cmChaosMbig.tga" IMG_W="24" IMG_H="25"  PASS_EVENT = "1"/>
					<SCRIPT ID = "ON_CALL">
						UISelf:Visible(false)
						if 0 ~= UISelf:GetParent():GetBuildIndex() then
							UISelf:Visible(true)
						end
					</SCRIPT>
				</IMG>
				<IMG ID = "IMG_NEW">
					<ATTR X = "0" Y = "0" W="123" H="189" IMG_W = "123" IMG_H = "189" IS_VISIBLE = "0" PASS_EVENT = "1"/>
				</IMG>
				<IMG ID = "IMG_OVER">
					<ATTR X = "10" Y = "29" Z = "1" W="206" H="123" IMG = "../Data/6_ui/mission/msCaosCl.tga" IMG_W = "206" IMG_H = "123"/>
					<ATTR IS_VISIBLE = "0"/>
					<SCRIPT ID="ON_MOUSE_OVER">
						local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
						if true == wnd:GetControl("FRM_BG_ITEM_AUTO"):IsVisible() then
							CallToolTipText(0, GetTT(8011), GetUIWnd("Cursor"):GetLocation())
						end
					</SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OUT">
						for i=0,1 do
							local szName = "FRM_CARD" .. i
							UISelf:GetParent():GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
						end
						CloseToolTip()
					</SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">
						CallMissionSelectMap(UISelf:GetParent())
					</SCRIPT>
				</IMG>

				<IMG ID = "IMG_BG">
					<ATTR X = "10" Y = "29" W="103" H="123" IMG = "../Data/6_ui/mission/ms010100_1.tga" IMG_W = "103" IMG_H = "123" />
					<IMG ID = "IMG_CLEAR">
						<ATTR X = "0" Y = "0" W="60" H="57" IMG = "../Data/6_ui/mission/msClear.tga" IMG_W = "60" IMG_H = "56" IS_VISIBLE = "0" PASS_EVENT = "1"/>
					</IMG>
					
					<IMG ID = "IMG_KEY">					
						<ATTR X = "90" Y = "50" W="27" H="22" IMG = "../Data/6_ui/mission/msF1234.tga" IMG_W = "54" IMG_H = "66" IS_VISIBLE = "1" PASS_EVENT = "1"/>
						<ATTR U="2" V="3" />		
					</IMG>
					
					<SCRIPT ID = "ON_MOUSE_OVER">
						if 1 == UISelf:GetParent():GetBuildIndex() then
							if true == GetMissionLevelArea(1) and UISelf:IsGrayScale() == true then
								CallToolTipText(0, GetTT(401198), GetUIWnd("Cursor"):GetLocation())
							else
								CloseToolTip()
							end
						end		
						if UISelf:IsGrayScale() == true then return end
						for i=0,1 do
							local szName = "FRM_CARD" .. i
							UISelf:GetParent():GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
						end
						
						UISelf:GetParent():GetControl("IMG_OVER"):Visible(true)						
						
						local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
						if true == wnd:GetControl("FRM_BG_ITEM_AUTO"):IsVisible() then
							if 0 == UISelf:GetParent():GetBuildIndex() then
								CallToolTipText(0, GetTT(8011), GetUIWnd("Cursor"):GetLocation())
							end
						end
									
					</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">			
						CallMissionSelectMap(UISelf:GetParent())
					</SCRIPT>
				</IMG>

				<IMG ID = "IMG_BG1">
					<ATTR X = "113" Y = "29" W="103" H="123" IMG = "../Data/6_ui/mission/ms010100_2.tga" IMG_W = "103" IMG_H = "123" />
					<IMG ID = "IMG_KEY">					
						<ATTR X = "90" Y = "50" W="27" H="22" IMG_W = "54" IMG_H = "66" IS_VISIBLE = "1" PASS_EVENT = "1"/>
						<ATTR U="2" V="3" />		
					</IMG>					
					<SCRIPT ID = "ON_MOUSE_OVER">
						if 1 == UISelf:GetParent():GetBuildIndex() then
							if true == GetMissionLevelArea(1) and UISelf:IsGrayScale() == true then
								CallToolTipText(0, GetTT(401198), GetUIWnd("Cursor"):GetLocation())
							else
								CloseToolTip()
							end
						end		
						if UISelf:IsGrayScale() == true then return end
						for i=0,1 do
							local szName = "FRM_CARD" .. i
							UISelf:GetParent():GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
						end
						
						UISelf:GetParent():GetControl("IMG_OVER"):Visible(true)						
						
						local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
						if true == wnd:GetControl("FRM_BG_ITEM_AUTO"):IsVisible() then
							if 0 == UISelf:GetParent():GetBuildIndex() then
								CallToolTipText(0, GetTT(8011), GetUIWnd("Cursor"):GetLocation())
							end
						end
									
					</SCRIPT>
					<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">			
						CallMissionSelectMap(UISelf:GetParent())
					</SCRIPT>
				</IMG>

			</FORM>		

			<IMG ID = "IMG_LINE">
				<ATTR X = "20" Y = "326" W="567" H="3" IMG = "../Data/6_ui/mission/msLine.tga" IMG_W = "567" IMG_H = "3" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
				<SCRIPT ID="ON_CALL">
					local loc = UISelf:GetLocation()
					local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
					if IsAutoLevel(GetMissionNo()) then						
						loc:SetY(396)
					else
						loc:SetY(326)
					end
					UISelf:SetLocation(loc)
				</SCRIPT>				
			</IMG>
			<IMG ID = "IMG_LINE2">
				<ATTR X = "20" Y = "247" W="567" H="3" IMG = "../Data/6_ui/mission/msLine.tga" IMG_W = "567" IMG_H = "3" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
				<SCRIPT ID="ON_CALL">
					local loc = UISelf:GetLocation()
					local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
					if IsAutoLevel(GetMissionNo()) then						
						loc:SetY(637)
					else
						loc:SetY(567)
					end
					UISelf:SetLocation(loc)
				</SCRIPT>
			</IMG>

			<IMG ID = "IMG_TEXT_BG">
				<ATTR X = "21" Y = "248" W="565" H="60" IMG = "../Data/6_ui/mission/msTxtBg.tga" IMG_W = "565" IMG_H = "78"/>
				<ATTR TEXT = "400227" FONT = "FTtitle_14" T_X = "282" T_Y ="5" T_CENTER = "1" FONT_COLOR_HEX="0xFFFFFFFF" />
				<FORM ID = "FRM_STORY">
					<ATTR X = "0" Y = "20" W="565" H="60"/>
					<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "282" T_Y ="5" T_CENTER = "1" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
				<SCRIPT ID="ON_CALL">
					local loc = UISelf:GetLocation()
					local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
					if IsAutoLevel(GetMissionNo()) then						
						loc:SetY(318)
					else
						loc:SetY(248)
					end
					UISelf:SetLocation(loc)
				</SCRIPT>				
			</IMG>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_MUTATOR_BG">
			<ATTR X = "330" Y = "449" Z = "5" W ="84" H ="26" STATIC_NUM = "8" />
			<SCRIPT ID="ON_CALL">
				local loc = UISelf:GetLocation()
				local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
				if IsHaveArcadeMode() then
					loc:SetX(330)
					if IsAutoLevel(GetMissionNo()) then
						loc:SetY(519)
					else
						loc:SetY(449)
					end
				else
					loc:SetY(419)
				end
				UISelf:SetLocation(loc)
			</SCRIPT>
			<BUTTON ID = "BTN_MUTATOR_SELECT">
				<ATTR X="0" Y="0" W="111" H="41"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
				<ATTR TEXT = "90004000" FONT = "FTbt_12" T_X = "42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
				<SCRIPT ID="ON_L_BTN_UP">
					MakeMutatorUI()
				</SCRIPT>
			</BUTTON>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_EXIT_BG">				
			<ATTR X = "420" Y = "449" Z = "5" W ="84" H ="26" STATIC_NUM = "7" />
			<SCRIPT ID="ON_CALL">
				local loc = UISelf:GetLocation()
				local wnd = GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):GetControl("FRM_CREATE_FIELD_SCENARIO")
				if IsHaveArcadeMode() then
					loc:SetX(420)
					if IsAutoLevel(GetMissionNo()) then						
						loc:SetY(519)
					else
						loc:SetY(449)
					end
				else
					loc:SetX(250)
					loc:SetY(419)
				end
				UISelf:SetLocation(loc)
			</SCRIPT>						
			<BUTTON ID = "BTN_EXIT">
				<ATTR X="0" Y="0" W="111" H="41"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
				<ATTR TEXT = "400229" FONT = "FTbt_12" T_X = "42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
				<SCRIPT ID="ON_L_BTN_UP"> 
					UISelf:GetParent():CloseParent() 
					if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
						CallMissionRetryUI()
					end
				</SCRIPT>

				<HOTKEY ID = "1"> 
					UISelf:GetParent():CloseParent() 
					if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
						CallMissionRetryUI()
					end
					return true
				</HOTKEY>
			</BUTTON>
		</STATIC_FORM>			
	</STATIC_FORM>
	<STATIC_FORM ID = "SFRM_CREATE_FIELD">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W ="215" H ="241" CAN_DRAG = "1" STATIC_NUM = "1"/>
		<STATIC_FORM ID = "SFRM_TITLE">
			<ATTR X = "1" Y = "0" W ="213" H ="36" STATIC_NUM = "4" />
			<STATIC_FORM ID = "SFRM_CLOSE_BG">
				<ATTR X = "182" Y = "4" W ="24" H ="24" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
				<BUTTON ID = "Close">
					<ATTR X = "0" Y = "0" W ="24" H ="24" />
					<ATTR BTN_IMG = "../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W = "48" BTN_IMG_H = "48"/>
					<SCRIPT ID = "ON_L_BTN_DOWN">UISelf:GetParent():GetParent():CloseParent()</SCRIPT>
					<HOTKEY ID = "1">UISelf:GetParent():GetParent():CloseParent() return true</HOTKEY>
				</BUTTON>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_TAB_BG">
				<ATTR X = "7" Y = "4" W ="84" H ="24" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
				<CHECK_BUTTON ID = "CBTN_TITLE">
					<ATTR X = "0" Y = "0" W ="84" H ="24" />
					<ATTR BTN_IMG = "../Data/6_ui/common/cmTabB.tga" BTN_IMG_W = "168" BTN_IMG_H = "48" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
					<ATTR TEXT = "400200" FONT = "FTtitle_14" T_X = "36" T_Y ="4" T_CENTER = "1"/>
					<SCRIPT ID = "ON_CALL">
						UISelf:CheckState(true)
						UISelf:LockClick(true)
					</SCRIPT>
				</CHECK_BUTTON>
			</STATIC_FORM>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_COLOR">
			<ATTR X = "9" Y = "35" W ="197" H ="161" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
			<STATIC_FORM ID = "SFRM_SDW">
				<ATTR X = "0" Y = "0" W ="197" H ="161" STATIC_NUM = "3" />
				<ATTR TEXT = "400201" FONT = "Font_Text" T_X = "20" T_Y ="40" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
				<STATIC_FORM ID = "SFRM_MAP_NAME">
					<ATTR X = "6" Y = "6" W ="185" H ="25" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
					<ATTR TEXT = "" FONT = "Font_Text" T_X = "10" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</STATIC_FORM>
				<LIST ID = "LST_DIFFICULTY">
					<!--					<BUTTON ID="ScrUp">
						<ATTR X="123" Y="0" W="19" H="15" />
						<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollUp.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
						<FORM ID = "FRM_LIST_BG">
							<ATTR X = "4" Y = "13" W ="13" H ="100" IGNORE_PARENT_RECT = "1" />
							<ATTR IMG = "../Data/6_ui/common/cmScrollBg.tga" IMG_W = "13" IMG_H = "100"/>
						</FORM>
					</BUTTON>
					<BUTTON ID="ScrDown">
						<ATTR X="123" Y="105" W="19" H="15" />
						<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollDn.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
					</BUTTON>
					<BUTTON ID="ScrMiddle">
						<ATTR X="125" Y="0" W="15" H="42" />
						<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42" />
					</BUTTON>
	
					<ATTR BTN_UP = "ScrUp" />
					<ATTR BTN_DOWN = "ScrDown" />
					<ATTR BTN_MIDDLE = "ScrMiddle" />	-->

					<ATTR ELEMENT_ID = "FRM_DIFF_ELE" />
					<ATTR X = "53" Y = "37" W = "142" H = "120" ITEM_X = "0" ITEM_Y = "0" CAN_SELECT = "1" />
					<SCRIPT ID = "ON_CALL"> UISelf:SetCustomDataAsInt(0) </SCRIPT>
				</LIST>
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID = "BTN_ENTER">
			<ATTR X="65" Y="202" W="84" H="26"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT = "400206" FONT = "Font_Text" T_X = "40" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				local iDiff = UISelf:GetParent():GetControl("SFRM_COLOR"):GetControl("SFRM_SDW"):GetControl("LST_DIFFICULTY"):GetCustomDataAsInt()
				if iDiff == 0 then
					return
				end
				
				Net_ReqEnterMission( iDiff, 0, 0, 0, 0, GetMutatotSelectedCount(), GetMutatorPacket() )
				UISelf:CloseParent()
				CloseUI("SFRM_CREATE_FIELD")
			</SCRIPT>

			<HOTKEY ID = "28">
				local iDiff = UISelf:GetParent():GetControl("SFRM_COLOR"):GetControl("SFRM_SDW"):GetControl("LST_DIFFICULTY"):GetCustomDataAsInt()
				if iDiff == 0 then
					return
				end
				
				Net_ReqEnterMission( iDiff, 0, 0, 0, 0, GetMutatotSelectedCount(), GetMutatorPacket() )
				UISelf:CloseParent()
				CloseUI("SFRM_CREATE_FIELD")
				return true
			</HOTKEY>
		</BUTTON>
	</STATIC_FORM>

	<FORM ID = "FRM_DIFF_ELE">
		<ATTR X="0" Y="0" W="136" H="27"/>
		<ATTR TEXT = "" FONT = "Font_Text" T_X = "22" T_Y ="4"  FONT_COLOR_HEX="0xFFFFFFFF"/>
		<CHECK_BUTTON ID = "CBTN_CHECK">
			<ATTR X="0" Y="0" W="20" H="20"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtRadio.tga" BTN_IMG_W = "40" BTN_IMG_H = "40"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				wndlst = UISelf:GetParent():GetParent()
				if wndlst:IsNil() == false then
					for i=0,3 do
						sItem = wndlst:ListFindItemW(GetTextW(400202+i))
						if sItem:IsNil() == false then
							sItem:GetWnd():GetControl("CBTN_CHECK"):CheckState(false)
						end
					end

					wndlst:SetCustomDataAsInt( UISelf:GetParent():GetCustomDataAsInt() )
					UISelf:CheckState(false)
				end
			</SCRIPT>
		</CHECK_BUTTON>

		<BUILD TARGET_ID = "FRM_STAR" X = "49" Y = "2" X_COUNT = "4" Y_COUNT = "1" X_GAB = "21" Y_GAB = "0"/>
		<FORM ID = "FRM_STAR">
			<ATTR X="0" Y="0" W="16" H="16" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
			<ATTR IMG = "../Data/6_ui/indun/idStarBg.tga" IMG_W = "16" IMG_H = "16" />
			<FORM ID = "FRM_RED_STAR">
				<ATTR X="0" Y="0" W="16" H="16" />
				<ATTR IMG = "../Data/6_ui/indun/idStar.tga" IMG_W = "16" IMG_H = "16"/>
				<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
			</FORM>
		</FORM>
	</FORM>

	<FORM ID = "SFRM_RESULT_INFO_BG">
		<ATTR X = "0" Y = "0" W ="1023" H ="767" ALIVE_TIME = "7000" />
		<FORM ID = "FRM_TITLE1">
			<ATTR X = "233" Y = "50" W ="255" H ="108" IMG = "../Data/6_ui/indun/idTextField.tga" IMG_W = "255" IMG_H = "108" />
		</FORM>
		<FORM ID = "FRM_TITLE2">
			<ATTR X = "488" Y = "50" W ="306" H ="108" IMG = "../Data/6_ui/indun/idTextClear.tga" IMG_W = "306" IMG_H = "108" />
		</FORM>
		<BUILD TARGET_ID = "SFRM_RESULT_INFO" X = "80" Y = "241" X_COUNT = "4" Y_COUNT = "1" X_GAB = "220" Y_GAB = "0"/>
		<STATIC_FORM ID = "SFRM_RESULT_INFO">
			<ATTR X = "0" Y = "0" W ="205" H ="272" CAN_DRAG = "1" STATIC_NUM = "1"/>
			<STATIC_FORM ID = "SFRM_TITLE">
				<ATTR X = "1" Y = "0" W ="203" H ="36" STATIC_NUM = "4" />
				<STATIC_FORM ID = "SFRM_COLOR">
					<ATTR X = "7" Y = "4" W ="189" H ="24" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
					<STATIC_FORM ID = "SFRM_SDW">
						<ATTR X = "0" Y = "0" W ="189" H ="24" STATIC_NUM = "3" />
						<ATTR TEXT = "" FONT = "Font_Text" T_X = "10" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
					</STATIC_FORM>
				</STATIC_FORM>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_COLOR">
				<ATTR X = "9" Y = "35" W ="187" H ="155" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
				<STATIC_FORM ID = "SFRM_SDW">
					<ATTR X = "0" Y = "0" W ="187" H ="155" STATIC_NUM = "3" />
					<ATTR TEXT = "400210" FONT = "Font_Text" T_X = "20" T_Y ="40" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
					<STATIC_FORM ID = "SFRM_BATTLE_INFO">
						<ATTR X = "6" Y = "6" W ="175" H ="25" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
						<ATTR TEXT = "400209" FONT = "Font_Text" T_X = "10" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
					</STATIC_FORM>
	
					<FORM ID = "FRM_NORMAL">
						<ATTR X = "72" Y = "33" W ="106" H ="21" />
						<ATTR TEXT = "400211" FONT = "Font_Text" T_X = "11" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						<FORM ID = "FRM_ARROW">
							<ATTR X="0" Y="5" W="6" H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6"/>
						</FORM>
						<FORM ID = "FRM_NUM">
							<ATTR X = "62" Y = "0" W ="44" H ="21" />
							<ATTR TEXT = "" FONT = "Font_Text" T_X = "0" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF4D3413"/>
							<SCRIPT ID = "ON_CALL"> UISelf:SetFontColor(5059603) </SCRIPT>
						</FORM>
					</FORM>
					<FORM ID = "FRM_STRENGTH">
						<ATTR X = "72" Y = "55" W ="106" H ="21" />
						<ATTR TEXT = "400212" FONT = "Font_Text" T_X = "11" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						<FORM ID = "FRM_ARROW">
							<ATTR X="0" Y="5" W="6" H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6"/>
						</FORM>
						<FORM ID = "FRM_NUM">
								<ATTR X = "62" Y = "0" W ="44" H ="21" />
								<ATTR TEXT = "" FONT = "Font_Text" T_X = "0" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF4D3413"/>
								<SCRIPT ID = "ON_CALL"> UISelf:SetFontColor(5059603) </SCRIPT>
						</FORM>
					</FORM>
					<FORM ID = "FRM_CRACK">
						<ATTR X = "72" Y = "77" W ="106" H ="21" />
						<ATTR TEXT = "400213" FONT = "Font_Text" T_X = "11" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						<FORM ID = "FRM_ARROW">
							<ATTR X="0" Y="5" W="6" H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6"/>
						</FORM>
						<FORM ID = "FRM_NUM">
							<ATTR X = "62" Y = "0" W ="44" H ="21" />
							<ATTR TEXT = "" FONT = "Font_Text" T_X = "0" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF4D3413"/>
							<SCRIPT ID = "ON_CALL"> UISelf:SetFontColor(5059603) </SCRIPT>
						</FORM>
					</FORM>
	
					<STATIC_FORM ID = "SFRM_TOTAL_EXP">
						<ATTR X = "8" Y = "100" W ="171" H ="23" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
						<ATTR TEXT = "400214" FONT = "Font_Text" T_X = "10" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						<FORM ID = "FRM_NUM">
							<ATTR X = "72" Y = "1" W ="100" H ="21" />
							<ATTR TEXT = "" FONT = "Font_Text" T_X = "0" T_Y ="2" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						</FORM>
					</STATIC_FORM>
					<STATIC_FORM ID = "SFRM_CLEAR_EXP">
						<ATTR X = "8" Y = "125" W ="171" H ="23" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
						<ATTR TEXT = "400215" FONT = "Font_Text" T_X = "10" T_Y ="3" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						<FORM ID = "FRM_NUM">
							<ATTR X = "72" Y = "1" W ="100" H ="21" />
							<ATTR TEXT = "" FONT = "Font_Text" T_X = "0" T_Y ="2" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						</FORM>
					</STATIC_FORM>
				</STATIC_FORM>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_ITEM_COLOR">
				<ATTR X = "9" Y = "190" W ="187" H ="71" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
				<BUILD TARGET_ID = "SFRM_ICON_BG" X = "7" Y = "23" X_COUNT = "4" Y_COUNT = "1" X_GAB = "44" Y_GAB = "0"/>
				<STATIC_FORM ID = "SFRM_ICON_BG">
					<ATTR X = "0" Y = "0" W ="42" H ="43" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				</STATIC_FORM>  
				<STATIC_FORM ID = "SFRM_ITEM_SDW">
					<ATTR X = "0" Y = "0" W ="187" H ="71" STATIC_NUM = "3" />
					<ATTR TEXT = "400217" FONT = "Font_Text" T_X = "18" T_Y ="5" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
					<FORM ID = "FRM_ARROW">
						<ATTR X="30" Y="11" W="6" H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6"/>
					</FORM>
					
					<BUILD TARGET_ID = "IMG_BONUS" X = "7" Y = "23" X_COUNT = "4" Y_COUNT = "1" X_GAB = "44" Y_GAB = "0"/>
					<IMG ID = "IMG_BONUS">
						<ATTR X = "0" Y = "0" W ="42" H ="43" />

						<SCRIPT ID = "ON_BUILD"></SCRIPT>
						<SCRIPT ID = "ON_DISPLAY"></SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
					</IMG> 
				</STATIC_FORM> 
			</STATIC_FORM>
			<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_EXIT">
			<ATTR X = "448" Y = "674" W ="129" H ="56" STATIC_NUM = "7" /> 
			<BUTTON ID = "BTN_EXIT">
				<ATTR X="9" Y="9" W="111" H="41"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmBtLong.tga" BTN_IMG_W="222" BTN_IMG_H="82" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
				<ATTR TEXT = "400208" T_X = "55" T_Y ="11" T_OUTLINE="1" T_CENTER = "1" />
				<SCRIPT ID="ON_L_BTN_DOWN">
					UISelf:GetParent():GetParent():Close()
				</SCRIPT>
			</BUTTON>
		</STATIC_FORM>
		<SCRIPT ID="ON_CLOSE">
			UnLockPlayerInputMove(19) UnLockPlayerInput(19)
			UIOn()
			UpdateLevelUI()
			Net_PT_C_M_REQ_EXIT_MISSION()
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(false) 
		</SCRIPT>
		<SCRIPT ID="ON_CALL">
			UIOff()	
			LockPlayerInputMove(19) LockPlayerInput(19)
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(true, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.8)
		</SCRIPT>
	</FORM>

	<FORM ID = "FRM_GAMING_RANDOM">
		<ATTR ALIGN_X = "100" ALIGN_Y = "0" W ="217" H ="176"/>
		<ATTR TEXT = "" FONT = "Font_Text" T_X = "8" T_Y ="10" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>

		
		<BUILD ID="BLD_CARD_BG" TARGET_ID = "FRM_CARD_BG" X = "5" Y = "2" X_COUNT = "4" Y_COUNT = "1" X_GAB = "52" Y_GAB = "0"/>
		<FORM ID = "FRM_CARD_BG">
			<ATTR X = "0" Y = "0" Z = "0" W = "59" H = "81" IMG = "../Data/6_ui/mission/msIngCardBg2.tga" IMG_W = "59" IMG_H = "81"/>
			<IMG ID = "IMG_CARD">
				<ATTR X = "0" Y = "0" W = "59" H = "81" IMG = "../Data/6_ui/mission/ms010100_01s.tga" IMG_W = "43" IMG_H = "62" IMG_X = "8" IMG_Y = "9"/>
				<IMG ID = "IMG_CARD_STATE">
					<ATTR X = "0" Y = "0" W = "59" H = "81" IMG = "../Data/6_ui/mission/msIngState.tga" IMG_W = "118" IMG_H = "162"/>
					<ATTR U = "2" V = "2" UV_INDEX = "4" IGNORE_PARENT_RECT = "1" CAN_CLIP = "1" T_CENTER = "1" T_X = "29" T_Y = "50" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</IMG>			
				<IMG ID = "IMG_CHAOS" X="35" Y="8" W="17" H="18" Z="1">
					<ATTR IMG="../Data/6_ui/common/cmChaosMsm.tga" IMG_W="17" IMG_H="18"/>
					<SCRIPT ID="ON_CALL">
						UISelf:Visible(g_world:IsHaveWorldAttr(512))
					</SCRIPT>
				</IMG>			
			</IMG>
		</FORM>
		<FORM ID = "FRM_BG">
			<ATTR X = "11" Y = "78" W = "207" H = "113" IMG = "../Data/6_ui/mission/msIngTxtBg.tga" IMG_W = "207" IMG_H = "113"/>
			<ATTR TEXT = "" FONT = "Font_Text" T_X = "8" T_Y ="7" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
			<FORM ID = "FRM_DIFF"> 
				<ATTR X = "8" Y = "40" W = "200" H = "21"/>
				<ATTR TEXT = "400970" FONT = "FTcts_13" T_X = "0" T_Y ="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFf7ea96"/>
			</FORM>
			<BUILD ID="BLD_STAR" TARGET_ID = "FRM_STAR" X = "54" Y = "40" X_COUNT = "4" Y_COUNT = "1" X_GAB = "16" Y_GAB = "0"/>
			<FORM ID = "FRM_STAR">
				<ATTR X="0" Y="0" W="14" H="14"/>
				<ATTR IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
			</FORM>
			<FORM ID = "FRM_MEMBER">
				<ATTR X = "8" Y = "58" W ="131" H ="20" />
				<ATTR TEXT = "" FONT = "Font_Text" T_X = "0" T_Y ="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
			</FORM>
			<BUTTON ID = "BTN_EXIT">
				<ATTR X="66" Y="79" W="84" H="26"/>
				<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
				<ATTR TEXT = "400220" FONT = "Font_Text" T_X = "40" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
				<SCRIPT ID = "ON_L_BTN_DOWN">
					ODS("Get_CMP_STATE " .. Get_CMP_STATE() .."\n")
					CallUI("SFRM_MSG_RANDOM_EXIT") 
				</SCRIPT>
			</BUTTON>
		</FORM>
		
		<SCRIPT ID = "ON_CALL"> 
			CloseCurrentMiniMap()
		</SCRIPT>
	</FORM>

	<STATIC_FORM ID="SFRM_MSG_RANDOM_EXIT">	
		<ATTR ALIGN_X="50" ALIGN_Y="23" W="208" H="127" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="190" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="190" H="75" STATIC_NUM="3" />
				<ATTR TEXT="400207" FONT="Font_Text" T_X="95" T_Y="14" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400334, 2200) </SCRIPT>
			<ATTR X="20" Y="88" W="79" H="28" />
			<ATTR FONT="FTbt_12" T_X="42" T_Y="5" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				MissionCompletePartyStateChange(false)
				Net_PT_C_M_REQ_EXIT_MISSION()
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="59">				
				MissionCompletePartyStateChange(false)
				Net_PT_C_M_REQ_EXIT_MISSION()
				UISelf:CloseParent()
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="106" Y="88" W="79" H="28" />
			<ATTR FONT="FTbt_12" T_X="42" T_Y="5" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent()  </SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>

	<FORM ID = "FRM_GOGO">
		<ATTR ALIGN_X = "95" ALIGN_Y = "50" W ="230" H ="153" />
		<ATTR ALIVE_TIME="5000" ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID = "IMG_RUN">
			<ATTR X="0" Y="0" W="140" H="153" IMG="../Data/6_ui/mission/msGoMan.tga" IMG_W="420" IMG_H="459" />
			<ATTR U="3" V="3" />
		</IMG>
		<IMG ID = "IMG_ARROW">
			<ATTR X="141" Y="45" W="80" H="62" IMG="../Data/6_ui/mission/msGoArrow.tga" IMG_W="160" IMG_H="124" />
			<ATTR U="2" V="2" />
		</IMG>
		<SCRIPT ID = "ON_CALL">		
			iGOGONum = 1
			iArrowNum = 1
			fGOGOTime = GetAccumTime()
			fArrowTime = GetAccumTime()
			
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			local kArrowPos = g_world:GetObjectPosByName("gate_next_base")
			local kMyPos = GetMyActor():GetPos()
			if nil == kArrowPos then
				return false
			end				
			if nil == kMyPos then
				return false
			end
						
			local GoRun = UISelf:GetControl("IMG_RUN")
			local GoArrow = UISelf:GetControl("IMG_ARROW")		
			if GoRun:IsNil() == false and GoArrow:IsNil() == false then			
				if kMyPos:GetX() > kArrowPos:GetX() then
					GoRun:ChangeImage("../Data/6_ui/mission/msGoMan2.tga")
					GoArrow:ChangeImage("../Data/6_ui/mission/msGoArrow2.tga")					
				else
					GoRun:ChangeImage("../Data/6_ui/mission/msGoMan.tga")
					GoArrow:ChangeImage("../Data/6_ui/mission/msGoArrow.tga")
				end
				GoRun:SetInvalidate(true)
				GoArrow:SetInvalidate(true)
			end			
		</SCRIPT>	
		<SCRIPT ID = "ON_DISPLAY">		
			wndRun = UISelf:GetControl("IMG_RUN")
			wndArrow = UISelf:GetControl("IMG_ARROW")
			if wndRun:IsNil() == false then
				if fGOGOTime ~= nil and GetAccumTime() - fGOGOTime > 0.1 then
					if iGOGONum ~= nil then
						iGOGONum = iGOGONum + 1
						if iGOGONum > 7 then
							iGOGONum  = 1
						end
						fGOGOTime = GetAccumTime()
						wndRun:SetUVIndex(iGOGONum)
					end
				end
			end
			if wndArrow:IsNil() == false then
				if fArrowTime ~= nil and GetAccumTime() - fArrowTime > 0.08 then
					if iArrowNum ~= nil then
						iArrowNum = iArrowNum + 1
						if iArrowNum > 3 then
							iArrowNum  = 1
						end
						fArrowTime = GetAccumTime()
						wndArrow:SetUVIndex(iArrowNum)
					end
				end
			end
		</SCRIPT> 
	</FORM>
	
	<FORM ID = "FRM_GOGO_LEFT">
		<ATTR ALIGN_X = "0" ALIGN_Y = "50" W ="230" H ="153" />
		<ATTR ALIVE_TIME="5000" ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID = "IMG_RUN">
			<ATTR X="100" Y="0" W="140" H="153" IMG="../Data/6_ui/mission/msGoMan2.tga" IMG_W="420" IMG_H="459" />
			<ATTR U="3" V="3" />
		</IMG>
		<IMG ID = "IMG_ARROW">
			<ATTR X="10" Y="45" W="80" H="62" IMG="../Data/6_ui/mission/msGoArrow2.tga" IMG_W="160" IMG_H="124" />
			<ATTR U="2" V="2" />
		</IMG>
		<SCRIPT ID = "ON_CALL">		
			iGOGONum = 1
			iArrowNum = 1
			fGOGOTime = GetAccumTime()
			fArrowTime = GetAccumTime()
					
			local GoRun = UISelf:GetControl("IMG_RUN")
			local GoArrow = UISelf:GetControl("IMG_ARROW")		
		</SCRIPT>	
		<SCRIPT ID = "ON_DISPLAY">		
			wndRun = UISelf:GetControl("IMG_RUN")
			wndArrow = UISelf:GetControl("IMG_ARROW")
			if wndRun:IsNil() == false then
				if fGOGOTime ~= nil and GetAccumTime() - fGOGOTime > 0.1 then
					if iGOGONum ~= nil then
						iGOGONum = iGOGONum + 1
						if iGOGONum > 7 then
							iGOGONum  = 1
						end
						fGOGOTime = GetAccumTime()
						wndRun:SetUVIndex(iGOGONum)
					end
				end
			end
			if wndArrow:IsNil() == false then
				if fArrowTime ~= nil and GetAccumTime() - fArrowTime > 0.08 then
					if iArrowNum ~= nil then
						iArrowNum = iArrowNum + 1
						if iArrowNum > 3 then
							iArrowNum  = 1
						end
						fArrowTime = GetAccumTime()
						wndArrow:SetUVIndex(iArrowNum)
					end
				end
			end
		</SCRIPT> 
	</FORM>

	<FORM ID = "FRM_GOGO_EVENT">
		<ATTR ALIGN_X = "95" ALIGN_Y = "50" W ="230" H ="153" />
		<ATTR ALIVE_TIME="5000" ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID = "IMG_RUN">
			<ATTR X="0" Y="0" W="140" H="153" IMG="../Data/6_ui/mission/msGoMan.tga" IMG_W="420" IMG_H="459" />
			<ATTR U="3" V="3" />
		</IMG>
		<IMG ID = "IMG_ARROW">
			<ATTR X="141" Y="45" W="80" H="62" IMG="../Data/6_ui/mission/msGoArrow.tga" IMG_W="160" IMG_H="124" />
			<ATTR U="2" V="2" />
		</IMG>
		<SCRIPT ID = "ON_CALL">		
			iGOGONum = 1
			iArrowNum = 1
			fGOGOTime = GetAccumTime()
			fArrowTime = GetAccumTime()
		</SCRIPT>	
		<SCRIPT ID = "ON_DISPLAY">		
			wndRun = UISelf:GetControl("IMG_RUN")
			wndArrow = UISelf:GetControl("IMG_ARROW")
			if wndRun:IsNil() == false then
				if fGOGOTime ~= nil and GetAccumTime() - fGOGOTime > 0.1 then
					if iGOGONum ~= nil then
						iGOGONum = iGOGONum + 1
						if iGOGONum > 7 then
							iGOGONum  = 1
						end
						fGOGOTime = GetAccumTime()
						wndRun:SetUVIndex(iGOGONum)
					end
				end
			end
			if wndArrow:IsNil() == false then
				if fArrowTime ~= nil and GetAccumTime() - fArrowTime > 0.08 then
					if iArrowNum ~= nil then
						iArrowNum = iArrowNum + 1
						if iArrowNum > 3 then
							iArrowNum  = 1
						end
						fArrowTime = GetAccumTime()
						wndArrow:SetUVIndex(iArrowNum)
					end
				end
			end
		</SCRIPT> 
	</FORM>
	
	<FORM ID = "FRM_DEAD_MISSION">
		<ATTR ALIGN_X="50" ALIGN_Y="50" W="700" H="300" PASS_EVENT = "1"/>	
		<FORM ID = "FRM_COUNT">
			<ATTR X="450" Y="0" W="256" H="170" />
			<FORM ID = "FRM_TEN">
				<ATTR X="0" Y="0" W="128" H="170" />
				<ATTR IMG = "../Data/6_ui/mission/msNum.tga" IMG_W = "512" IMG_H = "510" U = "4" V = "3" CAN_COLOR_CHANGE="1"/>
			</FORM>
			<FORM ID = "FRM_ONE">
				<ATTR X="128" Y="0" W="128" H="170" />
				<ATTR IMG = "../Data/6_ui/mission/msNum.tga" IMG_W = "512" IMG_H = "510" U = "4" V = "3" CAN_COLOR_CHANGE="1"/>
			</FORM>
			<SCRIPT ID = "ON_TICK">
				if g_fDeadTime ~= nil then
					local loc = UISelf:GetLocation()
					local MinWall = 225
					if false == g_wndTen:IsVisible() then
						MinWall = MinWall - 64
					end
					if loc:GetX() > MinWall then
						loc:IncX(-30)
						UISelf:SetLocation(loc)
					else
						if g_bDeadQuake == false then
							QuakeCamera(0.3, 1.5-g_fDeadCount*0.04)
							g_bDeadQuake = true
						end
						loc:SetX(MinWall)
						UISelf:SetLocation(loc)
					end
					if GetAccumTime() - g_fDeadTime >= 1 then
						g_fDeadTime = GetAccumTime()
						g_fDeadCount = g_fDeadCount - 1
						if g_fDeadCount == -1 then
							CloseUI("FRM_DEAD_MISSION")
							return
						end
						g_iTenNum = math.floor(g_fDeadCount / 10)
						g_iOneNum = math.floor(g_fDeadCount % 10) + 1
						if (false == g_wndTen:IsNil()) and (true == g_wndTen:IsVisible()) and (g_iTenNum > 0) then
							g_wndTen:SetUVIndex(g_iTenNum + 1)
						elseif (nil ~= g_wndTen) then
							g_wndTen:Visible(false)
						end
						if false == g_wndOne:IsNil() then
							g_wndOne:SetUVIndex(g_iOneNum)
						end
						g_bDeadQuake = false
						loc:SetX(450)
						UISelf:SetLocation(loc)
					else
					
					end
				end
			</SCRIPT>
			<SCRIPT ID = "ON_CALL">
				g_wndTen = UISelf:GetControl("FRM_TEN")
				g_wndOne = UISelf:GetControl("FRM_ONE")
				g_bDeadQuake = false
				g_fDeadTime = GetAccumTime()
				g_fDeadCount = 29
				g_iTenNum = math.floor(g_fDeadCount / 10)
				g_iOneNum = math.floor(g_fDeadCount % 10) + 1
				if (false == g_wndTen:IsNil()) and (g_iTenNum > 0) then
					g_wndTen:Visible(true)
					g_wndTen:SetUVIndex(g_iTenNum + 1)
					g_wndTen:SetColor(16713533)					
				end
				if false == g_wndOne:IsNil() then
					g_wndOne:SetUVIndex(g_iOneNum)
					g_wndOne:SetColor(16713533)
				end
				QuakeCamera(0.3, 1.5-g_fDeadCount*0.1)
			</SCRIPT>
		</FORM>

		<ATTR TEXT = "400240" FONT = "FTtitle_14" T_X = "350" T_Y ="171	" T_CENTER = "1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFF"/>
		<FORM ID = "FRM_TEXT">
			<ATTR X="0" Y="190" W="700" H="50"/>
			<ATTR TEXT = "400241" FONT = "Font_Text" T_X = "350" T_Y ="0" T_CENTER = "1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFF"/>
		</FORM>

		<LOCAL>
			<NAME ID="CHINA">			
				<BUTTON ID = "BTN_USE_COIN" X="260" Y="250" W="84" H="26">
					<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(80028, 2200) </SCRIPT>
					<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
					<ATTR FONT = "Font_Text" T_X = "42" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
					<SCRIPT ID = "ON_L_BTN_DOWN"> 				
						if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
							CallMissionRebirthUI(true)
						end
					</SCRIPT>
					<HOTKEY ID="59">  
						if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
							CallMissionRebirthUI(true)
						end
						return true
					</HOTKEY>
				</BUTTON>
				<BUTTON ID = "BTN_MOVE" X="350" Y="250" W="84" H="26">
					<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400242, 2201) </SCRIPT>
					<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
					<ATTR FONT = "Font_Text" T_X = "42" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
					<SCRIPT ID = "ON_L_BTN_DOWN">
						Net_PT_C_M_REQ_EXIT_MISSION()
						UISelf:CloseParent()
					</SCRIPT>
					<HOTKEY ID="60">
						Net_PT_C_M_REQ_EXIT_MISSION()
						UISelf:CloseParent()
						return true
					</HOTKEY>
				</BUTTON>
			</NAME>
			<NAME ID="DEFAULT">			
				<BUTTON ID = "BTN_REVIVE" X="220" Y="250" W="84" H="26">
					<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(80021, 2200) </SCRIPT>
					<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
					<ATTR FONT = "Font_Text" T_X = "42" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
					<SCRIPT ID = "ON_L_BTN_DOWN"> 				
						if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
							CallMissionRebirthUI()
						end
					</SCRIPT>
					<HOTKEY ID="59">  
						if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
							CallMissionRebirthUI()
						end
						return true
					</HOTKEY>
				</BUTTON>
				<BUTTON ID = "BTN_USE_COIN" X="310" Y="250" W="84" H="26">
					<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(80028, 2201) </SCRIPT>
					<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
					<ATTR FONT = "Font_Text" T_X = "42" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
					<SCRIPT ID = "ON_L_BTN_DOWN"> 				
						if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
							CallMissionRebirthUI(true)
						end
					</SCRIPT>
					<HOTKEY ID="60">  
						if true == GetUIWnd("SFRM_REBIRTH_REQ"):IsNil() then
							CallMissionRebirthUI(true)
						end
						return true
					</HOTKEY>
				</BUTTON>
				<BUTTON ID = "BTN_MOVE" X="400" Y="250" W="84" H="26">
					<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400242, 2202) </SCRIPT>
					<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
					<ATTR FONT = "Font_Text" T_X = "42" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
					<SCRIPT ID = "ON_L_BTN_DOWN">
						Net_PT_C_M_REQ_EXIT_MISSION()
						UISelf:CloseParent()
					</SCRIPT>
					<HOTKEY ID="61">
						Net_PT_C_M_REQ_EXIT_MISSION()
						UISelf:CloseParent()
						return true
					</HOTKEY>
				</BUTTON>
			</NAME>
		</LOCAL>		
	</FORM>
	
	<FORM ID = "FRM_MISSION_COMPLETE_NEW">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W ="1023" H ="767" PASS_EVENT = "1" NO_FOCUS="1"/>
		<SCRIPT ID = "ON_CLOSE"> 
			g_iNextCount = 0 --[[NextMiniCard]]
			g_iNowCardNum = 0 --[[01BASE]]
			g_iNowCheckedCardNum = 0 --[[  ]]
			
			CloseToolTip() 		
			CloseUI("FRM_DEFENCE_RESULT_EXP")
		</SCRIPT>
		<SCRIPT ID = "ON_MOUSE_OVER">CloseToolTip()</SCRIPT>
		<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		<SCRIPT ID = "ON_CALL"> 
			g_iNextCount = -1
		</SCRIPT>
		<FORM ID = "FRM_RANK_UIMODEL" X = "0" Y = "120" Z = "1" W = "550" H = "550" PASS_EVENT = "1">
			<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
			<SCRIPT ID = "ON_DISPLAY"> UISelf:AddToDrawListRenderModel("ef_ms_rank") </SCRIPT>
		</FORM>
		 
		<STATIC_FORM ID = "SFRM_EXIT_BG">
			<ATTR X = "448" Y = "700" W ="129" H ="56" STATIC_NUM = "7" IS_VISIBLE="0" />
			<BUTTON ID = "BTN_EXIT" X="9" Y="9" W="111" H="41" >
				<ATTR BTN_IMG="../Data/6_ui/common/cmBtLong.tga" BTN_IMG_W="222" BTN_IMG_H="82" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
				<ATTR TEXT = "400208" T_X = "55" T_Y ="10" T_OUTLINE="1" T_CENTER = "1" />
				<SCRIPT ID="ON_L_BTN_DOWN">		
					UISelf:GetParent():Visible(false)						
					CMP_STATE_CHANGE(13)
					-- UISelf:GetParent():CloseParent()
					-- Net_PT_C_M_REQ_EXIT_MISSION()					
				</SCRIPT>
				<HOTKEY ID = "28">
					UISelf:GetParent():Visible(false)								
					CMP_STATE_CHANGE(13)
					return true
				</HOTKEY>
			</BUTTON>
		</STATIC_FORM>
		
		<FORM ID = "FRM_SPACE" X = "433" Y = "596" W = "159" H = "42">
			<ATTR TEXT = "401052" FONT = "FTctsBig_14" FONT_COLOR_HEX="0xFF2e1905" T_X="79" T_Y ="12" T_CENTER = "1"/>
			<ATTR IMG="../Data/6_ui/mission/msRwBtSp.tga" IMG_W="318" IMG_H="126" U="2" V="3" UV_INDEX="1"/>
			<HOTKEY ID="57">
				UISelf:StopMissionResult()
				return true
			</HOTKEY>			
		</FORM>		
		
		<FORM ID = "FRM_MY_INFO">
			<SCRIPT ID = "ON_MOUSE_OVER">CloseToolTip()</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>		
			<SCRIPT ID = "ON_DISPLAY"> UISelf:AddToDrawListRenderModel("ef_endspot") </SCRIPT>
			<ATTR X = "211" Y = "185" W = "603" Z = "-1" H = "454" IMG = "../Data/6_ui/mission/msRtBg01.tga" IMG_W = "284" IMG_H = "414" IMG_X = "0" IMG_Y = "0" FONT = "QTtext_Name" FONT_COLOR_HEX = "0xFFFFEEB9" TEXT = "" T_X = "160" T_OUTLINE="1"/>
			<IMG ID = "IMG_BG_LEFT" X = "284" Y = "0" Z = "-1" W = "319" H = "414" IMG = "../Data/6_ui/mission/msRtBg02.tga" IMG_W = "319" IMG_H = "414" IMG_Y = "0"/>
			<FORM ID = "FRM_MISSION_TOTAL_TEXT" X = "30" Y = "24" W = "100" H = "21" TEXT = "401039" FONT="FT15" FONT_COLOR_HEX="0xFFffe242" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_TOTAL1_MIN0" X="94" Y="16" Z="0" W="40" H="40" IS_VISIBLE = "0">
				<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<FORM ID = "FRM_MISSION_TOTAL1_MIN1" X="117" Y="16" Z="0" W="40" H="40" IS_VISIBLE = "0">
				<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<FORM ID = "FRM_MISSION_TOTAL1_MIN2" X="140" Y="16" Z="0" W="40" H="40" IS_VISIBLE = "0">
				<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<FORM ID = "FRM_MISSION_TOTAL2_MIN100" X="194" Y="16" Z="0" W="40" H="40" >
				<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="2"/>
			</FORM>			
			<FORM ID = "FRM_MISSION_TOTAL2_MIN10" X="217" Y="16" Z="0" W="40" H="40" >
				<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="3"/>
			</FORM>
			<FORM ID = "FRM_MISSION_TOTAL2_MIN1" X="240" Y="16" Z="0" W="40" H="40" >
				<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<FORM ID = "FRM_MISSION_MEMBER_TEXT" X = "26" Y = "66" W = "100" H = "21" TEXT = "401042" FONT="Font_Text" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_MEMBER_NAME_TEXT1" X = "34" Y = "91" W = "200" H = "21" TEXT = "401040" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>			
			<FORM ID = "FRM_MISSION_MEMBER_NAME_TEXT2" X = "34" Y = "122" W = "200" H = "21" TEXT = "401040" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_MEMBER_NAME_TEXT3" X = "34" Y = "153" W = "200" H = "21" TEXT = "401040" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_MEMBER_NAME_TEXT4" X = "34" Y = "184" W = "200" H = "21" TEXT = "401040" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_MEMBER_SCORE_TEXT1" X = "220" Y = "91" W = "200" H = "21" TEXT = "" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFfefff5" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_MEMBER_SCORE_TEXT2" X = "220" Y = "122" W = "200" H = "21" TEXT = "" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFfefff5" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_MEMBER_SCORE_TEXT3" X = "220" Y = "153" W = "200" H = "21" TEXT = "" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFfefff5" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_MEMBER_SCORE_TEXT4" X = "220" Y = "184" W = "200" H = "21" TEXT = "" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFfefff5" T_OUTLINE="1"/>
			
			<BUILD TARGET_ID = "FRM_MISSION_MEMBER_CURSOR" X = "17" Y = "84" X_COUNT = "1" Y_COUNT = "4" X_GAB = "0" Y_GAB = "31"/>
			<IMG ID = "FRM_MISSION_MEMBER_CURSOR">
				<ATTR X = "0" Y = "0" W ="259" H ="34" IMG = "../Data/6_ui/mission/msRtMybox.tga" IMG_W = "259" IMG_H = "34" IS_VISIBLE = "0"/>
					<SCRIPT ID = "ON_CALL">
						UISelf:SetCustomDataAsInt(0)
					</SCRIPT>
			</IMG>			

			<ANI_BAR ID="BAR_XP" X="298" Y="29" Z = "1" W="289" H="21" >
				<ATTR BAR_IMG="../Data/6_ui/mission/msRtBar.tga" BAR_IMG_W="289" BAR_IMG_H="21" BAR_COUNT="1" />
				<SCRIPT ID = "ON_CREATE"> UISelf:BarNow(0) </SCRIPT>
			</ANI_BAR>

			<FORM ID = "FRM_MISSION_MY_TEXT" X = "300" Y = "66" W = "200" H = "21" TEXT = "401034" FONT="Font_Text" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_SENSE_TEXT" X = "310" Y = "91" W = "200" H = "21" TEXT = "401035" FONT="FT15" FONT_COLOR_HEX="0xFFf3c187" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_ABILITY_TEXT" X = "310" Y = "122" W = "200" H = "21" TEXT = "401036" FONT="FT15" FONT_COLOR_HEX="0xFFf3c187" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_HIT_TEXT" X = "310" Y = "153" W = "200" H = "21" TEXT = "401037" FONT="FT15" FONT_COLOR_HEX="0xFFf3c187" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_TIME_TEXT" X = "310" Y = "184" W = "200" H = "21" TEXT = "401038" FONT="FT15" FONT_COLOR_HEX="0xFFf3c187" T_OUTLINE="1"/>
		
			<ANI_BAR ID="ANI_MY_SENSE" X="394" Y="93" Z = "1" W="185" H="21" >
				<ATTR BAR_IMG="../Data/6_ui/mission/msBar.tga" BAR_IMG_W="185" BAR_IMG_H="21" BAR_COUNT="1" />
				<ATTR TEXT = "" FONT="Font_Text" T_X="92" T_Y="1" T_CENTER = "1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFfff8bb"/> 
				<SCRIPT ID = "ON_CREATE"> UISelf:BarNow(0) </SCRIPT>
			</ANI_BAR>
			<ANI_BAR ID="ANI_MY_ABILITY" X="394" Y="123" Z = "1" W="185" H="21" >
				<ATTR BAR_IMG="../Data/6_ui/mission/msBar.tga" BAR_IMG_W="185" BAR_IMG_H="21" BAR_COUNT="1" />
				<ATTR TEXT = "" FONT="Font_Text" T_X="92" T_Y="1" T_CENTER = "1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFfff8bb"/> 
				<SCRIPT ID = "ON_CREATE"> UISelf:BarNow(0) </SCRIPT>
			</ANI_BAR>
			<FORM ID = "FRM_HIT_NUM" X = "394" Y = "153" W = "185" H = "21" T_X="92" T_Y="1" T_CENTER = "1" TEXT = "" FONT="FTcts_16" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1"/>
			<FORM ID = "FRM_TIME_NUM" X = "394" Y = "183" W = "185" H = "21" T_X="92" T_Y="1" T_CENTER = "1" TEXT = "" FONT="FTcts_16" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1"/>
			
			<FORM ID = "FRM_MISSION_BONUS_1" X = "306" Y = "234" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401041" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5af8fe" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_2" X = "401" Y = "234" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401042" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_3" X = "496" Y = "234" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401043" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_4" X = "306" Y = "270" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401044" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_5" X = "401" Y = "270" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401045" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_6" X = "496" Y = "270" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401046" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_7" X = "306" Y = "306" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401047" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_8" X = "401" Y = "306" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401062" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUS_9" X = "496" Y = "306" W = "93" H = "35" T_X="46" T_Y="9" T_CENTER = "1" TEXT = "401069" FONT="FTcts_13" FONT_COLOR_HEX="0xFF5e5e5e" T_OUTLINE="1"/>
			
			<IMG ID = "FRM_MISSION_BONUS_POINT1" X = "306" Y = "234" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "1"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT2" X = "401" Y = "234" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT3" X = "496" Y = "234" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT4" X = "306" Y = "270" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT5" X = "401" Y = "270" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT6" X = "496" Y = "270" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT7" X = "306" Y = "306" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT8" X = "401" Y = "306" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			<IMG ID = "FRM_MISSION_BONUS_POINT9" X = "496" Y = "306" W = "93" H = "35" IMG = "../Data/6_ui/mission/msMsOn.tga" FONT_COLOR_HEX="0xFF5af8fe" IMG_W = "93" IMG_H = "35" IS_VISIBLE = "0"/>
			
			<FORM ID = "FRM_MISSION_BONUSEXP_TEXT" X = "320" Y = "364" W = "160" H = "35" TEXT = "401048" FONT="FT15" FONT_COLOR_HEX="0xFFf3c187" T_OUTLINE="1"/>
			<FORM ID = "FRM_MISSION_BONUSEXP_NUM" X = "320" Y = "356" W = "280" H = "35" TEXT = "" FONT="Font_GuildName" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" T_RIGHT = "1" T_X = "256"/>
		</FORM>
	</FORM>		
	<FORM ID = "FRM_MY_INFO_NEXT" CAN_CLIP="1" PRIORITY="98">
		<SCRIPT ID = "ON_CALL"> 
			UISelf:GetControl("FRM_RANK"):GetControl("BTN_RANK"):Visible(true)
			local loc = UISelf:GetTotalLocation()
--			UISelf:SetLocation(Point2(-80, loc:GetY()))
			ODS("loc X : "..loc:GetX().." Y : "..loc:GetY().."\n", false, 1509)
		</SCRIPT>	
		<SCRIPT ID = "ON_CLOSE"> 
			CloseToolTip() 			
			CloseUI("FRM_RANK_LIST")
			CloseUI("FRM_ADD_RESUILTITEM")
			CloseUI("FRM_POINT_RESULT")
			CheckSystemInventory()
		</SCRIPT>	
		<SCRIPT ID = "ON_MOUSE_OVER">CloseToolTip()</SCRIPT>
		<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>		

		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W ="1600" H ="1200" PASS_EVENT = "1" NO_FOCUS="1"/>
		<IMG ID = "IMG_RANK_TOP_LEFT" X="0" Y="250" W="288" H="78" IMG="../Data/6_ui/mission/msRtTopBg03.tga" IMG_W="288" IMG_H="78"/>
		<IMG ID = "IMG_RANK_TOP_RIGHT" X="1312" Y="250" W="288" H="78" IMG="../Data/6_ui/mission/msRtTopBg03.tga" IMG_W="288" IMG_H="78"/>
		<IMG ID = "IMG_BG_LEFT" X = "499" Y = "376" Z="-1" W = "603" H = "640" IMG = "../Data/6_ui/mission/msRwBg01.tga" IMG_W = "284" IMG_H = "414" IMG_Y = "0" FONT = "QTtext_Name" FONT_COLOR_HEX = "0xFFFFEEB9" TEXT = "" T_X = "160" T_OUTLINE="1"/>
		<IMG ID = "IMG_BG_RIGHT" X = "783" Y = "376" Z="-1" W = "319" H = "414" IMG = "../Data/6_ui/mission/msRwBg02.tga" IMG_W = "319" IMG_H = "414" IMG_Y = "0"/>
		
		<BUILD ID="1" TARGET_ID = "SFRM_BONUS" X = "595" Y = "414" X_COUNT = "4" Y_COUNT = "1" X_GAB = "110" Y_GAB = "0"/>
		<FORM ID = "SFRM_BONUS" X = "0" Y = "0" Z = "10" W = "98" H= "98">
			<FORM_ICON_ROULETTE_WND ID = "IMG_BONUS" X = "0" Y = "0" W = "80" H = "80" IMG_W="480" IMG_H="480">
				<SCRIPT ID = "ON_CALL"> UISelf:ClearRouletteInfo()  </SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OVER"> OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip()</SCRIPT>
				<HOTKEY ID="57">
					UISelf:SetRouletteStop()
					return true
				</HOTKEY>
			</FORM_ICON_ROULETTE_WND>
		</FORM>
		
		<FORM ID = "FRM_SPACE" X = "721" Y = "504" W = "159" H = "42">
			<ATTR TEXT = "401052" FONT = "FTctsBig_14" FONT_COLOR_HEX="0xFF2e1905" T_X="79" T_Y ="12" T_CENTER = "1"/>
			<ATTR IMG="../Data/6_ui/mission/msRwBtSp.tga" IMG_W="318" IMG_H="126" U="2" V="3" UV_INDEX="1"/>
			<SCRIPT ID="ON_TICK">
				if UISelf:IsVisible() then
					local kIndex = UISelf:GetUVIndex()
					if kIndex >= 6 then
						kIndex = 0
					elseif 0 > kIndex then
						kIndex = 0
					end
					UISelf:SetUVIndex(kIndex+1)
				end
			</SCRIPT>
		</FORM>
			
		<BUTTON ID = "BTN_QS">
			<ATTR X = "624" Y = "558" W = "82" H = "82" IS_VISIBLE = "1"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msRwQsBt.tga" BTN_IMG_W = "164" BTN_IMG_H = "164"/>
			<SCRIPT ID = "ON_L_BTN_UP">
				OnSelectGadaCoinBox()			
			</SCRIPT>
		</BUTTON>
		<STATIC_FORM ID = "SFRM_GADACOIN" X = "624" Y = "558" Z = "11" STATIC_NUM = "28" W = "80" H= "80" IS_VISIBLE = "0">
			<IMG ID = "IMG_GADACOIN" W = "80" H = "80">
				<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			</IMG>
		</STATIC_FORM>		
		
		<FORM ID = "FRM_NEEDCOIN_TEXT" X = "739" Y = "563" W = "200" H = "21" TEXT = "401068" FONT="FTcts_16" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
		<FORM ID = "FRM_COIN_TEXT" X = "739" Y = "589" W = "200" H = "21" TEXT = "401053" FONT="FTcts_16" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>		
		<FORM ID = "FRM_COIN_TEXT0" X = "869" Y = "563" W = "200" H = "21" TEXT = "" FONT="Font_Warn" FONT_COLOR_HEX="0xFFfed03f" T_OUTLINE="1"/>
		<FORM ID = "FRM_COIN_TEXT1" X = "869" Y = "589" W = "200" H = "21" TEXT = "" FONT="Font_Warn" FONT_COLOR_HEX="0xFFfed03f" T_OUTLINE="1"/>
		<FORM ID = "FRM_COIN_TEXT2" X = "549" Y = "652" W = "500" H = "50" TEXT = "401055" T_X="250" T_Y ="0" T_CENTER = "1" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
		<BUTTON ID = "BTN_BUY_COIN" X = "799" Y = "610" W ="101" H ="31">
			<ATTR TEXT = "5101" FONT = "Font_Text" T_X = "50" T_Y ="6" T_CENTER = "1" />
			<ATTR BTN_IMG = "../Data/6_ui/key/keyJBt.tga" BTN_IMG_W = "101" BTN_IMG_H = "124" BTN_VERTICAL_IMG="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> OnCallStaticCashItemBuy(7,0) </SCRIPT>
		</BUTTON>		
		<BUILD ID="2" TARGET_ID = "FRM_OTHER_INFO" X = "499" Y = "656" X_COUNT = "3" Y_COUNT = "1" X_GAB = "190" Y_GAB = "0"/>
		<FORM ID = "FRM_OTHER_INFO">
			<SCRIPT ID = "ON_MOUSE_OVER">CloseToolTip()</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			<ATTR X = "211" Y = "160" W = "200" H = "130" IMG_Y = "40"/>
			<ATTR TEXT = "" FONT = "FTtitleBig_16" T_X = "20" T_Y = "56" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1"/>
			<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
			<STATIC_FORM ID = "SFRM_BONUS0" X = "24" Y = "76" STATIC_NUM = "28" W = "43" H= "42">
				<IMG ID = "IMG_BONUS" X = "1" Y = "1" W = "40" H = "40">
					<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</IMG>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_BONUS1" X = "68" Y = "76" STATIC_NUM = "28" W = "43" H= "42">
				<IMG ID = "IMG_BONUS"  X = "1" Y = "1" W = "40" H = "40"> 
					<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</IMG>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_BONUS2" X = "112" Y = "76" STATIC_NUM = "28" W = "43" H= "42">
				<IMG ID = "IMG_BONUS" X = "1" Y = "1" W = "40" H = "40"> 
					<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</IMG>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_BONUS3" X = "156" Y = "76" STATIC_NUM = "28" W = "43" H= "42" >
				<IMG ID = "IMG_BONUS" X = "1" Y = "1" W = "40" H = "40"> 
					<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
					<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				</IMG>
			</STATIC_FORM>
		</FORM>			
		
		<FORM ID = "FRM_TIME_LIMIT" X = "673" Y = "806" W = "159" H = "44">
			<ATTR IMG="../Data/6_ui/mission/msRwTmbg.tga" IMG_W="262" IMG_H="44"/>
			<SCRIPT ID="ON_CALL">				
				g_fMissionBoxLimitTime = GetAccumTime()
				g_fMissionExitTime = 20
			</SCRIPT>
			<SCRIPT ID = "ON_TICK">		
				if g_fMissionBoxLimitTime ~= nil then
					if GetAccumTime() - g_fMissionBoxLimitTime >= 1 then
						g_fMissionBoxLimitTime = GetAccumTime()
						g_fMissionExitTime = g_fMissionExitTime - 1					
						if g_fMissionExitTime > 0 then						
							local sdw = UISelf:GetControl("FRM_MESSAGE")
							if false == sdw:IsNil() then						
								sdw:SetStaticText( string.format(GetTextW(401057):GetStr(), g_fMissionExitTime) )							
							end						
						else
							UISelf:GetParent():Visible(false)
							CMP_STATE_CHANGE(13)
							return					
						end
					end
				end
			</SCRIPT>
			<FORM ID="FRM_MESSAGE" X="8" Y="8" Z="0" W="231" H="108">
				<ATTR TEXT="" FONT="Font_Text" T_X="116" T_Y ="0" T_CENTER="1" T_OUTLINE="0" FONT_COLOR_HEX="0xFF482e26"/>
				<SCRIPT ID="ON_CALL">
					UISelf:SetStaticText( string.format(GetTextW(401057):GetStr(), 20) )	
				</SCRIPT>				
			</FORM>	
		</FORM>
		
		<STATIC_FORM ID = "SFRM_EXIT_BG">
			<ATTR X = "749" Y = "866" W ="96" H ="40" STATIC_NUM = "25" CAN_CLIP="1" IS_VISIBLE="0" />
			<BUTTON ID = "BTN_EXIT">
				<ATTR X="7" Y="3" W="111" H="41" />
				<ATTR BTN_IMG="../Data/6_ui/Auction/auGbtB.tga" BTN_IMG_W="164" BTN_IMG_H="58" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
				<ATTR TEXT = "400208" T_X = "40" T_Y ="6" T_OUTLINE="1" T_CENTER = "1"/>
				<SCRIPT ID="ON_L_BTN_DOWN">
					UISelf:GetParent():GetParent():Visible(false)
					CMP_STATE_CHANGE(13)
				</SCRIPT>
				<HOTKEY ID = "28">
					UISelf:GetParent():GetParent():Visible(false)
					CMP_STATE_CHANGE(13)
					return true
				</HOTKEY>
			</BUTTON>
		</STATIC_FORM>		
		
		<FORM ID = "FRM_RANK" X = "288" Y = "250" W ="1312" H ="78" PASS_EVENT = "1">
			<!--ATTR TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_X = "20" T_Y = "15"/-->
			<IMG ID = "IMG_RANK_BG_LEFT" X = "0" Y = "0" Z = "-1" W ="512" H ="78" PASS_EVENT = "1">
				<ATTR IMG = "../Data/6_ui/mission/msRtTopBg01.tga" IMG_W = "512" IMG_H = "78"/>
				<BUILD TARGET_ID = "IMG_STAR_BG" X = "20" Y = "37" X_COUNT = "6" Y_COUNT = "1" X_GAB = "26" Y_GAB = "0"/>
				<IMG ID = "IMG_STAR_BG" X = "0" Y = "0" W = "26" H = "26" IMG = "../Data/6_ui/mission/msRtStarBg.tga" IMG_W = "26" IMG_H = "26"/>
			</IMG>
			<IMG ID = "IMG_RANK_BG_RIGHT" X = "512" Y = "0" Z = "-1" W ="512" H ="78" PASS_EVENT = "1">
				<ATTR IMG = "../Data/6_ui/mission/msRtTopBg02.tga" IMG_W = "512" IMG_H = "78"/>
			</IMG>			
			<FORM ID ="FRM_MISSION_TEXT" X="20" Y="15" W="156" TEXT="" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFFFEEB9" T_OUTLINE="1"/>			
			<FORM ID = "FRM_RANK_TEXT" X = "204" Y = "17" W = "30" H = "30" TEXT = "400255" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFd7af80" T_OUTLINE="1"/>
			<FORM ID = "FRM_TIME_TEXT" X = "234" Y = "17" W = "90" H = "30" TEXT = "400256" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFd7af80" T_OUTLINE="1" T_CENTER = "1" T_X = "45"/>
			<FORM ID = "FRM_POINT_TEXT" X = "320" Y = "17" W = "90" H = "30" TEXT = "400257" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFd7af80" T_OUTLINE="1" T_CENTER = "1" T_X = "45"/>
			<FORM ID = "FRM_LEVEL_TEXT" X = "420" Y = "17" W = "50" H = "30" TEXT = "46" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFd7af80" T_OUTLINE="1"/>
			<FORM ID = "FRM_CLASS_TEXT" X = "508" Y = "17" W = "50" H = "30" TEXT = "400258" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFd7af80" T_OUTLINE="1"/>
			<FORM ID = "FRM_NAME_TEXT" X = "640" Y = "17" W = "60" H = "30" TEXT = "400259" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFd7af80" T_OUTLINE="1"/>
			<FORM ID = "FRM_MEMO_TEXT" X = "805" Y = "17" W = "50" H = "30" TEXT = "400235" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFd7af80" T_OUTLINE="1"/>

			<FORM ID = "FRM_RANK_NUM">
				<ATTR X = "195" Y = "40" W = "40" H = "21" TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_CENTER = "1" T_X = "20"/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText(" ") </SCRIPT>
			</FORM>
			<FORM ID = "FRM_TIME">
				<ATTR X = "238" Y = "40" W = "80" H = "21" TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_CENTER = "1" T_X = "40"/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText(" ") </SCRIPT>
			</FORM>
			<FORM ID = "FRM_POINT">
				<ATTR X = "322" Y = "40" W = "86" H = "21" TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_CENTER = "1" T_X = "43"/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText(" ") </SCRIPT>
			</FORM>
			<FORM ID = "FRM_LEVEL">
				<ATTR X = "410" Y = "40" W = "43" H = "21" TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_CENTER = "1" T_X = "21"/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText(" ") </SCRIPT>
			</FORM>
			<FORM ID = "FRM_CLASS">
				<ATTR X = "454" Y = "40" W = "135" H = "21" TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_CENTER = "1" T_X = "67"/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText(" ") </SCRIPT>
			</FORM>
			<FORM ID = "FRM_NAME">
				<ATTR X = "592" Y = "40" W = "140" H = "21" TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_CENTER = "1" T_X = "70"/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText(" ") </SCRIPT>
			</FORM>
			<FORM ID = "FRM_MEMO">
				<ATTR X = "733" Y = "40" W = "190" H = "21" TEXT = "" FONT = "FTtitleBig_16" FONT_COLOR_HEX = "0xFFffeeb9" T_OUTLINE="1" T_CENTER = "1" T_X = "95"/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText(" ") </SCRIPT>
			</FORM>
			<BUTTON ID = "BTN_RANK">
				<ATTR X = "927" Y = "4" Z="1" W ="100" H ="67" BTN_IMG = "../Data/6_ui/mission/msRtRankB.tga" BTN_IMG_W = "194" BTN_IMG_H = "144" TEXT = "400236" T_OUTLINE="1" T_X = "46" T_Y = "14" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
				<SCRIPT ID = "ON_L_BTN_UP"> SendReqRankInfo() </SCRIPT>
				<SCRIPT ID = "ON_CALL">
					local slf = UISelf
					local Addx = (GetScreenSize():GetX()-1024)/2
					slf:SetLocation(Point2(927+Addx, slf:GetLocation():GetY()))
				</SCRIPT>
			</BUTTON>
			
			<BUILD TARGET_ID = "IMG_STAR" X = "20" Y = "37" X_COUNT = "6" Y_COUNT = "1" X_GAB = "26" Y_GAB = "0"/>
			<IMG ID = "IMG_STAR" X = "0" Y = "0" W = "26" H = "26" IMG = "../Data/6_ui/mission/msRtStar.tga" IMG_W = "26" IMG_H = "26">
				<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
			</IMG>
		</FORM>
	</FORM>

	<FORM ID = "FRM_MISSION_COMPLETE" STATIC_NUM="1">
		<ATTR X = "0" Y = "0" W ="1023" H ="767" PASS_EVENT = "1" />
		<FORM ID = "FRM_TEXT" >
			<ATTR ALIGN_X = "50" ALIGN_Y = "90" W ="1023" H ="130" IS_VISIBLE="0" />
			<ATTR TEXT = "400244" FONT = "Font_Text" T_X = "512" T_Y ="0" T_CENTER = "1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</FORM>
		
		<!--		<FORM ID = "FRM_TITLE1">
			<ATTR X = "233" Y = "50" W ="255" H ="108" IMG = "../Data/6_ui/indun/idTextField.tga" IMG_W = "255" IMG_H = "108" />
		</FORM>
		<FORM ID = "FRM_TITLE2">
			<ATTR X = "488" Y = "50" W ="306" H ="108" IMG = "../Data/6_ui/indun/idTextClear.tga" IMG_W = "306" IMG_H = "108" />
		</FORM> -->

		<FORM ID = "FRM_TIMER">
			<ATTR ALIGN_X="50" ALIGN_Y="67" W="400" H="80" IS_VISIBLE="0"/>
			<FORM ID="FRM_MIN10" X="116" Y="4" Z="0" W="20" H="50" >
				<ATTR IMG="../Data/6_ui/Pvp/pvNumSmall.tga" IMG_W="250" IMG_H="100" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<FORM ID="FRM_MIN1" X="150" Y="4" Z="0" W="20" H="50" >
				<ATTR IMG="../Data/6_ui/Pvp/pvNumSmall.tga" IMG_W="250" IMG_H="100" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<IMG ID="IMG_TIMER_SEP" X="195" Y="19" Z="0" W="10" H="21" IMG="../Data/6_ui/Pvp/pvTimeSp.tga" IMG_W="10" IMG_H="21" />
			<FORM ID="FRM_SEC10" X="200" Y="4" Z="0" W="20" H="50" >
				<ATTR IMG="../Data/6_ui/Pvp/pvNumSmall.tga" IMG_W="250" IMG_H="100" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<FORM ID="FRM_SEC1" X="234" Y="4" Z="0" W="20" H="50" >
				<ATTR IMG="../Data/6_ui/Pvp/pvNumSmall.tga" IMG_W="250" IMG_H="100" U="5" V="2" UV_INDEX="1"/>
			</FORM>
			<ATTR TEXT = "400243" FONT = "FTtitleBig_16" T_X = "200" T_Y ="60" T_CENTER = "1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</FORM>

		<STATIC_FORM ID = "SFRM_EXIT_BG">
			<ATTR ALIGN_X = "50" ALIGN_Y = "88" W ="129" H ="56" STATIC_NUM = "7" IS_VISIBLE="0" />
			<BUTTON ID = "BTN_EXIT">
				<ATTR X="9" Y="9" W="111" H="41" />
				<ATTR BTN_IMG="../Data/6_ui/common/cmBtLong.tga" BTN_IMG_W="222" BTN_IMG_H="82" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
				<ATTR TEXT = "400208" T_X = "55" T_Y ="10" T_OUTLINE="1" T_CENTER = "1"/>
				<SCRIPT ID="ON_L_BTN_DOWN">
					UISelf:GetParent():Visible(false)
					CMP_STATE_CHANGE(13)
					-- UISelf:GetParent():CloseParent()
					-- Net_PT_C_M_REQ_EXIT_MISSION()
				</SCRIPT>
				<HOTKEY ID = "28">
					UISelf:GetParent():Visible(false)
					CMP_STATE_CHANGE(13)
					return true
				</HOTKEY>
			</BUTTON>
		</STATIC_FORM>

		<FORM ID = "FRM_RESULT_TITLE">
			<ATTR X="17" Y="-142" Z = "1" W="377" H="143" CAN_CLIP = "1" IGNORE_PARENT_RECT = "0" />
			<ATTR IMG="../Data/6_ui/mission/msRTtext.tga" IMG_W="377" IMG_H="143"/>
		</FORM>

		<STATIC_FORM ID = "SFRM_MY_INFO">
			<ATTR CAN_CLIP = "1"/>
			<!--<ATTR X="0" Y="342" W="596" H="174" STATIC_NUM="26" EFFECT="2" SPEED="18"/> -->
			<!--			<ATTR X="0" Y="342" Z = "10" W="596" H="174" STATIC_NUM="26"/> -->
			<ATTR X="-595" Y="305" Z = "10" W="596" H="222" STATIC_NUM="26" IS_VISIBLE = "0"/>
			<ATTR TEXT = "" FONT = "FTtitleBig_16" T_X = "33" T_Y ="20" FONT_COLOR_HEX = "0xFF30281E" />
			<FORM ID="FRM_PARTICIPATION_RATE" X="370" Y="8" W="300" H="50" FONT="FTtext_25"/>
			<FORM ID="FRM_LINE1">
				<ATTR X="25" Y="42" W="478" H="1" />
				<ATTR IMG="../Data/6_ui/common/cmBody.tga" IMG_W="478" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			</FORM>  
			<FORM ID="FRM_LINE2">
				<ATTR X="25" Y="43" W="478" H="1" />
				<ATTR IMG="../Data/6_ui/common/cmBody.tga" IMG_W="478" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			</FORM>

			<FORM ID = "FRM_ARROW">
				<ATTR X="25" Y="48" W="90" H="20" />
				<IMG ID="IMG_ARROW" X="0" Y="8" W="6" H="6" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4"/>
				<ATTR TEXT = "400209" T_X = "6" T_Y ="2"  FONT_COLOR_HEX="0xFFFFFFFF"/>
			</FORM>

			<FORM ID = "FRM_NORMAL">
				<ATTR X = "107" Y = "48" W ="106" H ="50" />
				<ATTR TEXT = "400211" FONT = "Font_Text" T_X = "0" T_Y ="2"  FONT_COLOR_HEX="0xFFFFFFFF"/>

				<FORM ID = "FRM_NUM">
					<ATTR X = "0" Y = "15" W ="106" H ="21" />
					<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="2" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF732E00"/>
					<SCRIPT ID = "ON_CALL"> 
						UISelf:SetFontColor(7548416) 
						UISelf:SetStaticText("")
					</SCRIPT>
				</FORM>
			</FORM>
			<FORM ID = "FRM_STRENGTH">
				<ATTR X = "210" Y = "48" W ="106" H ="50" />
				<ATTR TEXT = "400212" FONT = "Font_Text" T_X = "0" T_Y ="2" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
				<FORM ID = "FRM_NUM">
					<ATTR X = "0" Y = "15" W ="106" H ="21" />
					<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="2" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF732E00"/>
					<SCRIPT ID = "ON_CALL"> 
						UISelf:SetFontColor(7548416) 
						UISelf:SetStaticText("")
					</SCRIPT>
				</FORM>
			</FORM>
			<FORM ID = "FRM_CRACK">
				<ATTR X = "313" Y = "48" W ="106" H ="50" />
				<ATTR TEXT = "400213" FONT = "Font_Text" T_X = "0" T_Y ="2" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
				<FORM ID = "FRM_NUM">
					<ATTR X = "0" Y = "15" W ="106" H ="21" />
					<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="2" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF732E00"/>
					<SCRIPT ID = "ON_CALL"> 
						UISelf:SetFontColor(7548416) 
						UISelf:SetStaticText("")
					</SCRIPT>
				</FORM>
			</FORM>

			<STATIC_FORM ID = "SFRM_EXP">
				<ATTR CAN_CLIP = "1"/>
				<ATTR X="108" Y="94" W="395" H="58" STATIC_NUM="16"/>
				<LOCAL>
					<NAME ID="DEFAULT">
						<FORM ID = "FRM_TOTAL_EXP">
							<ATTR X = "10" Y = "20" W ="171" H ="23" />
							<ATTR TEXT = "400214" FONT = "Font_Text" T_X = "10" T_Y ="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
							<FORM ID = "FRM_NUM">
								<ATTR X = "84" Y = "1" W ="100" H ="21" />
								<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="0" T_OUTLINE="1" FONT_COLOR_HEX = "0xFFFFFC00"/>
								<SCRIPT ID = "ON_CALL">
									UISelf:SetStaticText("")
								</SCRIPT>
							</FORM>
						</FORM>
						<FORM ID = "FRM_CLEAR_EXP">
							<ATTR X = "200" Y = "20" W ="171" H ="23" />
							<ATTR TEXT = "400215" FONT = "Font_Text" T_X = "10" T_Y ="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
							<FORM ID = "FRM_NUM">
								<ATTR X = "84" Y = "1" W ="100" H ="21" />
								<ATTR TEXT = "" FONT = "FTcts_16" T_X = "10" T_Y ="0" T_OUTLINE="1" FONT_COLOR_HEX = "0xFFFFFC00"/>
								<SCRIPT ID = "ON_CALL">
									UISelf:SetStaticText("")
								</SCRIPT>
							</FORM>
						</FORM>
					</NAME>
					<NAME ID="JAPAN">
						<FORM ID = "FRM_TOTAL_EXP">
							<ATTR X ="5" Y ="20" W ="191" H ="23" />
							<ATTR TEXT = "400214" FONT = "Font_Text" T_X = "10" T_Y ="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
							<FORM ID = "FRM_NUM">
								<ATTR X="171"  Y="1" W="100" H ="21"/>
								<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="0" T_OUTLINE="1" T_RIGHT="1" FONT_COLOR_HEX = "0xFFFFFC00"/>
								<SCRIPT ID = "ON_CALL">
									UISelf:SetStaticText("")
								</SCRIPT>
							</FORM>
						</FORM>
						<FORM ID = "FRM_CLEAR_EXP">
							<ATTR X = "200" Y = "20" W ="191" H ="23" />
							<ATTR TEXT = "400215" FONT = "Font_Text" T_X = "10" T_Y ="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
							<FORM ID = "FRM_NUM">
								<ATTR X = "171" Y = "1" W ="100" H ="21" />
								<ATTR TEXT = "" FONT = "FTcts_16" T_X = "10" T_Y ="0" T_OUTLINE="1" T_RIGHT="1" FONT_COLOR_HEX = "0xFFFFFC00"/>
								<SCRIPT ID = "ON_CALL">
									UISelf:SetStaticText("")
								</SCRIPT>
							</FORM>
						</FORM>
					</NAME>
				</LOCAL>
			</STATIC_FORM>
			<FORM ID="FRM_LINE3">
				<ATTR X="25" Y="160" W="478" H="1" />
				<ATTR IMG="../Data/6_ui/common/cmBody.tga" IMG_W="478" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			</FORM>  
			<FORM ID="FRM_LINE4">
				<ATTR X="25" Y="161" W="478" H="1" />
				<ATTR IMG="../Data/6_ui/common/cmBody.tga" IMG_W="478" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			</FORM>
			<LOCAL>
				<NAME ID="DEFAULT">
					<FORM ID = "FRM_ITEM_SDW">
						<ATTR X = "25" Y = "163" W ="287" H ="71"/>
						<ATTR TEXT = "400217" FONT = "Font_Text" T_X = "8" T_Y ="5" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						<FORM ID = "FRM_ARROW">
							<ATTR X="0" Y="11" W="6" H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6"/>
						</FORM>
						<BUILD TARGET_ID = "IMG_BONUS" X = "102" Y = "6" X_COUNT = "4" Y_COUNT = "1" X_GAB = "44" Y_GAB = "0"/>
						<IMG ID = "IMG_BONUS">
							<ATTR X ="0" Y = "0" W ="42" H ="43" />
								<SCRIPT ID = "ON_CALL">
									UISelf:SetCustomDataAsInt(0)
								</SCRIPT>
								<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
								<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
							</IMG> 
					</FORM>
					<BUILD TARGET_ID = "SFRM_BONUS" X = "127" Y = "169" X_COUNT = "4" Y_COUNT = "1" X_GAB = "44" Y_GAB = "0"/>
					<STATIC_FORM ID = "SFRM_BONUS">
						<ATTR X = "0" Y = "0" W ="42" H ="43" STATIC_NUM="28" />
					</STATIC_FORM>
				</NAME>
				<NAME ID="JAPAN">
					<FORM ID="FRM_ITEM_SDW">
						<ATTR X ="25" Y ="163" W ="317" H ="71"/>
						<ATTR TEXT = "400217" FONT = "Font_Text" T_X = "8" T_Y ="5" T_OUTLINE="0" FONT_COLOR_HEX="0xFFFFFFFF"/>
						<FORM ID = "FRM_ARROW">
							<ATTR X="0" Y="11" W="6" H="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="4" IMG="../Data/6_ui/Common/cmIconAllow.tga" IMG_W="6" IMG_H="6"/>
						</FORM>
						<BUILD TARGET_ID = "IMG_BONUS" X ="132" Y = "6"  X_COUNT = "4"  Y_COUNT = "1" X_GAB = "44" Y_GAB = "0"/>
						<IMG ID = "IMG_BONUS">
							<ATTR X ="0" Y = "0" W ="42" H ="43" />
								<SCRIPT ID = "ON_CALL">
									UISelf:SetCustomDataAsInt(0)
								</SCRIPT>
								<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
								<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
							</IMG>
					</FORM>
					<BUILD TARGET_ID = "SFRM_BONUS" X = "157" Y = "169" X_COUNT = "4" Y_COUNT = "1" X_GAB = "44" Y_GAB = "0"/>
					<STATIC_FORM ID = "SFRM_BONUS">
						<ATTR X = "0" Y = "0" W ="42" H ="43" STATIC_NUM="28" />
					</STATIC_FORM>
				</NAME>
			</LOCAL>
		</STATIC_FORM>

		<FORM ID = "SFRM_OTHER_INFO" X = "1023" Y = "305" W ="468" H ="222" >
			<STATIC_FORM ID = "SFRM_OTHER_INFO0">
				<ATTR CAN_CLIP = "1" IGNORE_PARENT_RECT = "1" />
				<ATTR X = "56" Y = "0" W ="412" H ="74" STATIC_NUM="27" />
				<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "40" T_Y ="10" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF30281E"/>
				<FORM ID = "FRM_TOTAL_EXP">
					<ATTR X = "25" Y = "30" W ="171" H ="50" />
					<ATTR TEXT = "400245" FONT = "Font_Text" T_X = "10" T_Y ="1"  FONT_COLOR_HEX="0xFFFFFFFF"/>
					<FORM ID = "FRM_NUM">
						<ATTR X = "5" Y = "17" W ="100" H ="21" />
						<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="0" FONT_COLOR_HEX = "0xFFDC1A00"/>
						<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
					</FORM>
				</FORM>
				<FORM ID = "FRM_CLEAR_EXP">
					<ATTR X = "120" Y = "30" W ="130" H ="50" />
					<ATTR TEXT = "400215" FONT = "Font_Text" T_X = "10" T_Y ="1" FONT_COLOR_HEX = "0xFF4D3413"/>
					<FORM ID = "FRM_NUM">
						<ATTR X = "0" Y = "17" W ="100" H ="21" />
						<ATTR TEXT = "" FONT = "FTcts_16" T_X = "10" T_Y ="0" FONT_COLOR_HEX = "0xFFDC1A00"/>
						<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
					</FORM>
				</FORM>
				<BUILD TARGET_ID = "SFRM_BONUS" X = "242" Y = "20" X_COUNT = "4" Y_COUNT = "1" X_GAB = "42" Y_GAB = "0"/>
				<STATIC_FORM ID = "SFRM_BONUS">
					<ATTR X = "0" Y = "0" W ="42" H ="43" STATIC_NUM="28" />
					<IMG ID = "IMG_BONUS">
						<ATTR X = "0" Y = "0" W ="42" H ="43" />
						<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
					</IMG> 
				</STATIC_FORM>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_OTHER_INFO1">
				<ATTR CAN_CLIP = "1" IGNORE_PARENT_RECT = "1" />
				<ATTR X = "28" Y = "74" W ="440" H ="74" STATIC_NUM="27" />
				<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "40" T_Y ="10" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF30281E"/>
				<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
				<FORM ID = "FRM_TOTAL_EXP">
					<ATTR X = "25" Y = "30" W ="171" H ="50" />
					<ATTR TEXT = "400245" FONT = "Font_Text" T_X = "10" T_Y ="1" FONT_COLOR_HEX = "0xFF4D3413"/>
					<FORM ID = "FRM_NUM">
						<ATTR X = "5" Y = "17" W ="100" H ="21" />
						<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="0" FONT_COLOR_HEX = "0xFFDC1A00"/>
						<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
					</FORM>
				</FORM>
				<FORM ID = "FRM_CLEAR_EXP">
					<ATTR X = "120" Y = "30" W ="171" H ="50" />
					<ATTR TEXT = "400215" FONT = "Font_Text" T_X = "10" T_Y ="1" FONT_COLOR_HEX = "0xFF4D3413"/>
					<FORM ID = "FRM_NUM">
						<ATTR X = "0" Y = "17" W ="100" H ="21" />
						<ATTR TEXT = "" FONT = "FTcts_16" T_X = "10" T_Y ="0" FONT_COLOR_HEX = "0xFFDC1A00"/>
						<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
					</FORM>
				</FORM>
				<BUILD TARGET_ID = "SFRM_BONUS" X = "242" Y = "20" X_COUNT = "4" Y_COUNT = "1" X_GAB = "42" Y_GAB = "0"/>
				<STATIC_FORM ID = "SFRM_BONUS">
					<ATTR X = "0" Y = "0" W ="42" H ="43" STATIC_NUM="28" />
					<IMG ID = "IMG_BONUS">
						<ATTR X = "0" Y = "0" W ="42" H ="43" />
						<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
					</IMG> 
				</STATIC_FORM>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_OTHER_INFO2">
				<ATTR CAN_CLIP = "1" IGNORE_PARENT_RECT = "1" />
				<ATTR X = "0" Y = "148" W ="468" H ="74" STATIC_NUM="27" />
				<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "40" T_Y ="10" T_OUTLINE="0" FONT_COLOR_HEX = "0xFF30281E"/>
				<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
				<FORM ID = "FRM_TOTAL_EXP">
					<ATTR X = "25" Y = "30" W ="171" H ="50" />
					<ATTR TEXT = "400245" FONT = "Font_Text" T_X = "10" T_Y ="1" FONT_COLOR_HEX = "0xFF4D3413"/>
					<FORM ID = "FRM_NUM">
						<ATTR X = "5" Y = "17" W ="100" H ="21" />
						<ATTR TEXT = "" FONT = "FTcts_16" T_X = "0" T_Y ="0" FONT_COLOR_HEX = "0xFFDC1A00"/>
						<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
					</FORM>
				</FORM>
				<FORM ID = "FRM_CLEAR_EXP">
					<ATTR X = "120" Y = "30" W ="171" H ="50" />
					<ATTR TEXT = "400215" FONT = "Font_Text" T_X = "10" T_Y ="1" FONT_COLOR_HEX = "0xFF4D3413"/>
					<FORM ID = "FRM_NUM">
						<ATTR X = "0" Y = "17" W ="100" H ="21" />
						<ATTR TEXT = "" FONT = "FTcts_16" T_X = "10" T_Y ="0" FONT_COLOR_HEX = "0xFFDC1A00"/>
						<SCRIPT ID = "ON_CALL">	UISelf:SetStaticText("") </SCRIPT>
					</FORM>
				</FORM>
				<BUILD TARGET_ID = "SFRM_BONUS" X = "242" Y = "20" X_COUNT = "4" Y_COUNT = "1" X_GAB = "42" Y_GAB = "0"/>
				<STATIC_FORM ID = "SFRM_BONUS">
					<ATTR X = "0" Y = "0" W ="42" H ="43" STATIC_NUM="28" />
					<IMG ID = "IMG_BONUS">
						<ATTR X = "0" Y = "0" W ="42" H ="43" />
						<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
						<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
					</IMG> 
				</STATIC_FORM>
			</STATIC_FORM>
		</FORM>
	</FORM>
	<FORM ID = "FRM_UIMODEL">
		<ATTR X = "262" Y = "134" Z = "1" W ="500" H ="500" />
	</FORM>	
	<FORM ID = "FRM_MISSION_SCENARIO_TIMER">
		<ATTR X = "807" Y = "195" Z = "1" W ="202" H ="59" />
		<IMG ID = "IMG_BG1">
			<ATTR X = "0" Y = "0" Z ="-1" W = "217" H= "56" IMG="../Data/6_ui/mission/msTimeBgR.tga" IMG_W="217" IMG_H="56" />
		</IMG>
		<FORM ID="FRM_MIN10" X="32" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_MIN1" X="55" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<IMG ID="IMG_TIMER_SEP" X="87" Y="15" Z="0" W="11" H="25" IMG="../Data/6_ui/mission/msTimeYdot.tga" IMG_W="11" IMG_H="25" />
		<FORM ID="FRM_SEC10" X="92" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_UI/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_SEC1" X="115" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<!--<IMG ID="IMG_TIMER_SEP1" X="144" Y="11" Z="0" W="16" H="250" IMG="../Data/6_ui/mission/msTmPt.tga" IMG_W="16" IMG_H="29" />-->
		<FORM ID="FRM_SEC1000" X="142" Y="18" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmYs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_SEC100" X="156" Y="18" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmYs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<SCRIPT ID = "ON_DISPLAY"> DisplayMissionScenarioTimer(UISelf) </SCRIPT>
		<SCRIPT ID = "ON_CLOSE"> 
			g_iMissionTime = 0 
			g_iMissionTotalTime = 0
		</SCRIPT>
		<SCRIPT ID = "ON_CALL"> 
			g_fMissionStartTime = GetCurrentTimeInSec()
		</SCRIPT>
	</FORM>	
	<FORM ID = "FRM_MISSION_TIMER">
<!--		<ATTR ALIGN_X = "50" Y = "0" Z = "1" W ="202" H ="59" />
		<IMG ID = "IMG_BG1">
			<ATTR X = "0" Y = "0" Z ="-1" W = "202" H= "59" IMG="../Data/6_ui/mission/msTimeBg.tga" IMG_W="202" IMG_H="59" />
			<IMG ID ="IMG_BG2">
				<ATTR X = "10" Y = "0" W = "182" H= "48" IMG="../Data/6_ui/mission/msTimeBgC.tga" IMG_W="182" IMG_H="48" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
			</IMG>
		</IMG>
		<FORM ID="FRM_MIN10" X="30" Y="1" Z="0" W="30" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msTimeNum.tga" IMG_W="150" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_MIN1" X="60" Y="1" Z="0" W="30" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msTimeNum.tga" IMG_W="150" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<IMG ID="IMG_TIMER_SEP" X="96" Y="4" Z="0" W="18" H="29" IMG="../Data/6_ui/Pvp/pvTimeSp2.tga" IMG_W="18" IMG_H="29" />
		<FORM ID="FRM_SEC10" X="116" Y="1" Z="0" W="30" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msTimeNum.tga" IMG_W="150" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_SEC1" X="145" Y="1" Z="0" W="30" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msTimeNum.tga" IMG_W="150" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>-->
		<ATTR ALIGN_X = "100" IS_ABSOLUTE_Y="1" Y = "195" Z = "1" W ="217" H ="106" />
		<IMG ID = "IMG_BG1">
			<ATTR X = "0" Y = "0" Z ="-1" W = "217" H= "56" IMG="../Data/6_ui/mission/msTimeBgR.tga" IMG_W="217" IMG_H="56" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
		</IMG>
		<FORM ID="FRM_MIN10" X="52" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_MIN1" X="75" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<IMG ID="IMG_TIMER_SEP" X="107" Y="15" Z="0" W="11" H="25" IMG="../Data/6_ui/mission/msTimeYdot.tga" IMG_W="11" IMG_H="25" />
		<FORM ID="FRM_SEC10" X="112" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_UI/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_SEC1" X="135" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<!--
		<IMG ID = "IMG_MINUS">
			<ATTR X = "90" Y = "41" Z ="1" W = "20" H= "12" IMG="../Data/6_ui/mission/msTimeMns.tga" IMG_W="20" IMG_H="12" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1" IS_VISIBLE = "0"/>
		</IMG>
		<FORM ID="FRM_MINS10" X="104" Y="29" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "0"/>
		</FORM>
		<FORM ID="FRM_MINS1" X="124" Y="29" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "0"/>
		</FORM>
		<IMG ID="IMG_TIMER_SEPS" X="148" Y="38" Z="0" W="10" H="20" IMG="../Data/6_ui/mission/msTimeRdot.tga" IMG_W="10" IMG_H="20" IS_VISIBLE = "0"/>		
		<FORM ID="FRM_SECS10" X="152" Y="29" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_UI/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "0"/>
		</FORM>		
		<FORM ID="FRM_SECS1" X="172" Y="29" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "0"/>
		</FORM>
		-->
		
		<SCRIPT ID = "ON_DISPLAY"> DisplayMissionTimer(UISelf) </SCRIPT>
		<SCRIPT ID = "ON_CLOSE"> 
			g_iMissionTime = 0 
			g_iMissionTotalTime = 0
		</SCRIPT>
		<SCRIPT ID = "ON_CALL"> g_fMissionStartTime = GetCurrentTimeInSec()</SCRIPT>
	</FORM>
	
	<FORM ID = "FRM_TIMELIMIT">
		<ATTR ALIGN_X = "50" Y = "106" Z = "1" W ="220" H ="32" IS_ABSOLUTE_Y="1" IMG="../Data/6_ui/mission/msBsTmBg.tga" IMG_W = "220" IMG_H = "32" USE_OFFSCREEN="0"/>

		<FORM ID = "FRM_TITLE">
			<ATTR TEXT = "401067" X = "10" Y = "6" W = "200" H = "36" FONT = "FTslot" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFfffcd4" T_OUTLINE="1"/>
		</FORM>	
		
		<FORM ID="FRM_MIN10" X="95" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_MIN1" X="114" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<IMG ID="IMG_TIMER_SEPS" X="137" Y="5" Z="0" W="10" H="20" IMG="../Data/6_ui/mission/msTimeRdot.tga" IMG_W="10" IMG_H="20" IS_VISIBLE = "1"/>		
		<FORM ID="FRM_SEC10" X="140" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_UI/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>		
		<FORM ID="FRM_SEC1" X="159" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>		
		
		<FORM ID="FRM_SEC1000" X="181" Y="5" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_UI/mission/msNumTmRs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_SEC100" X="195" Y="5" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_UI/mission/msNumTmRs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>		
		
		<SCRIPT ID = "ON_DISPLAY"> DisplayMissionTimeLimit(UISelf) </SCRIPT>
		<SCRIPT ID = "ON_CLOSE"> 
			g_iMissionTimeLimit = 0 
			g_iMissionTotalTimeLimit = 0
			g_fMissionStartTimeLimit = 0
			g_iSecChange = 0
		</SCRIPT>
	</FORM>
	
	<FORM ID = "FRM_MISSION_EXP">
		<ATTR ALIGN_X = "100" ALIGN_Y = "81" Z = "1" W ="251" H ="67" IMG="../Data/6_ui/mission/msRplayBg.tga" IMG_W = "251" IMG_H = "67" USE_OFFSCREEN="0"/>
		
		<FORM ID = "FRM_TITLE">
			<ATTR TEXT = "401064" X = "10" Y = "8" W = "200" H = "36" FONT = "Font_Text" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFfff9b2" T_OUTLINE="1"/>
		</FORM>
		<IMG ID = "ICON_1">
			<ATTR X = "25" Y = "31" W = "12" H = "11" IMG="../Data/6_ui/mission/msRplayIconG.tga" IMG_W = "12" IMG_H = "11"/>
		</IMG>
		<IMG ID = "ICON_2">
			<ATTR X = "81" Y = "22" W = "29" H = "18" IMG="../Data/6_ui/mission/msRplayIconR.tga" IMG_W = "29" IMG_H = "29"/>
		</IMG>
		<IMG ID = "ICON_3">
			<ATTR X = "155" Y = "31" W = "12" H = "11" IMG="../Data/6_ui/mission/msRplayIconG.tga" IMG_W = "12" IMG_H = "11"/>
		</IMG>
		<IMG ID = "ICON_4">
			<ATTR X = "210" Y = "31" W = "12" H = "11" IMG="../Data/6_ui/mission/msRplayIconG.tga" IMG_W = "12" IMG_H = "11"/>
		</IMG>		
		
		<FORM ID = "FRM_TEXT1">
			<ATTR TEXT = "" X = "10" Y = "46" W = "90" H = "36" FONT = "FTtab" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFb7b7b7" T_OUTLINE="1"/>
		</FORM>
		<FORM ID = "FRM_TEXT2">
			<ATTR TEXT = "" X = "70" Y = "46" W = "90" H = "36" FONT = "FTtab" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFb7b7b7" T_OUTLINE="1"/>
		</FORM>
		<FORM ID = "FRM_TEXT3">
			<ATTR TEXT = "" X = "138" Y = "46" W = "90" H = "36" FONT = "FTtab" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFb7b7b7" T_OUTLINE="1"/>
		</FORM>
		<FORM ID = "FRM_TEXT4">
			<ATTR TEXT = "" X = "196" Y = "46" W = "90" H = "36" FONT = "FTtab" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFb7b7b7" T_OUTLINE="1"/>
		</FORM>
		
		<SCRIPT ID = "ON_CALL">
			GetMissionPlayCount(UISelf)
		</SCRIPT>
	</FORM>
	
	<FORM ID = "FRM_MISSION_SCORE">
		<ATTR ALIGN_X = "100" Y = "641" Z = "1" W ="252" H ="54" IMG="../Data/6_ui/mission/msLiveWd.tga" IMG_W = "252" IMG_H = "54" USE_OFFSCREEN="0"/>
		<SCRIPT ID = "ON_CALL">
			local slf = UISelf
			local screen = GetScreenSize()
			local pos = slf:GetLocation()
			pos:SetY(screen:GetY()-127)
			slf:SetLocation(pos)
		</SCRIPT>
		<FORM_MISSION_ANI_MOVE_WND ID="FRM_ADD_SENSE" X="0" Y="0" Z="2" W="47" H="46" PASS_EVENT="1">
			<ATTR IMG="../Data/6_ui/war/wrCoreEft.tga" IMG_X="200" IMG_Y="46" IMG_W="94" IMG_H="46" U="2" V="1" UV_INDEX="2"/>
		</FORM_MISSION_ANI_MOVE_WND>
		<FORM_MISSION_ANI_MOVE_WND ID="FRM_ADD_ABILITY" X="0" Y="0" Z="2" W="47" H="46" PASS_EVENT="1">
			<ATTR IMG="../Data/6_ui/war/wrCoreEft.tga" IMG_X="200" IMG_Y="46" IMG_W="94" IMG_H="46" U="2" V="1" UV_INDEX="2"/>
		</FORM_MISSION_ANI_MOVE_WND>
		
		<FORM ID = "FRM_SENSE">
			<ATTR TEXT = "401032" X = "90" Y = "0" W = "90" H = "36" FONT = "FTTab" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFFFFFFF" T_OUTLINE="1"/>
		</FORM>
		<ANI_BAR ID="ANI_SENSE" X="135" Y="3" Z = "1" W="114" H="9" >
			<ATTR BAR_IMG="../Data/6_ui/mission/msLiveBr01.tga" BAR_IMG_W="114" BAR_IMG_H="9" BAR_COUNT="1" />
			<ATTR TEXT = "" FONT="FTTab" T_X="4" T_Y="3" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/> 
			<SCRIPT ID = "ON_CREATE"> UISelf:BarNow(0) </SCRIPT>
		</ANI_BAR>	
		<FORM ID = "FRM_ABILITY">
			<ATTR TEXT = "401033" X = "90" Y = "13" W = "90" H = "36" FONT = "FTTab" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFFFFFFF" T_OUTLINE="1"/>
		</FORM>		
		<ANI_BAR ID="ANI_ABILITY" X="135" Y="16" Z = "1" W="114" H="9" >
			<ATTR BAR_IMG="../Data/6_ui/mission/msLiveBr02.tga" BAR_IMG_W="114" BAR_IMG_H="9" BAR_COUNT="1" />
			<ATTR TEXT = "" FONT="FTTab" T_X="4" T_Y="3" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/> 
			<SCRIPT ID = "ON_CREATE"> UISelf:BarNow(0) </SCRIPT>
		</ANI_BAR>
		<ANI_BAR ID="ANI_TOTALSCORE" X="88" Y="33" Z = "1" W="161" H="16" >
			<ATTR BAR_IMG="../Data/6_ui/mission/msLiveBr03.tga" BAR_IMG_W="161" BAR_IMG_H="16" BAR_COUNT="1" />
			<ATTR TEXT = "" FONT="FTTab" T_X="4" T_Y="3" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/> 
			<SCRIPT ID = "ON_CREATE"> UISelf:BarNow(0) </SCRIPT>
		</ANI_BAR>
		<IMG ID = "TOTALSCORE_BG">
			<ATTR X = "8" Y = "0" W = "70" H = "54" IMG="../Data/6_ui/mission/msLiveRk.tga" IMG_W = "210" IMG_H = "162"/>
			<ATTR U="3" V="3" />
			<SCRIPT ID = "ON_CALL">
				UISelf:SetUVIndex(1)
			</SCRIPT>
		</IMG>
		<!--<IMG ID = "IMG_SENSE_BG">
			<ATTR X = "0" Y = "0" W = "178" H = "32" IMG="../Data/6_ui/mission/msPointBg.tga" IMG_W = "178" IMG_H = "32"/>			
			<ATTR TEXT = "400673" FONT = "FTslot" T_OUTLINE="0" T_X = "24" T_Y ="6" FONT_COLOR_HEX = "0xFFFFF568"/>
		</IMG>		
		<FORM ID="FRM_SENSE_100" X="109" Y="5" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_ui/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_SENSE_10" X="124" Y="5" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_ui/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_SENSE_1" X="139" Y="5" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_UI/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<IMG ID = "IMG_ABILITY_BG">
			<ATTR X = "0" Y = "35" W = "178" H = "32" IMG="../Data/6_ui/mission/msPointBg.tga" IMG_W = "178" IMG_H = "32"/>
			<ATTR TEXT = "400672" FONT = "FTslot" T_OUTLINE="0" T_X = "24" T_Y ="6" FONT_COLOR_HEX = "0xFFFFF568"/>
		</IMG>
		<FORM ID="FRM_ABILITY_100" X="109" Y="40" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_ui/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_ABILITY_10" X="124" Y="40" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_ui/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_ABILITY_1" X="139" Y="40" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_UI/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>		
		<IMG ID = "IMG_TOTALSCORE_BG">
			<ATTR X = "0" Y = "105" W = "178" H = "32" IMG="../Data/6_ui/mission/msPointBg.tga" IMG_W = "178" IMG_H = "32"/>
			<ATTR TEXT = "400674" FONT = "FTslot" T_OUTLINE="0" T_X = "24" T_Y ="6" FONT_COLOR_HEX = "0xFFFFF568"/>
		</IMG>
		<FORM ID="FRM_TOTALSCORE_100" X="109" Y="110" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_ui/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_TOTALSCORE_10" X="124" Y="110" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_ui/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_TOTALSCORE_1" X="139" Y="110" Z="0" W="20" H="22" >
			<ATTR IMG="../Data/6_UI/mission/msNumPit.tga" IMG_W="100" IMG_H="44" CAN_COLOR_CHANGE = "1" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<SCRIPT ID = "ON_DISPLAY"> DisplayMissionScore(UISelf) </SCRIPT>-->
	</FORM>
	<FORM ID = "FRM_MISSION_MEMO">
		<ATTR ALIGN_X = "50" Y = "100" W = "270" H = "160" IMG="../Data/6_ui/mission/msRkWriteBg.tga" IMG_W = "245" IMG_H = "141"/>
		<ATTR TEXT = "400197" T_CENTER = "1" T_X = "125" T_Y = "42" FONT = "QTtext_Title" T_OUTLINE="1" FONT_COLOR_HEX = "0xFFfcf2b2"/>
		<FORM ID = "FRM_RANK1">
			<ATTR X = "140" Y = "13" TEXT = "404903" W = "70" H = "20" FONT = "QTtext_25" FONT_COLOR_HEX = "0xFFFFDD00" T_OUTLINE="1"/>
		</FORM>
		<EDIT ID = "EDT_MEMO">
			<ATTR EDIT_FONT="Font_Text"/>
			<ATTR X = "17" Y = "78" W = "214" H = "22" EDIT_LIMIT_LENGTH = "15" EDIT_PREVIEW="400196" FONT_COLOR_HEX="0xFF4d3413"/>
			<SCRIPT ID = "ON_CALL"> UISelf:SetEditText("") </SCRIPT>
		</EDIT>
		<IMG ID = "IMG_RANK_10">
			<ATTR X = "70" Y = "0" W = "50" H = "50" IMG = "../Data/6_ui/pvp/pvNumSmall.tga" U = "5" V = "2" UV_INDEX = "2" IMG_W = "250" IMG_H = "100"/>
		</IMG>
		<IMG ID = "IMG_RANK_1">
			<ATTR X = "97" Y = "0" W = "50" H = "50" IMG = "../Data/6_ui/pvp/pvNumSmall.tga" U = "5" V = "2" UV_INDEX = "1" IMG_W = "250" IMG_H = "100"/>
		</IMG>
		<BUTTON ID = "BTN_OK">
			<ATTR X = "80" Y = "125" W = "84" H = "26" TEXT = "400002" FONT = "FTbt_12" T_X="42" T_Y ="6" T_CENTER = "1"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_UP">
				UISelf:CloseParent()
			</SCRIPT>
		</BUTTON>
		<FORM ID = "FRM_CHAR_COUNT">
			<ATTR X = "188" Y = "118" W = "47" H = "20" FONT="Font_Text" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
			<SCRIPT ID = "ON_TICK">
				local wndMemo = UISelf:GetParent():GetControl("EDT_MEMO")
				if wndMemo:IsNil() == false then
					local eText = wndMemo:GetEditText()
					UISelf:SetStaticText("(" .. eText:Length() .. "/15)")
				end
			</SCRIPT>
		</FORM>
		<ANI_BAR ID = "BAR_TIME_LIMIT">
			<ATTR X= "14" Y = "104" W ="217" H ="11" />				
			<ATTR BAR_COUNT = "1"/>
			<ATTR BAR_IMG = "../Data/6_ui/mission/msRkTime.tga" BAR_IMG_W = "217" BAR_IMG_H = "11"/>
			<ATTR TEXT = "" FONT = "Font_Text" T_X = "107" T_Y ="1" T_CENTER = "1" FONT_COLOR_HEX="0xFFFFFFFF"/>
			<SCRIPT ID = "ON_DISPLAY">
				UISelf:DisplayTimeBar(false)
			</SCRIPT>
			<SCRIPT ID = "ON_CALL">
				UISelf:SetStartTime(30000)
			</SCRIPT>
		</ANI_BAR>
		<SCRIPT ID = "ON_CLOSE">
			local strMemo = UISelf:GetControl("EDT_MEMO"):GetEditText()
			SendMemo(strMemo:GetStr())
		</SCRIPT>
		<HOTKEY ID = "28"> UISelf:Close() return true </HOTKEY>
	</FORM>

	<FORM ID = "FRM_WARNING" NO_FOCUS="1">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W = "512" H = "128" ALIVE_TIME = "5000" ALIVE_TIME_IGNORE_MOUSE_OVER="1" PASS_EVENT = "1"/>
		<IMG ID = "IMG_WARNING">
			<ATTR X = "0" Y = "0" W = "512" H = "128" IMG = "../Data/6_ui/mission/warning.tga" IMG_W = "512" IMG_H = "128"/>
		</IMG>
		<SCRIPT ID = "ON_TICK">
			local iTime = GetAccumTime()
			local iValue = math.floor(iTime*10%15)
			if iValue >= 9 then
				UISelf:GetControl("IMG_WARNING"):Visible(true)
				if iValue == 9 then
					if( CheckNil(g_world == nil) ) then return false end
					if( CheckNil(g_world:IsNil()) ) then return false end
					g_world:SetShowWorldFocusFilterColorAlpha(0xff0000, 0.2, 0.0, 0.4, true)
				end
			else
				UISelf:GetControl("IMG_WARNING"):Visible(false)
			end
		</SCRIPT>
		<SCRIPT ID = "ON_CALL">
			local	kActor = GetMyActor();
			if false == kActor:IsNil() then
				kActor:AttachSound(2998, "Warning")
			end
		</SCRIPT>
	</FORM>
	<FORM ID = "FRM_WARNING2" NO_FOCUS="1">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" W = "512" H = "128" ALIVE_TIME = "5000" ALIVE_TIME_IGNORE_MOUSE_OVER="1" PASS_EVENT = "1"/>
		<SCRIPT ID = "ON_TICK">
			local iTime = GetAccumTime()
			local iValue = math.floor(iTime*10%15)
			if iValue >= 9 then
				if iValue == 9 then
					if( CheckNil(g_world == nil) ) then return false end
					if( CheckNil(g_world:IsNil()) ) then return false end
					g_world:SetShowWorldFocusFilterColorAlpha(0xff0000, 0.2, 0.0, 0.4, true)
				end
			end
		</SCRIPT>
		<SCRIPT ID = "ON_CALL">
			local	kActor = GetMyActor();
			if false == kActor:IsNil() then
				kActor:AttachSound(2998, "Warning")
			end
		</SCRIPT>
	</FORM>
	<FORM ID = "FRM_RANK_LIST">
		<ATTR X = "929" Y = "38" W = "928" H = "429" CAN_CLIP = "1" IS_ABSOLUTE_X="1" IS_ABSOLUTE_Y="1"/>
		<BUTTON ID = "BTN_CLOSE">
			<ATTR X = "0" Y = "0" W = "97" H = "72" BTN_IMG = "../Data/6_ui/mission/msRtRankB2.tga" BTN_IMG_W = "194" BTN_IMG_H = "144" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
			<ATTR TEXT = "400236" FONT = "FTtitleBig_16" T_X = "50" T_Y = "14" T_OUTLINE="1"/>
			<SCRIPT ID = "ON_L_BTN_UP">
				if g_RankUIState == 2 then
					g_RankUITimeStamp = GetAccumTime()
					g_RankUIState = 3
				end
			</SCRIPT>
		</BUTTON>
		<STATIC_FORM ID="SFRM_CLOSE">
			<ATTR X="890" Y="8" W="24" H="24" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<BUTTON ID="BNT_CLOSE2">
				<ATTR X="0" Y="0" W="24" H="24" />
				<ATTR BTN_IMG="../Data/6_ui/Common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48"/>
				<SCRIPT ID = "ON_L_BTN_UP">
					if g_RankUIState == 2 then
						g_RankUITimeStamp = GetAccumTime()
						g_RankUIState = 3
					end
				</SCRIPT>
				<HOTKEY ID = "1"> 
					if g_RankUIState == 2 then
						g_RankUITimeStamp = GetAccumTime()
						g_RankUIState = 3
					end
					return true
				</HOTKEY>
			</BUTTON>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_RANK_BG">
			<ATTR X = "97" Y = "0" Z = "-2" W = "831" H = "429" STATIC_NUM = "32" FONT = "FTtitleBig_16" T_OUTLINE="1" FONT_COLOR_HEX = "0xFFFFEEB9" TEXT ="" T_X = "172" T_Y = "15"/>

			<BUILD TARGET_ID = "IMG_STAR_BG" X = "10" Y = "10" X_COUNT = "6" Y_COUNT = "1" X_GAB = "26" Y_GAB = "0"/>
			<IMG ID = "IMG_STAR_BG" >
				<ATTR X = "0" Y = "0" W = "26" H = "26" IMG = "../Data/6_ui/mission/msRtStarBg.tga" IMG_W = "26" IMG_H = "26"/>
				<IMG ID = "IMG_STAR" >
					<ATTR X = "0" Y = "0" W = "26" H = "26" IMG = "../Data/6_ui/mission/msRtStar.tga" IMG_W = "26" IMG_H = "26"/>
					<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
				</IMG>
			</IMG>

		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_RANK">
			<ATTR X = "106" Y = "74" W = "809" H = "340" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1"/>
			<STATIC_FORM ID = "SFRM_RANK_SDW">
				<ATTR X = "0" Y = "0" W = "809" H = "340" STATIC_NUM = "3" />
			</STATIC_FORM>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_RANK_TEXT">
			<ATTR X = "112" Y = "79" Z = "1" W = "48" H= "29" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
			<ATTR T_X = "23" T_Y = "5" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = "400255"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_TIME_TEXT">
			<ATTR X = "162" Y = "79" Z = "1" W = "77" H= "29" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
			<ATTR T_X = "38" T_Y = "5" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = "400256"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_POINT_TEXT">
			<ATTR X = "242" Y = "79" Z = "1" W = "87" H= "29" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
			<ATTR T_X = "43" T_Y = "5" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = "400257"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_LEVEL_TEXT">
			<ATTR X = "331" Y = "79" Z = "1" W = "67" H= "29" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
			<ATTR T_X = "33" T_Y = "5" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = "46"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_CLASS_TEXT">
			<ATTR X = "400" Y = "79" Z = "1" W = "148" H= "29" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
			<ATTR T_X = "73" T_Y = "5" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = "400258"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_NAME_TEXT">
			<ATTR X = "549" Y = "79" Z = "1" W = "147" H= "29" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
			<ATTR T_X = "73" T_Y = "5" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = "400259"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_MEMO_TEXT">
			<ATTR X = "698" Y = "79" Z = "1" W = "211" H= "29" STATIC_NUM = "5" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "2"/>
			<ATTR T_X = "105" T_Y = "5" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = "400235"/>
		</STATIC_FORM>
		<BUILD TARGET_ID = "FRM_RANK_ELE" X = "112" Y = "110" X_COUNT="1" Y_COUNT="10" X_GAB="0" Y_GAB="30"/>
		<FORM ID = "FRM_RANK_ELE">
			<ATTR X = "0" Y = "0" Z = "1" W = "809" H = "29"/>
			<STATIC_FORM ID = "SFRM_RANK_NUM">
				<ATTR X = "0" Y = "0" W = "48" H= "29" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_X = "24" T_Y = "6" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = ""/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_TIME_NUM">
				<ATTR X = "50" Y = "0" W = "77" H= "29" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_X = "38" T_Y = "6" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = ""/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_POINT_NUM">
				<ATTR X = "129" Y = "0" W = "87" H= "29" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_X = "85" T_Y = "6" T_RIGHT = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = ""/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_LEVEL_NUM">
				<ATTR X = "218" Y = "0" W = "67" H= "29" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_X = "33" T_Y = "6" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = ""/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_CLASS">
				<ATTR X = "287" Y = "0" W = "148" H= "29" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_X = "39" T_Y = "6" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = ""/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
				<IMG ID = "IMG_CLASS">
					<ATTR X = "10" Y = "0" W = "26" H = "26" IMG = "../Data/6_ui/icon/iconClass.tga" U = "6" V = "6" UV_INDEX = "1" IS_VISIBLE = "0" IMG_W = "156" IMG_H = "156"/>
					<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
				</IMG>
			</STATIC_FORM>
			<STATIC_FORM ID = "SFRM_NAME_TEXT">
				<ATTR X = "437" Y = "0" W = "147" H= "29" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_X = "73" T_Y = "6" T_CENTER = "1" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = ""/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
			</STATIC_FORM>	
			<STATIC_FORM ID = "SFRM_MEMO_TEXT">
				<ATTR X = "586" Y = "0" W = "211" H= "29" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_X = "5" T_Y = "6" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFF4D3413" TEXT = ""/>
				<SCRIPT ID = "ON_CALL"> UISelf:SetStaticText("") </SCRIPT>
			</STATIC_FORM>	
		</FORM>
		
		<IMG ID = "IMG_RANK_1" X = "123" Y = "107" Z = "2" W = "30" H = "35" IMG = "../Data/6_ui/mission/msRkNum.tga" IMG_W = "90" IMG_H = "35" U = "3" V = "1" UV_INDEX = "1" />
		<IMG ID = "IMG_RANK_2" X = "122" Y = "137" Z = "2" W = "30" H = "35" IMG = "../Data/6_ui/mission/msRkNum.tga" IMG_W = "90" IMG_H = "35" U = "3" V = "1" UV_INDEX = "2" />
		<IMG ID = "IMG_RANK_3" X = "120" Y = "167" Z = "2" W = "30" H = "35" IMG = "../Data/6_ui/mission/msRkNum.tga" IMG_W = "90" IMG_H = "35" U = "3" V = "1" UV_INDEX = "3" />

		<IMG ID = "IMG_HEAD_LEFT">
			<ATTR X = "105" Y = "39" Z = "1" W = "70" H = "29" IMG = "../Data/6_ui/mission/msRkNbg01.tga" IMG_W = "70" IMG_H = "29"/>
		</IMG> 
		<IMG ID = "IMG_HEAD_MIDDLE">
			<ATTR X = "175" Y = "39" Z = "1" W = "730" H = "29" IMG = "../Data/6_ui/mission/msRkNbg02.tga" IMG_W = "730" IMG_H = "29"/>
			<ATTR T_X = "0" T_Y = "6" T_OUTLINE="1" TEXT = "" FONT = "FTctsBig_14" FONT_COLOR_HEX="0xFFFFFFFF"/>
			<SCRIPT ID = "ON_CALL">
				local kMsg = WideString(string.format(GetTextW(301206):GetStr(), GetTextW(42009):GetStr()))
				UISelf:SetStaticTextW(kMsg)
				return true
			</SCRIPT>
		</IMG>
		<IMG ID = "IMG_HEAD_RIGHT">
			<ATTR X = "905" Y = "39" Z = "1" W = "10" H = "29" IMG = "../Data/6_ui/mission/msRkNbg03.tga" IMG_W = "10" IMG_H = "29"/>
		</IMG>

		<SCRIPT ID = "ON_CALL">
			local addy = (GetScreenSize():GetY()-768)/2
			UISelf:SetLocation(Point2(GetScreenSize():GetX(),30+addy))
			g_RankUIState = 1
			g_RankUITimeStamp = GetAccumTime()
			local lw = GetUIWnd("FRM_MY_INFO_NEXT")
			if lw:IsNil() == false then
				lw:GetControl("FRM_RANK"):GetControl("BTN_RANK"):Visible(false)
			end
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			
			local iDelta = GetAccumTime() - g_RankUITimeStamp
			local px = GetScreenSize():GetX()
			local addy = (GetScreenSize():GetY()-768)/2
			local addx = (px-1024)/2

			if g_RankUIState == 1 then
				local iX = 16 + addx + (1-iDelta/0.5)*px
				UISelf:SetLocation(Point2(iX, 38+addy))

				if iDelta >= 0.5 then
					g_RankUIState = 2
					UISelf:SetLocation(Point2(16+addx, 38+addy))
				end
			elseif g_RankUIState == 2 then

			elseif g_RankUIState == 3 then
				local iX = 16 + addx + (iDelta/0.5)*px
				UISelf:SetLocation(Point2(iX, 38+addy))

				if iDelta >= 0.5 then
					g_RankUIState = 4
				end
			elseif g_RankUIState == 4 then
				UISelf:SetLocation(Point2(px,38+addy))
				UISelf:Close()
			end
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			local lw = GetUIWnd("FRM_MY_INFO_NEXT")
			if lw:IsNil() == false then
				lw:GetControl("FRM_RANK"):GetControl("BTN_RANK"):Visible(true)
			end
		</SCRIPT>
	</FORM>
	<STATIC_FORM ID = "SFRM_PENALTY_OFF">
		<ATTR ALIGN_X = "50" Y = "220" W = "208" H = "132" STATIC_NUM = "1"/>
		<STATIC_FORM ID = "SFRM_COLOR">
			<ATTR X = "9" Y = "7" W = "190" H = "80" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1" />
			<ATTR TEXT = "401110" T_X = "25" T_Y = "10" FONT_COLOR_HEX = "0xFF4d3413" T_CENTER = "0" />
			<IMG ID="IMG_LINE_1" X="8" Y="48" W="174" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="174" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE_2" X="8" Y="49" W="174" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="174" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_SDW">
			<ATTR X = "9" Y = "7" Z = "1" W = "190" H = "80" STATIC_NUM = "3"/>
			<ATTR TEXT = "401111" T_X = "117" T_Y = "56" FONT_COLOR_HEX = "0xFF4d3413" />
			<STATIC_FORM ID = "SFRM_GOLD">
				<ATTR X = "65" Y = "53" Z =	"20" W = "49" H = "21" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
				<ATTR T_RIGHT = "1" T_X = "47" T_Y = "3" FONT_COLOR_HEX = "OxFF4d3413" TEXT = ""/>
			</STATIC_FORM>
		</STATIC_FORM>
		<BUTTON ID = "BTN_YES">
			<ATTR X = "17" Y = "93" W = "84" H = "26" T_CENTER = "1" T_X = "42" T_Y = "4" TEXT = "400556"  FONT = "FTbt_12"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_UP"> UISelf:CloseParent() </SCRIPT>
		</BUTTON>
		<BUTTON ID = "BTN_NO">
			<ATTR X = "107" Y = "93" W = "84" H = "26" T_CENTER = "1" T_X = "42" T_Y = "4" TEXT = "400557" FONT = "FTbt_12"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_UP"> UISelf:CloseParent() </SCRIPT>
		</BUTTON>
	</STATIC_FORM>
	<FORM ID = "FRM_REST_MON_NUM">
		<ATTR ALIGN_X="100" IS_ABSOLUTE_Y = "1" Y = "254" W = "214" H = "36" IMG="../Data/6_ui/mission/msMonNbg.tga" IMG_W = "214" IMG_H = "36" PASS_EVENT = "1"/>
		<LOCAL>
			<NAME ID="DEFAULT">
				<ATTR FONT = "QTtext_25" TEXT = "" T_OUTLINE="1" T_X = "142" T_Y = "3" T_CENTER = "1" FONT_COLOR_HEX = "0xFFfaf264"/>
				<FORM ID = "FRM_TITLE">
					<ATTR X = "0" Y = "0" W = "201" H = "36" FONT = "FT15" T_OUTLINE="1" TEXT = "400239" T_X = "6" T_Y = "9" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
			</NAME>
			<NAME ID="JAPAN">
				<ATTR FONT = "QTtext_25" TEXT = "" T_OUTLINE="1" T_X = "138" T_Y = "3" FONT_COLOR_HEX = "0xFFfaf264"/>
				<FORM ID = "FRM_TITLE">
					<ATTR X = "0" Y = "0" W = "201" H = "36" FONT = "FTctsBig_14" T_OUTLINE="1" TEXT = "400239" T_X = "6" T_Y = "9" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
			</NAME>
		</LOCAL>
		<SCRIPT ID = "ON_ACTIVATE">
			UISelf:SetStaticText(tostring(g_RestMonsterNum))
		</SCRIPT>
	</FORM>
	<STATIC_FORM ID="SFRM_RETRY_MISSION">	
		<ATTR ALIGN_X="50" ALIGN_Y="28" W="208" H="127" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="190" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<ATTR TEXT="80019" FONT="Font_Text" T_X="95" T_Y="30" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="190" H="75" STATIC_NUM="3" />
				<ATTR TEXT="" FONT="Font_Text" T_X="95" T_Y="30" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK">
			<ATTR X="20" Y="88" W="79" H="28" />
			<ATTR TEXT="80025" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Send_PT_C_N_REQ_MISSION_RESTART()
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="59">
				Send_PT_C_N_REQ_MISSION_RESTART()
				UISelf:CloseParent()
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL">
			<ATTR X="106" Y="88" W="79" H="28" />
			<ATTR TEXT="80026" FONT="FTbt_12" T_X="42" T_Y="3" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_RecentMapMove()
				CMP_STATE_CHANGE(0)
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="60">
				Net_RecentMapMove()
				CMP_STATE_CHANGE(0)
				UISelf:CloseParent()
				return true
			</HOTKEY>
		</BUTTON>

		<SCRIPT ID = "ON_CLOSE">

		</SCRIPT>
	</STATIC_FORM>

	<FORM ID = "FRM_MISSION_START">
		<ATTR ALIGN_X="50" ALIGN_Y="36" W="1023" H="550" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msStartBg1.tga" IMG_W = "512" IMG_H = "166"/>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_MISSION")
			if ms:IsNil() == false then
				ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			end
			
			local st = UISelf:GetControl("IMG_START")
			if st:IsNil() == false then
				st:SetLocation( Point2(1023, st:GetLocation():GetY()) )
			end
			
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()			
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_MISSION")
			if ms:IsNil() == true then
				return
			end
			local st = UISelf:GetControl("IMG_START")
			if st:IsNil() == true then
				return
			end
			local msLoc = ms:GetLocation()
			local stLoc = st:GetLocation()

			if g_StartUIState == 1 then
				local iX = 270
				local iX2 = 370
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/0.3*600
					iX2 = 1023 - iDelta/0.3*653
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 2.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				local iX = -330
				local iX2 = 1023
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = 270 + iDelta/0.3*754
					iX2 = 370 - iDelta/0.3*671
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 4 then
				UISelf:Close()
			end
		</SCRIPT>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msStartBg2.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_MISSION">
			<ATTR X = "-330" Y="5" W="332" H="70" IMG = "../Data/6_ui/mission/msStartT01.tga" IMG_W = "332" IMG_H = "70" CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		</IMG>
		<IMG ID = "IMG_START" X = "1023" Y="70" W="301" H="91" IMG = "../Data/6_ui/mission/msStartT02.tga" IMG_W = "301" IMG_H = "91"  CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		<FORM ID = "FRM_GOGO">
			<ATTR ALIGN_X="100" Y = "260" W ="230" H ="153" />
			<IMG ID = "IMG_RUN">
				<ATTR X="0" Y="0" W="140" H="153" IMG="../Data/6_ui/mission/msGoMan.tga" IMG_W="420" IMG_H="459" />
				<ATTR U="3" V="3" />
			</IMG>
			<IMG ID = "IMG_ARROW">
				<ATTR X="141" Y="45" W="80" H="62" IMG="../Data/6_ui/mission/msGoArrow.tga" IMG_W="160" IMG_H="124" />
				<ATTR U="2" V="2" />
			</IMG>
			<SCRIPT ID = "ON_CALL">		
				iGOGONum = 1
				iArrowNum = 1
				fGOGOTime = GetAccumTime()
				fArrowTime = GetAccumTime()

				if( CheckNil(g_world == nil) ) then return false end
				if( CheckNil(g_world:IsNil()) ) then return false end
				local kArrowPos = g_world:GetObjectPosByName("gate_next_base")
				local kMyPos = GetMyActor():GetPos()
				if nil == kArrowPos then
					return false
				end				
				if nil == kMyPos then
					return false
				end
							
				local GoRun = UISelf:GetControl("IMG_RUN")
				local GoArrow = UISelf:GetControl("IMG_ARROW")		
				if GoRun:IsNil() == false and GoArrow:IsNil() == false then			
					if kMyPos:GetX() > kArrowPos:GetX() then
						GoRun:ChangeImage("../Data/6_ui/mission/msGoMan2.tga")
						GoArrow:ChangeImage("../Data/6_ui/mission/msGoArrow2.tga")		
						GetMyActor():SetLookingDirection(1,true)
					else
						GoRun:ChangeImage("../Data/6_ui/mission/msGoMan.tga")
						GoArrow:ChangeImage("../Data/6_ui/mission/msGoArrow.tga")
					end
					GoRun:SetInvalidate(true)
					GoArrow:SetInvalidate(true)
				end					
			</SCRIPT>	
			<SCRIPT ID = "ON_DISPLAY">		
				local wndRun = UISelf:GetControl("IMG_RUN")
				local wndArrow = UISelf:GetControl("IMG_ARROW")
				if wndRun:IsNil() == false then
					if fGOGOTime ~= nil and GetAccumTime() - fGOGOTime > 0.1 then
						if iGOGONum ~= nil then
							iGOGONum = iGOGONum + 1
							if iGOGONum > 7 then
								iGOGONum  = 1
							end
							fGOGOTime = GetAccumTime()
							wndRun:SetUVIndex(iGOGONum)
						end
					end
				end
				if wndArrow:IsNil() == false then
					if fArrowTime ~= nil and GetAccumTime() - fArrowTime > 0.2 then
						if iArrowNum ~= nil then
							iArrowNum = iArrowNum + 1
							if iArrowNum > 3 then
								iArrowNum  = 1
							end
							fArrowTime = GetAccumTime()
							wndArrow:SetUVIndex(iArrowNum)
						end
					end
				end
			</SCRIPT> 
		</FORM>
	</FORM>
	
	<FORM ID = "FRM_MISSION_RANKING_REWARD_ITEM" ALIVE_TIME = "5000">
		<ATTR ALIGN_X="50" Y="248" W="453" H="67" PASS_EVENT = "1"/>
		<!-- ATTR IMG = "../Data/6_ui/mission/msRwTmbg.tga" IMG_W = "262" IMG_H = "44"/ -->
			<FORM ID = "FRM_TITLE">
				<ATTR X="113" Y = "8" W = "452" H = "36" FONT = "FTcts_13" T_OUTLINE="1" TEXT = "400799" FONT_COLOR_HEX="0xFFFFFFFF"/>
				<ATTR T_X="113" T_CENTER="1"/>
			</FORM>
			<FORM ID = "FRM_RANK">
				<ATTR X="113" Y = "26" W = "452" H = "36" FONT = "FTcts_13" T_OUTLINE="1" TEXT = "401192" FONT_COLOR_HEX="0xFFFFFFFF"/>
				<ATTR T_X="113" T_CENTER="1"/>
			</FORM>			
			<!-- ICON ID = "ICN_ITEM1" ICON_GRP ="254" ICON_STATIC = "1">
				<ATTR X = "129" Y = "67" Z = "-1" W = "42" H = "42" IMG_W = "42" IMG_H = "42" IGNORE_PARENT_RECT = "1"/>
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>	
				<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			</ICON>
			<ICON ID = "ICN_ITEM2" ICON_GRP ="254" ICON_STATIC = "1">
				<ATTR X = "206" Y = "67" Z = "-1" W = "42" H = "42" IMG_W = "42" IMG_H = "42" IGNORE_PARENT_RECT = "1"/>
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			</ICON>
			<ICON ID = "ICN_ITEM3" ICON_GRP ="254" ICON_STATIC = "1">
				<ATTR X = "283" Y = "67" Z = "-1" W = "42" H = "42" IMG_W = "42" IMG_H = "42" IGNORE_PARENT_RECT = "1"/>
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			</ICON-->
			<SCRIPT ID="ON_DISPLAY">
				if g_StartUIState == 4 then
					CloseToolTip()
					UISelf:Close()
				end
			</SCRIPT>
	</FORM>

	<FORM ID = "FRM_MISSION_END" IS_ABSOLUTE_Y="1">
		<ATTR ALIGN_X="50" Y="78" W="1023" H="550" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msStartBg1.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msStartBg2.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_MISSION">
			<ATTR X = "-330" Y="5" W="332" H="70" IMG = "../Data/6_ui/mission/msStartT01.tga" IMG_W = "332" IMG_H = "70" CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		</IMG>
		<IMG ID = "IMG_CLEAR" X = "1023" Y="70" W="311" H="91" IMG = "../Data/6_ui/mission/msClearT.tga" IMG_W = "311" IMG_H = "91"  CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_MISSION")
			local st = UISelf:GetControl("IMG_CLEAR")
			ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			st:SetLocation( Point2(1023, st:GetLocation():GetY()) )
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()
			PlaySoundByID("Mission_Clear01")
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_MISSION")
			local st = UISelf:GetControl("IMG_CLEAR")
			local msLoc = ms:GetLocation()
			local stLoc = st:GetLocation()

			if g_StartUIState == 1 then
				local iX = 270
				local iX2 = 370
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/0.3*600
					iX2 = 1023 - iDelta/0.3*653
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 1.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				local iX = -330
				local iX2 = 1023
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = 270 + iDelta/0.3*754
					iX2 = 370 - iDelta/0.3*671
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 4 then
				UISelf:Close()
			end
		</SCRIPT>
	</FORM>
	
	<FORM ID = "FRM_MISSION_FAILED" IS_ABSOLUTE_Y="1">
		<ATTR ALIGN_X="50" Y="78" W="1023" H="550" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msStartBg1.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msStartBg2.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_MISSION">
			<ATTR X = "-330" Y="5" W="332" H="70" IMG = "../Data/6_ui/mission/msStartT01.tga" IMG_W = "332" IMG_H = "70" CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		</IMG>
		<IMG ID = "IMG_CLEAR" X = "1023" Y="70" W="331" H="91" IMG = "../Data/6_ui/mission/msFailedT.tga" IMG_W = "331" IMG_H = "91"  CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_MISSION")
			local st = UISelf:GetControl("IMG_CLEAR")
			ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			st:SetLocation( Point2(1023, st:GetLocation():GetY()) )
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_MISSION")
			local st = UISelf:GetControl("IMG_CLEAR")
			local msLoc = ms:GetLocation()
			local stLoc = st:GetLocation()

			if g_StartUIState == 1 then
				local iX = 270
				local iX2 = 370
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/0.3*600
					iX2 = 1023 - iDelta/0.3*653
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 1.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				local iX = -330
				local iX2 = 1023
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = 270 + iDelta/0.3*754
					iX2 = 370 - iDelta/0.3*671
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 4 then
				UISelf:Close()
			end
		</SCRIPT>
	</FORM>

	<STATIC_FORM ID = "SFRM_REBIRTH_REQ">
		<ATTR ALIGN_X = "50" Y = "220" W = "208" H = "165" STATIC_NUM = "1" CAN_DRAG = "1"/>
		<STATIC_FORM ID = "SFRM_COLOR">
			<ATTR X = "9" Y = "7" W = "190" H = "80" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1" />
			<ATTR TEXT = "80023" T_X = "20" T_Y = "10" FONT_COLOR_HEX = "0xFF4d3413" T_CENTER = "0" />
			<IMG ID="IMG_LINE_1" X="8" Y="48" W="174" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="174" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE_2" X="8" Y="49" W="174" H="1" IMG="../Data/6_ui/Common/cmBody.tga" IMG_W="174" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_SDW">
			<ATTR X = "9" Y = "7" Z = "1" W = "190" H = "80" STATIC_NUM = "3"/>
			<ATTR TEXT = "" T_X = "117" T_Y = "56" FONT_COLOR_HEX = "0xFF4d3413" />
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_GOLD">
			<ATTR X = "15" Y = "60" Z ="20" W = "179" H = "21" STATIC_NUM = "6" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "3"/>
			<FORM ID="FRM_GOLD" X="-3" Y="3" W="98" H="16" IMG="../Data/6_ui/common/cmCoin01.tga" IMG_W="20" IMG_H="16" IMG_X="78" IMG_Y="0" TEXT="" FONT="Font_Text" T_X="76" T_Y="0" T_RIGHT="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/>
			<FORM ID="FRM_SILVER" X="96" Y="3" W="40" H="16" IMG="../Data/6_ui/common/cmCoin02.tga" IMG_W="20" IMG_H="16" IMG_X="20" IMG_Y="0" TEXT="" FONT="Font_Text" T_X="18" T_Y="0" T_RIGHT="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/>
			<FORM ID="FRM_COPPER" X="137" Y="3" W="40" H="16" IMG="../Data/6_ui/common/cmCoin03.tga" IMG_W="20" IMG_H="16" IMG_X="20" IMG_Y="0" TEXT="" FONT="Font_Text" T_X="18" T_Y="0" T_RIGHT="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_MY_MONEY" X="10" Y="93" W="189" H="25" STATIC_NUM="34">
			<FORM ID="FRM_GOLD" X="3" Y="3" W="98" H="16" IMG="../Data/6_ui/common/cmCoin01.tga" IMG_W="20" IMG_H="16" IMG_X="78" IMG_Y="0" TEXT="" FONT="Font_Text" T_X="76" T_Y="0" T_RIGHT="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000">
					<SCRIPT ID="ON_TICK">UISelf:DrawMoney(1)</SCRIPT>
			</FORM>
			<FORM ID="FRM_SILVER" X="102" Y="3" W="40" H="16" IMG="../Data/6_ui/common/cmCoin02.tga" IMG_W="20" IMG_H="16" IMG_X="20" IMG_Y="0" TEXT="" FONT="Font_Text" T_X="18" T_Y="0" T_RIGHT="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000">
					<SCRIPT ID="ON_TICK">UISelf:DrawMoney(2)</SCRIPT>
			</FORM>
			<FORM ID="FRM_COPPER" X="143" Y="3" W="40" H="16" IMG="../Data/6_ui/common/cmCoin03.tga" IMG_W="20" IMG_H="16" IMG_X="20" IMG_Y="0" TEXT="" FONT="Font_Text" T_X="18" T_Y="0" T_RIGHT="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000">
					<SCRIPT ID="ON_TICK">UISelf:DrawMoney(3)</SCRIPT>
			</FORM>
		</STATIC_FORM>
		<BUTTON ID = "BTN_YES">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400556, 2200) </SCRIPT>
			<ATTR X = "17" Y = "125" W = "84" H = "26" T_CENTER = "1" T_X = "42" T_Y = "4" FONT = "FTbt_12"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				SendSpendMoneyAction(1, UISelf:GetParent():GetCustomDataAsInt())
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="59"> 
				SendSpendMoneyAction(1, UISelf:GetParent():GetCustomDataAsInt())
				UISelf:CloseParent()
				return true
			</HOTKEY> 
			
		</BUTTON>
		<BUTTON ID = "BTN_NO">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400557, 2201) </SCRIPT>
			<ATTR X = "107" Y = "125" W = "84" H = "26" T_CENTER = "1" T_X = "42" T_Y = "4" FONT = "FTbt_12"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY> 
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY> 
		</BUTTON>
	</STATIC_FORM>

	<STATIC_FORM ID = "SFRM_REBIRTH_REQ_BY_COIN">
		<ATTR ALIGN_X = "50" Y = "220" W = "208" H = "132" STATIC_NUM = "1" CAN_DRAG = "1"/>
		<STATIC_FORM ID = "SFRM_COLOR">
			<ATTR X = "9" Y = "7" W = "190" H = "80" STATIC_NUM = "2" CAN_COLOR_CHANGE = "1" COLOR_TYPE = "1" />
			<ATTR TEXT = "80030" T_X = "20" T_Y = "10" FONT_COLOR_HEX = "0xFF4d3413" T_CENTER = "0" />
			<SCRIPT ID = "ON_CREATE"> UI_T_Y_ToCenter(UISelf) </SCRIPT>
		</STATIC_FORM>
		<STATIC_FORM ID = "SFRM_SDW">
			<ATTR X = "9" Y = "7" Z = "1" W = "190" H = "80" STATIC_NUM = "3"/>
			<ATTR TEXT = "" T_X = "117" T_Y = "56" FONT_COLOR_HEX = "0xFF4d3413" />
		</STATIC_FORM>
		<BUTTON ID = "BTN_YES">
			<ATTR X = "17" Y = "93" W = "84" H = "26" T_CENTER = "1" T_X = "42" T_Y = "4" TEXT = "252"  FONT = "FTbt_12"/>
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				SendSpendMoneyAction(1, 1)
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="59">
				SendSpendMoneyAction(1, 1)
				UISelf:CloseParent()
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID = "BTN_NO">
			<ATTR X = "107" Y = "93" W = "84" H = "26" T_CENTER = "1" T_X = "42" T_Y = "4" TEXT = "253" FONT = "FTbt_12" />
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID = "ON_L_BTN_DOWN"> UISelf:CloseParent() </SCRIPT>
			<HOTKEY ID="60">UISelf:CloseParent() return true</HOTKEY>
			<HOTKEY ID="1"> UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>
	</STATIC_FORM>
	
	<STATIC_FORM ID = "FRM_CREATE_EVENT_ITEM" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X = "50" ALIGN_Y = "40" W ="600" H ="550" />
		<SCRIPT ID = "ON_CALL">
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(true, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5) 
			g_bEnableShortCutKey = false 
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(false, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
			g_bEnableShortCutKey = true
		</SCRIPT>		
		
		<FORM ID = "FRM_BG_ITEM">
			<ATTR X = "68" Y = "128" Z="-1" W = "243" H = "28" />
			<ATTR IMG = "../Data/6_ui/mission/msEtBg_02.tga" IMG_W = "457" IMG_H = "291" T_X = "100" T_Y = "0" FONT = "FTlevel" FONT_COLOR_HEX = "0xFFFFFFFF"/>
		</FORM>
		
		<STATIC_FORM ID = "FRM_CREATE_FIELD">
			<ATTR ALIGN_X = "50" Y = "100" W ="600" H ="218" />	
			<SCRIPT ID = "ON_MOUSE_OVER">
				local MissionTopWnd;
				local MissionWnd;
				MissionTopWnd = GetUIWnd("FRM_CREATE_EVENT_HIDDEN");
				if MissionTopWnd:IsNil() then
					return false
				end					
				MissionWnd = MissionTopWnd:GetControl("FRM_CREATE_FIELD_SCENARIO")
				if MissionWnd:IsNil() then
					return false
				end				
				for i=0,3 do
					local szName = "FRM_CARD" .. i					
					MissionWnd:GetControl(szName):GetControl("IMG_OVER"):Visible(false)
				end
			</SCRIPT>					
			
			<FORM ID = "FRM_BG_ITEM">
				<ATTR X = "68" Y = "10" Z="-1" W = "243" H = "28" />
				<!--<ATTR IMG = "../Data/6_ui/mission/msEtBg_02.tga" IMG_W = "457" IMG_H = "291" T_X = "100" T_Y = "0" FONT = "FTlevel" FONT_COLOR_HEX = "0xFFFFFFFF"/>-->
				<FORM ID = "FRM_TEXT">
					<ATTR X = "15" Y = "30" W = "300" H = "28" FONT = "FTctsBig_14" T_X = "0" T_Y = "0" TEXT = "790550" FONT_COLOR_HEX="0xFFF4FBB8" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
<!--				<FORM ID = "FRM_TEXT1">					
					<ATTR X = "100" Y = "30" W = "350" H = "28" FONT = "FTctsBig_14" T_RIGHT = "1" T_X = "340" T_Y = "0" TEXT = "400953" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>				-->
			</FORM>					
			<SCRIPT ID = "ON_CALL">
				if( CheckNil(g_world == nil) ) then return false end
				if( CheckNil(g_world:IsNil()) ) then return false end
				g_world:SetShowWorldFocusFilter(true, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5) 
				g_bEnableShortCutKey = false 				
			</SCRIPT>
			<SCRIPT ID = "ON_CLOSE">
				if( CheckNil(g_world == nil) ) then return false end
				if( CheckNil(g_world:IsNil()) ) then return false end
				g_world:SetShowWorldFocusFilter(false, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
				g_bEnableShortCutKey = true
				UISelf:GetParent():CloseParent() 
			</SCRIPT>
			<SCRIPT ID = "ON_DISPLAY">
				if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
					return
				end
				local kActor = GetMyActor()
				if kActor:IsNil() then return end
				if kActor:IsJumping() then UISelf:Close() end
				if false==kActor:GetVelocity():IsZero() then UISelf:Close() end
				local AcName = kActor:GetAction():GetID()
				if AcName == "a_act" or AcName == "a_idle" or AcName == "a_battle_idle" then
				else
					UISelf:Close()
				end
			</SCRIPT>
			<HOTKEY ID="59">
				MissionSelectedKeyDown(UISelf, 0)
				return true
			</HOTKEY>
			<HOTKEY ID="60">
				MissionSelectedKeyDown(UISelf, 1)
				return true
			</HOTKEY>
			<HOTKEY ID="61">
				MissionSelectedKeyDown(UISelf, 2)
				return true
			</HOTKEY>
			<HOTKEY ID="62">
				MissionSelectedKeyDown(UISelf, 3)
				return true
			</HOTKEY>
			
			<BUILD ID="BLD_CARD" TARGET_ID="FRM_CARD" X="70" Y="40" X_COUNT = "4" Y_COUNT = "1" X_GAB = "110" Y_GAB = "0"/>
			<FORM ID = "FRM_CARD">
				<ATTR X = "0" Y = "0" W ="123" H ="189" />
<!--			<ATTR IMG = "../Data/6_ui/mission/msCardBg.tga" IMG_W = "123" IMG_H = "189"/> -->
				<ATTR TEXT = "400228" FONT = "Font_Text" T_X = "17" T_Y ="160"  FONT_COLOR_HEX="0xFFF4FBB8"/>
				<SCRIPT ID = "ON_CALL">
					local ptLocation = UISelf:GetLocation()
					ptLocation:SetY(40)
					UISelf:SetLocation(ptLocation)
					UISelf:GetControl("IMG_OVER"):Visible(false)
				</SCRIPT>
				<FORM ID="FRM_LEVEL_BG">
					<IMG ID="IMG_LVBG">
						<ATTR X="13" Y="130" W="97" H="20" IMG="../Data/6_ui/mission/msLvBg.tga" IMG_W="97" IMG_H="20" PASS_EVENT = "1"/>
					</IMG>
				</FORM>
				<FORM ID="FRM_PARTY_PEOPLE">
					<ATTR X = "24" Y = "97" W ="96" H ="21" PASS_EVENT="1"/>
					<ATTR TEXT = "" FONT = "QTtext" T_BOLD="1" T_X ="41" T_Y ="2" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/>
					<SCRIPT ID="ON_CALL">						
						local kMsg = string.format(GetTextW(400843):GetStr(), tonumber(UISelf:GetParent():GetBuildIndex()+1))
						UISelf:SetStaticText(kMsg)
					</SCRIPT>
				</FORM>
				<FORM ID="FRM_LEVEL_TEXT">			
					<ATTR X = "20" Y = "131" W ="83" H ="21" PASS_EVENT="1"/>
					<ATTR TEXT = "" FONT = "QTtext" T_X ="41" T_Y ="2" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF" OUTLINE_COLOR_HEX="0xFF000000"/>
					<SCRIPT ID="ON_CALL">
						local iNum = tonumber(string.sub(UISelf:GetID():GetStr(), -1))
						SetMissionLevelingText(UISelf, UISelf:GetParent():GetBuildIndex())					
					</SCRIPT>
				</FORM>
				<IMG ID = "IMG_CHAOS" X="89" Y="8" Z="3" W="24" H="25">
					<ATTR IMG="../Data/6_ui/common/cmChaosMbig.tga" IMG_W="24" IMG_H="25"  PASS_EVENT = "1"/>
					<SCRIPT ID = "ON_CALL">
						if( CheckNil(g_world == nil) ) then return false end
						if( CheckNil(g_world:IsNil()) ) then return false end
						UISelf:Visible(g_world:IsHaveWorldAttr(512))
					</SCRIPT>
				</IMG>
				<IMG ID = "IMG_NEW">
					<ATTR X = "0" Y = "0" W="123" H="189" IMG_W = "123" IMG_H = "189" IS_VISIBLE = "0" PASS_EVENT = "1"/>
				</IMG>
				<IMG ID = "IMG_OVER">
					<ATTR X = "10" Y = "28" Z = "1" W="105" H="125" IMG = "../Data/6_ui/mission/msCardLine.tga" IMG_W = "105" IMG_H = "125"/>
					<ATTR IS_VISIBLE = "0"/>
					<!--<SCRIPT ID = "ON_MOUSE_OVER">
						local wText = GetMissionLevelingText(UISelf, UISelf:GetParent():GetBuildIndex())
						CallToolTipText(0, wText, GetUIWnd("Cursor"):GetLocation())												
					</SCRIPT>-->
					<!--CallToolTipText(0, GetTextW(9010+UISelf:GetParent():GetBuildIndex()), GetUIWnd("Cursor"):GetLocation())						 -->
					<SCRIPT ID = "ON_MOUSE_OUT">
						for i=0,3 do
							local szName = "FRM_CARD" .. i
							UISelf:GetParent():GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
							local ptLocation = UISelf:GetParent():GetParent():GetControl(szName):GetLocation()
							ptLocation:SetY(40)
							UISelf:GetParent():GetParent():GetControl(szName):SetLocation(ptLocation)
						end
						CloseToolTip()
					</SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">
						OnSelectMissionDiff( UISelf, false )
					</SCRIPT>
				</IMG>

				<IMG ID = "IMG_BG">
					<ATTR X = "10" Y = "29" W="103" H="123" IMG = "../Data/6_ui/mission/ms010100_01.tga" IMG_W = "103" IMG_H = "123" />
					<IMG ID = "IMG_CLEAR">
						<ATTR X = "0" Y = "0" W="60" H="57" IMG = "../Data/6_ui/mission/msClear.tga" IMG_W = "60" IMG_H = "56" IS_VISIBLE = "0" PASS_EVENT = "1"/>
					</IMG>
					
					<IMG ID = "IMG_KEY">					
						<ATTR X = "40" Y = "35" W="27" H="22" IMG = "../Data/6_ui/mission/msF1234.tga" IMG_W = "54" IMG_H = "66" IS_VISIBLE = "1" PASS_EVENT = "1"/>
						<ATTR U="2" V="3" />		
					</IMG>
					
					<SCRIPT ID = "ON_MOUSE_OVER">
						if UISelf:IsGrayScale() == true then return end
						for i=0,3 do
							local szName = "FRM_CARD" .. i
							UISelf:GetParent():GetParent():GetControl(szName):GetControl("IMG_OVER"):Visible(false)
						end
						
						UISelf:GetParent():GetControl("IMG_OVER"):Visible(true)						
					</SCRIPT>
					<SCRIPT ID = "ON_L_BTN_DOWN">			
						OnSelectMissionDiff( UISelf, false )
					</SCRIPT>
				</IMG>
				
				<IMG ID = "IMG_STAR0">
					<ATTR X = "50" Y = "160" W="14" H="14" IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				</IMG>
				<IMG ID = "IMG_STAR1">
					<ATTR X = "65" Y = "160" W="14" H="14" IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				</IMG>
				<IMG ID = "IMG_STAR2">
					<ATTR X = "80" Y = "160" W="14" H="14" IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				</IMG>
				<IMG ID = "IMG_STAR3">
					<ATTR X = "95" Y = "160" W="" H="14" IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				</IMG>
			</FORM>		

			<BUILD ID="BLD_CARD1" TARGET_ID="FRM_ITEMTEXT" X="0" Y="0" X_COUNT = "4" Y_COUNT = "1" X_GAB = "107" Y_GAB = "0"/>
			<FORM ID = "FRM_ITEMTEXT">
				<FORM ID = "FRM_RESULTITEM_TEXT">
					<ATTR X = "76" Y = "214" W = "90" H = "28" FONT = "Font_Text" T_X = "60" T_Y = "0" T_CENTER = "1" TEXT = "400848" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
				<FORM ID = "FRM_ITEM_TEXT1">
					<ATTR X = "90" Y = "231" W = "90" H = "28" FONT = "QTtext" T_X = "22" T_Y = "0" T_CENTER = "1" TEXT = "400849" FONT_COLOR_HEX="0xFFF6D676"/>
				</FORM>
				<FORM ID = "FRM_ITEM_TEXT2">
					<ATTR X = "138" Y = "231" W = "90" H = "28" FONT = "QTtext" T_X = "22" T_Y = "0" T_CENTER = "1" TEXT = "400850" FONT_COLOR_HEX="0xFFF6D676"/>
				</FORM>
				<FORM ID = "FRM_ITEM_TEXT3">
					<ATTR X = "90" Y = "249" W = "90" H = "28" FONT = "QTtext" T_X = "22" T_Y = "0" T_CENTER = "1" TEXT = "400851" FONT_COLOR_HEX="0xFFF6D676"/>
					<SCRIPT ID = "ON_CALL">
						local imgvalue = UISelf:GetParent():GetBuildIndex()+1
						if imgvalue == 1 then
							UISelf:GetParent():GetControl("FRM_ITEM_TEXT3"):SetFontColor(4285558896)
						end
					</SCRIPT>
				</FORM>
				<FORM ID = "FRM_ITEM_TEXT4">
					<ATTR X = "138" Y = "249" W = "90" H = "28" FONT = "QTtext" T_X = "22" T_Y = "0" T_CENTER = "1" TEXT = "400852" FONT_COLOR_HEX="0xFFF6D676"/>
					<SCRIPT ID = "ON_CALL">
						local imgvalue = UISelf:GetParent():GetBuildIndex()+1
						if imgvalue ~= 4 then
							UISelf:GetParent():GetControl("FRM_ITEM_TEXT4"):SetFontColor(4285558896)
						end
					</SCRIPT>					
				</FORM>			
			</FORM>		

<!--			<IMG ID = "IMG_LINE">
				<ATTR X = "20" Y = "396" W="567" H="3" IMG = "../Data/6_ui/mission/msLine.tga" IMG_W = "567" IMG_H = "3" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			</IMG>
			<IMG ID = "IMG_LINE2">
				<ATTR X = "20" Y = "317" W="567" H="3" IMG = "../Data/6_ui/mission/msLine.tga" IMG_W = "567" IMG_H = "3" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			</IMG>

			<IMG ID = "IMG_TEXT_BG">
				<ATTR X = "21" Y = "318" W="565" H="60" IMG = "../Data/6_ui/mission/msTxtBg.tga" IMG_W = "565" IMG_H = "78"/>
				<ATTR TEXT = "400227" FONT = "FTtitle_14" T_X = "282" T_Y ="5" T_CENTER = "1" FONT_COLOR_HEX="0xFFFFFFFF" />
				<FORM ID = "FRM_STORY">
					<ATTR X = "0" Y = "20" W="565" H="60"/>
					<ATTR TEXT = "" FONT = "FTtitle_14" T_X = "282" T_Y ="5" T_CENTER = "1" FONT_COLOR_HEX="0xFFFFFFFF"/>
				</FORM>
			</IMG>-->
		</STATIC_FORM>
		
		<STATIC_FORM ID = "SFRM_EXIT_BG">
			<ATTR X = "256" Y = "377" Z = "5" W ="84" H ="26" STATIC_NUM = "7" />
			<BUTTON ID = "BTN_EXIT">
				<ATTR X="0" Y="0" W="111" H="41"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
				<ATTR TEXT = "400229" FONT = "FTbt_12" T_X = "42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
				<SCRIPT ID="ON_L_BTN_UP"> 
					UISelf:GetParent():CloseParent() 
					if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
						CallMissionRetryUI()
					end
				</SCRIPT>

				<HOTKEY ID = "1"> 
					UISelf:GetParent():CloseParent() 
					if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
						CallMissionRetryUI()
					end
					return true
				</HOTKEY>
			</BUTTON>
		</STATIC_FORM>			
	</STATIC_FORM>	
	<!-- -->
	<FORM ID = "FRM_MISSION_STAGE_START" PRIORITY="99" NO_FOCUS="1">
		<ATTR ALIGN_X="50" Y="78" W="1023" H="550" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msNewTxtBgL.tga" IMG_W = "512" IMG_H = "166"/>
		<FORM ID = "FRM_TEXT">
			<ATTR X = "420" Y = "115" H = "58" FONT = "Font_GuildName" TEXT = "400962" FONT_COLOR_HEX="0xFFFFF97B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
<LOCAL>
	<NAME ID="DEFAULT">
				<ATTR W = "400"/>
	</NAME>
	<NAME ID="TAIWAN/CHINA">
				<ATTR W = "300"/>
	</NAME>
</LOCAL>
		</FORM>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msNewTxtBgR.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_START" X = "-330" Y="5" W="301" H="91" IMG = "../Data/6_ui/mission/msStartT02.tga" IMG_W = "301" IMG_H = "91"  CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		<SCRIPT ID = "ON_CALL">
			CloseUI("FRM_DEFENCE_NEXT_DELAY")
			CloseUI("FRM_MISSION_STAGE_FAILED")
			
			local ms = UISelf:GetControl("IMG_START")
			ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()	
			
			PlaySoundByID("defence-start")
			if 0 ~= GetCopyPointChargeCount() then
				GetUIWnd("FRM_POINT_COPY_MACHINE"):GetControl("FRM_KILL_MONSTER"):Disable(false)
			end
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_START")
			local msLoc = ms:GetLocation()

			if g_StartUIState == 1 then
				local iX = 370
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/0.3*600
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 2.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				local iX = -300
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = 270 + iDelta/0.3*754
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif g_StartUIState == 4 then
				UISelf:Close()
			end
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">Close_FRM_MISSION_STAGE_START()</SCRIPT> 
	</FORM>
	
	<!-- ?-->
	<FORM ID = "FRM_MISSION_STAGE_SUCCESS" PRIORITY="99" NO_FOCUS="1">
		<ATTR ALIGN_X="50" Y="250" W="1024" H="332" PASS_EVENT = "1" IS_ABSOLUTE_Y="1"/>
		
		<FORM ID = "FRM_TEXT">
			<ATTR X = "420" Y = "115" H = "58" FONT = "Font_GuildName" TEXT = "400963" FONT_COLOR_HEX="0xFFFFF97B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
<LOCAL>
	<NAME ID="DEFAULT">
				<ATTR W = "400"/>
	</NAME>
	<NAME ID="TAIWAN/CHINA">
				<ATTR W = "300"/>
	</NAME>
</LOCAL>
		</FORM>
		<IMG ID = "IMG_LEFT" X="0" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msNewTxtBgL.tga" IMG_W = "512" IMG_H = "166">
			<SCRIPT ID="ON_CALL">
				if g_bConstellationMission and g_world:IsHaveWorldAttr(GATTR_FLAG_MISSION) then
					UISelf:Visible(false)
				else
					UISelf:Visible(true)
				end
			</SCRIPT>
		</IMG>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msNewTxtBgR.tga" IMG_W = "512" IMG_H = "166">
			<SCRIPT ID="ON_CALL">
				if g_bConstellationMission and g_world:IsHaveWorldAttr(GATTR_FLAG_MISSION) then
					UISelf:Visible(false)
				else
					UISelf:Visible(true)
				end
			</SCRIPT>
		</IMG>
		<IMG ID = "IMG_BG" X = "285" Y="-45" Z="-1" W="475" H="163" IMG = "../Data/6_ui/constellation/ctStartBg.tga" IMG_W = "475" IMG_H = "163" IGNORE_PARENT_RECT = "1">
			<SCRIPT ID="ON_CALL">
				if g_bConstellationMission and g_world:IsHaveWorldAttr(GATTR_FLAG_MISSION) then
					UISelf:Visible(true)
				else
					UISelf:Visible(false)
				end
			</SCRIPT>
		</IMG>
		<IMG ID = "IMG_SUCCESS" X = "-330" Y="5" W="512" H="91" IMG = "../Data/6_ui/mission/msSuccess.tga" IMG_W = "512" IMG_H = "91"  CAN_CLIP = "1" IGNORE_PARENT_RECT = "1">
			<SCRIPT ID="ON_CALL">
				local kSelf = UISelf
				if g_bConstellationMission and g_world:IsHaveWorldAttr(GATTR_FLAG_MISSION) then
					kSelf:ChangeImage("../Data/6_UI/constellation/ctClear.tga")
					kSelf:SetSize( Point2(258,81) )
					kSelf:SetImgSize( Point2(258,81) )
					kSelf:SetLocation( Point2(-129,0) )
				else
					kSelf:ChangeImage("../Data/6_ui/mission/msSuccess.tga")
					kSelf:SetSize( Point2(512,91) )
					kSelf:SetImgSize( Point2(512,91) )
					kSelf:SetLocation( Point2(-330,5) )
				end
			</SCRIPT>
		</IMG>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_SUCCESS")
			ms:SetLocation( Point2(-ms:GetSize():GetX(), ms:GetLocation():GetY()) )
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()	
			CloseUI("FRM_MISSION_DEFENCE_TIMER")
			CloseUI("FRM_DEFENCE_TIMELIMIT")
			CloseUI("FRM_MAIN_GAUGEBAR")
			PlaySoundByID("defence-success")
			if 0 ~= GetCopyPointChargeCount() then
				GetUIWnd("FRM_POINT_COPY_MACHINE"):GetControl("FRM_KILL_MONSTER"):Disable(true)
			end
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_SUCCESS")
			local msLoc = ms:GetLocation()
			local iHafe = 512 - (ms:GetSize():GetX()/2)
			if g_StartUIState == 1 then
				local iX = iHafe
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -(ms:GetSize():GetX()/2) + (iDelta/0.3*((ms:GetSize():GetX()/2)+iHafe))
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 2.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				local iX = 1024
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = iHafe + (iDelta/0.3*(1024-iHafe))
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif g_StartUIState == 4 then
				UISelf:Close()
			end
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">CloseUI("FRM_MISSION_STAGE_SUBINFO")</SCRIPT>
	</FORM>
	<!-- ?-->
	<FORM ID = "FRM_MISSION_STAGE_FAILED" PRIORITY="99" NO_FOCUS="1">
		<ATTR ALIGN_X="50" Y="78" W="1023" H="550" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msNewTxtBgL.tga" IMG_W = "512" IMG_H = "166"/>
		<FORM ID = "FRM_TEXT">
			<ATTR X = "0" Y = "115" W = "1023" H = "38" FONT = "Font_GuildName" T_CENTER="1" T_X="512" TEXT = "400964" FONT_COLOR_HEX="0xFFFFF97B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msNewTxtBgR.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_FAILED" X = "-330" Y="5" W="331" H="91" IMG = "../Data/6_ui/mission/msFailedT.tga" IMG_W = "331" IMG_H = "91"  CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_FAILED")
			ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()
			local kTextWnd = UISelf:GetControl("FRM_TEXT")
			if not kTextWnd:IsNil() then
				kTextWnd:SetStaticTextW(GetTT(400964))
			end
			CloseUI("FRM_MISSION_DEFENCE_TIMER")
			CloseUI("FRM_DEFENCE_TIMELIMIT")
			PlaySoundByID("defence-missionfail")
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_FAILED")
			local msLoc = ms:GetLocation()

			if g_StartUIState == 1 then
				local iX = 349
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/0.3*600
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 7.2 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				local iX = -330
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = 349 + iDelta/0.3*754
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif g_StartUIState == 4 then
				UISelf:Close()
			end
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">CloseUI("FRM_MISSION_STAGE_SUBINFO")</SCRIPT>
	</FORM>
	
	<!--   -->
	<STATIC_FORM ID = "SFRM_MISSION_ADD_EXP">
		<ATTR X="807" Y="586" W = "216" H = "109"/>
		<IMG ID = "IMG_BG" IMG = "../Data/6_ui/mission/msNewMdExp.tga" IMG_W = "216" IMG_H = "109"/>
		<FORM ID = "FRM_TEXT">
			<ATTR X = "75" Y = "11" W = "100" H = "28" FONT = "FTcts_13" TEXT = "400959" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID = "FRM_TEXT_EXPLAIN">
			<ATTR X = "20" Y = "72" W = "200" H = "28" FONT = "Font_Chat" TEXT = "400960" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>

		</FORM>
		
		<FORM ID="FRM_EXP_NUMBER">
			<ATTR X = "0" Y = "0" Z = "1" W ="217" H ="106" />
			<IMG ID = "IMG_BG1">
				<ATTR X = "0" Y = "0" Z ="-1" W = "217" H= "56"/>
				<SCRIPT ID = "ON_CALL"> 
					UISelf:SetCustomDataAsInt(0)
				</SCRIPT>
			</IMG>

			<BUILD TARGET_ID="FRM_" X="160" Y="35" X_COUNT = "8" Y_COUNT = "1" X_GAB = "-18" Y_GAB = "0"/>
			<FORM ID="FRM_" X="0" Y="0" Z="0" W="22" H="26" >
				<ATTR IMG="../Data/6_ui/mission/msMonNum.tga" IMG_W="110" IMG_H="52" U="5" V="2" UV_INDEX="1"/>
				<IMG ID="FRM_UPDATE">
					<SCRIPT ID="ON_TICK">
						UpdateDefenceExpAni(UISelf)
					</SCRIPT>
					<SCRIPT ID = "ON_CALL"> 
						UISelf:Visible(false)
					</SCRIPT>
				</IMG>
			</FORM>
			<SCRIPT ID = "ON_TICK">
				local WndBG = UISelf:GetControl("IMG_BG1")
				if WndBG:IsNil() == true then
					return
				end
				local iMaxNum = 8
				if 1 == WndBG:GetCustomDataAsInt() then
					StartDefenceBonusExp(UISelf, 0.2, iMaxNum)
				end
				
				if 2 == WndBG:GetCustomDataAsInt() then
					StopDefenceBonusExp(UISelf, 0.4, iMaxNum)
					
				end
				
			</SCRIPT>
		</FORM>
		<SCRIPT ID = "ON_CALL">
			UISelf:SetCustomDataAsInt(0)
			SetDefenceBonusExp(0)			
		</SCRIPT>
	</STATIC_FORM>
	
	<!--     -->
	<STATIC_FORM ID = "SFRM_MISSION_STAGE_DATA" IS_ABSOLUTE_Y="1" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR X="802" Y="0" W = "222" H = "56"/>
		<IMG ID = "IMG_BG" IMG = "../Data/6_ui/mission/msNewMdStage.tga" IMG_W = "222" IMG_H = "56"/>
		<FORM ID = "FRM_TEXT">
			<ATTR X = "30" Y = "11" W = "100" H = "28" FONT = "Ftlevel" TEXT = "400961" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID = "FRM_TEXT_STAGE">
			<ATTR X = "0" Y = "0" T_X="160" T_Y="7" T_CENTER="1" W = "200" H = "28" FONT = "Font_GuildName" FONT_COLOR_HEX="0xFF00FFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
	</STATIC_FORM>
	
	<!--    -->
	<FORM ID="FRM_MISSION_SELECT_DIRECTION_BG" X="0" Y="165" W="1600" H="317" IS_ABSOLUTE_Y="1" PASS_EVENT="1" NO_FOCUS="1" PRIORITY="1">
		<IMG ID="IMG_BG" Z="-1" IMG="../Data/6_ui/mission/msNewMonBg.tga" IMG_W="1600" IMG_H="241"/>
	</FORM>
	<FORM ID = "FRM_MISSION_SELECT_DIRECTION" IS_ABSOLUTE_Y="1" PASS_EVENT="1" NO_FOCUS="1" PRIORITY="2">
		<ATTR ALIGN_X="50" Y="165" W = "1024" H = "317"/>
		<DUMMY ID="IMG_BG"/>
		<FORM ID = "FRM_LEFT_ARROW_COUNT">
			<ATTR X = "105" Y = "100" Z="8" W = "300" H = "100" FONT = "Font_Chat" TEXT = "1986" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID = "IMG_NUMBER" X = "-30" Y = "-20" W="40" H="40" IMG = "../Data/6_ui/mission/msNumTmY.tga" IMG_W = "200" IMG_H = "80">
				<ATTR U="5" V="2" />
				<SCRIPT ID = "ON_CALL"> UISelf:SetUVIndex(1) </SCRIPT>
			</IMG>
			<SCRIPT ID = "ON_CALL">
				local kPos = UISelf:GetLocation()
				kPos:SetY(100)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</FORM>
		<IMG ID = "IMG_LEFT_ARROW_SELECT" X="45" Y="40" IMG = "../Data/6_ui/mission/msNewArwL.tga" IMG_W = "153" IMG_H = "242">
			<ATTR U="1" V="2" />
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(false) UISelf:SetUVIndex(1) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(40)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
			<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.5, 1, 2, 1) </SCRIPT>
		</IMG>
		<IMG ID = "IMG_LEFT_ARROW" X="045" Y="40" IMG = "../Data/6_ui/mission/msNewArwBs.tga" IMG_W = "153" IMG_H = "242">
			<ATTR U="1" V="2" />
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true) 
				UISelf:SetUVIndex(1) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(40)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</IMG>
		<FORM ID = "FRM_RIGHT_ARROW_COUNT">
			<ATTR X = "941" Y = "100" Z="8" W = "300" H = "100" FONT = "Font_Chat" TEXT = "1986" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID = "IMG_NUMBER" X = "-30" Y = "-20" W="40" H="40" IMG = "../Data/6_ui/mission/msNumTmY.tga" IMG_W = "200" IMG_H = "80">
				<ATTR U="5" V="2" />
				<SCRIPT ID = "ON_CALL"> UISelf:SetUVIndex(1) </SCRIPT>
			</IMG>
			<SCRIPT ID = "ON_CALL">
				local kPos = UISelf:GetLocation()
				kPos:SetY(100)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</FORM>
		<IMG ID = "IMG_RIGHT_ARROW_SELECT" X="831" Y="40" IMG = "../Data/6_ui/mission/msNewArwR.tga" IMG_W = "153" IMG_H = "242">
			<ATTR U="1" V="2" />
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(false) 
				UISelf:SetUVIndex(1) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(40)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
			<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.5, 1, 2, 1) </SCRIPT>
		</IMG>
		<IMG ID = "IMG_RIGHT_ARROW" X="831" Y="40" IMG = "../Data/6_ui/mission/msNewArwBs.tga" IMG_W = "153" IMG_H = "242">
			<ATTR U="1" V="2" />
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true) 
				UISelf:SetUVIndex(2) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(40)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</IMG>
		<IMG ID = "IMG_MAIN" X="276" Y="27" Z="2" IMG = "../Data/6_ui/mission/msNewMonBg2.tga" IMG_W = "478" IMG_H = "160">
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(27)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</IMG>
		<BUTTON ID="BTN_LEFT">
			<ATTR X="296" Y="81" W="104" H="40" Z="10" />
			<ATTR BTN_IMG ="../Data/6_ui/mission/msNewBtL.tga" BTN_IMG_W="104" BTN_IMG_H="160" U="1" V="4" UV_INDEX="0"/>
			<FORM ID="SELECT" X="25" Y="7" Z="10" W = "80" H = "28" FONT = "FT15" T_X="40" T_Y="-6" T_CENTER="1" TEXT = "400969" FONT_COLOR_HEX="0xFFFFF7ED" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF502602"/>
			<FORM ID="SELECT1" X="25" Y="7" Z="10" W = "80" H = "28" FONT = "FT15" T_X="40" T_Y="9" T_CENTER="1" TEXT = "2200" FONT_COLOR_HEX="0xFFFFF7ED" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF502602"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				Send_PT_C_M_NFY_DEFENCE_DIRECTION(1)
			</SCRIPT>
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(81)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
			<HOTKEY ID="59">Send_PT_C_M_NFY_DEFENCE_DIRECTION(1) return true</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_RIGHT">
			<ATTR X="629" Y="81" W="104" H="40" Z="10" />
			<ATTR BTN_IMG ="../Data/6_ui/mission/msNewBtR.tga" BTN_IMG_W="104" BTN_IMG_H="160" U="1" V="4" UV_INDEX="0"/>
			<FORM ID="SELECT" X="0" Y="7" Z="10" W = "80" H = "28" FONT = "FT15" T_X="40" T_Y="-6" T_CENTER="1" TEXT = "400969" FONT_COLOR_HEX="0xFFFFF7ED" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF502602"/>
			<FORM ID="SELECT1" X="0" Y="7" Z="10" W = "80" H = "28" FONT = "FT15" T_X="40" T_Y="9" T_CENTER="1" TEXT = "2201" FONT_COLOR_HEX="0xFFFFF7ED" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF502602"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> 
				Send_PT_C_M_NFY_DEFENCE_DIRECTION(2)
			</SCRIPT>
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true)
				local kPos = UISelf:GetLocation()
				kPos:SetY(81)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
			<HOTKEY ID="60">Send_PT_C_M_NFY_DEFENCE_DIRECTION(2) return true</HOTKEY>
		</BUTTON>
		
		<FORM ID="FRM_SLECT_TIMER" X="463" Y="48" W="102" H="102" Z="5" U="5" V="6" IMG = "../Data/6_ui/mission/msNewMonTime.tga" IMG_W = "510" IMG_H = "612">
			<IMG ID = "NUMBER_FIRST"  X="20" Y="35" W="40" H="40" IMG = "../Data/6_ui/mission/msNumTmY.tga" IMG_W = "200" IMG_H = "80">
				<ATTR U="5" V="2" />
			</IMG>
			<IMG ID = "NUMBER_SECOND" X="44" Y="35" W="40" H="40" IMG = "../Data/6_ui/mission/msNumTmY.tga" IMG_W = "200" IMG_H = "80">
				<ATTR U="5" V="2" />
			</IMG>
			<DUMMY ID="DMY_STARTTIME">
				<SCRIPT ID="ON_CALL">UISelf:SetCustomDataAsFloat(GetAccumTime())</SCRIPT>
			</DUMMY>
			<SCRIPT ID="ON_TICK">
				if ( UISelf:GetCustomDataAsInt() == 1 ) then
					return
				end
			
				local iPrevIndex = UISelf:GetUVIndex()
				UVAnimationReversFlowTime(UISelf, 1, 30, 1, 1, false)
				local iNowIndex = UISelf:GetUVIndex()
				
				local iSecIndex = UISelf:GetUVIndex() % 10 + 1
				local WndSecond = UISelf:GetControl("NUMBER_SECOND")
				if WndSecond:IsNil() == false then
					WndSecond:SetUVIndex(iSecIndex)
				end
				
				local iFirstIndex = UISelf:GetUVIndex() / 10 + 1
				local WndFirst = UISelf:GetControl("NUMBER_FIRST")
				if WndFirst:IsNil() == false then
					WndFirst:SetUVIndex(iFirstIndex)
				end
				
				local kPath = "../Data/6_ui/mission/msNumTmY.tga"
				if 2 > iFirstIndex then
					kPath = "../Data/6_ui/mission/msNumTmR.tga"
				end
				WndFirst:ChangeImage(kPath)
				WndFirst:SetInvalidate(true)
				WndSecond:ChangeImage(kPath)
				WndSecond:SetInvalidate(true)
				
				if iPrevIndex ~= iNowIndex and 6 > iNowIndex and iNowIndex > 0 then
					PlaySoundByID("Bomb_Clock")
				end
				
				if ( 1 >= UISelf:GetUVIndex() ) then
					Send_PT_C_M_REQ_DEFENCE_SELECT_CLOSE()
					GetEventTimer():Del("DEFENCE_SELECT_DIRECTION")
					UISelf:SetCustomDataAsInt(1)
					UISelf:SetUVIndex(1)
				end
			</SCRIPT>
			<SCRIPT ID="ON_CALL">
				local iTime = 30
				UISelf:SetUVIndex(iTime)
				UISelf:GetControl("NUMBER_SECOND"):SetUVIndex(10)
				UISelf:GetControl("NUMBER_FIRST"):SetUVIndex(4)
				UISelf:Visible(true)
				UISelf:SetCustomDataAsInt(0)
				local kPos = UISelf:GetLocation()
				kPos:SetY(48)
				UISelf:SetLocation(kPos)
				GetEventTimer():Add("DEFENCE_SELECT_DIRECTION", iTime, "Send_PT_C_M_REQ_DEFENCE_SELECT_CLOSE()", 1, false)
			</SCRIPT>
			
		</FORM>
		
		<BUTTON ID="BTN_USE_ITEM_LEFT">
			<ATTR X="404" Y="75" W="50" H="51" Z="3"/>
			<ATTR BTN_IMG ="../Data/6_ui/mission/msNewItemBt.tga" BTN_IMG_W="100" BTN_IMG_H="102"/>
			<FORM ID = "FRM_EXPLAIN">
				<ATTR X = "-8" Y = "-20" Z="5" W = "100" H = "25" FONT = "Font_Text" TEXT = "400330" FONT_COLOR_HEX="0xFF1F0F00"/>
			</FORM>
			<ICON ID = "ICN_SRC" X="5" Y="5" Z="3" W="50" H="50" ICON_GRP ="172" ICON_KEY = "0">
				<SCRIPT ID = "ON_CALL"> UISelf:SetGrayScale(true)</SCRIPT>
				<SCRIPT ID = "ON_DISPLAY"> DisplayIcon_InfallibleSelection() </SCRIPT>
				<FORM ID="ITEM_COUNT">
					<ATTR X="0" Y="0" Z="4" W="50" H="50"/>
					<ATTR FONT="ImeToolTip" T_X="38" T_Y="24" T_RIGHT="1" TEXT="" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
			</ICON>
			<SCRIPT ID="ON_L_BTN_UP"> Send_REQ_DEFENCE_INFALLIBLE_SELECTION(1) </SCRIPT>
			<!--SCRIPT ID="ON_MOUSE_OVER"> UISelf:GetControl("ICN_SRC"):CallIconToolTip() </SCRIPT-->
			<SCRIPT ID="ON_MOUSE_OVER"> 
				CallSelectItemToolTip()
			</SCRIPT>
			<SCRIPT ID="ON_CALL"> 
				UISelf:SetCustomDataAsInt(1) 
				UISelf:Visible(true) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(75)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			
			<FORM ID="FRM_L_COUNT_INFALLIBLE_COUNT">
				<ATTR X="0" Y="53" W="50" H="30" Z="3"/>
				<ATTR FONT="ImeToolTip" T_X="38" T_Y="2" T_RIGHT="1" TEXT="" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			</FORM>			
		</BUTTON>
		
		<BUTTON ID="BTN_USE_ITEM_RIGHT">
			<ATTR X="576" Y="75" W="50" H="51" Z="3"/>
			<ATTR BTN_IMG ="../Data/6_ui/mission/msNewItemBt.tga" BTN_IMG_W="100" BTN_IMG_H="102"/>
			<FORM ID = "FRM_EXPLAIN">
				<ATTR X = "-8" Y = "-20" Z="5" W = "100" H = "25" FONT = "Font_Text" TEXT = "400330" FONT_COLOR_HEX="0xFF1F0F00"/>
			</FORM>
			<ICON ID = "ICN_SRC" X="5" Y="5" Z="3" W="50" H="50" ICON_GRP ="172" ICON_KEY = "0">
				<SCRIPT ID = "ON_CALL"> UISelf:SetGrayScale(true) </SCRIPT>
				<SCRIPT ID = "ON_DISPLAY"> DisplayIcon_InfallibleSelection() </SCRIPT>
				<FORM ID="ITEM_COUNT">
					<ATTR X="0" Y="0" Z="4" W="50" H="50"/>
					<ATTR FONT="ImeToolTip" T_X="38" T_Y="24" T_RIGHT="1" TEXT="" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
			</ICON>
			
			<SCRIPT ID="ON_L_BTN_UP"> Send_REQ_DEFENCE_INFALLIBLE_SELECTION(2) </SCRIPT>
			<!--SCRIPT ID="ON_MOUSE_OVER"> UISelf:GetControl("ICN_SRC"):CallIconToolTip() </SCRIPT-->
			<SCRIPT ID="ON_MOUSE_OVER"> 
				CallSelectItemToolTip()
			</SCRIPT>
			<SCRIPT ID="ON_CALL"> 
				UISelf:SetCustomDataAsInt(1) 
				UISelf:Visible(true) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(75)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			
			<FORM ID="FRM_R_COUNT_INFALLIBLE_COUNT">
				<ATTR X="0" Y="53" W="50" H="30" Z="3"/>
				<ATTR FONT="ImeToolTip" T_X="38" T_Y="2" T_RIGHT="1" TEXT="" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			</FORM>			
		</BUTTON>
		
		<BUTTON ID="BTN_GO" >
			<ATTR X="420" Y="188" Z="8" W="184" H="31" />
			<ATTR BTN_IMG ="../Data/6_ui/mission/msNewStart.tga" BTN_IMG_W="184" BTN_IMG_H="124" U="1" V="4" UV_INDEX="0"/>
			<FORM ID = "FRM_TEXT_EXPLAIN" T_X="92" T_CENTER="1">
				<ATTR X = "0" Y = "5" Z="8" W = "184" H = "28"/>
				<ATTR FONT = "FTcts_16" TEXT = "400979" FONT_COLOR_HEX="0xFF2A0F0B"/>
				<SCRIPT ID="ON_CALL">SetTextOnThisUI(400979, 2202)</SCRIPT>
			</FORM>
			<SCRIPT ID="ON_CALL">
				UISelf:Visible(false)
				local kPos = UISelf:GetLocation()
				kPos:SetY(188)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP"> 
				UISelf:Visible(false)
				GetEventTimer():Del("DEFENCE_SELECT_DIRECTION")
				Send_PT_C_M_REQ_DEFENCE_SELECT_CLOSE()
			</SCRIPT>
			<HOTKEY ID="61">
				UISelf:Visible(false)
				GetEventTimer():Del("DEFENCE_SELECT_DIRECTION")
				Send_PT_C_M_REQ_DEFENCE_SELECT_CLOSE()
				return true
			</HOTKEY>
		</BUTTON>
		
		<FORM ID = "FRM_TEXT_CORRECT_CHAIN">
			<ATTR X = "440" Y = "157" Z="8" W = "300" H = "50" FONT = "Font_Warn" TEXT = "400966" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(157)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</FORM>
		<FORM ID = "FRM_TEXT_TITLE">
			<ATTR X = "375" Y = "10" Z="8" W = "300" H = "28" FONT = "QTtext_Title" TEXT = "400967" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(10)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</FORM>
		<FORM ID = "FRM_TEXT_EXPLAIN">
			<ATTR X = "415" Y = "222" Z="8" W = "200" H = "28" FONT = "Font_Chat" TEXT = "0" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<SCRIPT ID = "ON_CALL"> 
				UISelf:Visible(true) 
				local kPos = UISelf:GetLocation()
				kPos:SetY(222)
				UISelf:SetLocation(kPos) 
			</SCRIPT>
		</FORM>
		
		<SCRIPT ID = "ON_CALL">
			UISelf:SetCustomDataAsInt(0)
			PlaySoundByID("defence-uiin")
			CallUI("FRM_MISSION_SELECT_DIRECTION_BG")
			CallUI("FRM_REWARD_ITEM_BOX")
			StopBgSound()
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			GetEventTimer():Del("DEFENCE_SELECT_DIRECTION")
			CloseUI("FRM_REWARD_ITEM_BOX")
			CloseUI("FRM_MISSION_SELECT_DIRECTION_BG")
			CloseToolTip() 
			PlaySoundByID("defence-uiout")
			if g_world:IsNil() == false then
				g_world:SetShowWorldFocusFilter(false, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.8)
			end
			PlayBgSound(0)
		</SCRIPT>
		<SCRIPT ID="ON_TICK"> OnTick_SelectDirection() </SCRIPT>
	</FORM>	
	<FORM ID = "FRM_REWARD_ITEM_BOX" IS_ABSOLUTE_Y="1" PASS_EVENT="1" NO_FOCUS="1" PRIORITY="2">
		<ATTR ALIGN_X="50" Y="380" Z="50" W = "321" H = "224"/>
		<IMG ID = "IMG_BG" Z="51" IMG = "../Data/6_ui/mission/msNewItemBg.tga" IMG_W = "321" IMG_H = "224"/>
		
		<IMG ID = "IMG_BOSS_ICON" X="16" Y="37" Z="60" IMG = "../Data/6_UI/icon/msRareMonIcon_5100101.tga" IMG_W = "62" IMG_H = "62"/>
		<FORM ID = "FRM_MONSTER_EXPLAIN">
			<ATTR X = "100" Y = "40" Z="60" W = "200" H = "28" FONT = "Font_Chat" TEXT = "0" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		
		<BUILD ID="BLD_ICN_ITEM" TARGET_ID="ICN_ITEM" X="24" Y="111" Z="65" W="50" H="50" X_COUNT = "5" Y_COUNT = "1" X_GAB = "58" Y_GAB = "0"/>
		<ICON ID = "ICN_ITEM" X="0" Y="0" Z="65" W="50" H="50" ICON_GRP ="173" ICON_KEY = "0">
			<ATTR T_X="38" T_Y="1" FONT="Font_Text" T_RIGHT="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<SCRIPT ID="ON_CALL"> UISelf:SetGrayScale(true) UISelf:SetCustomDataAsInt(0) UISelf:SetStaticText() </SCRIPT>
			<SCRIPT ID="ON_DISPLAY"> DisplayIcon_DefenceSelectUI( UISelf:GetBuildIndex(), UISelf:GetCustomDataAsInt() ) </SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			<SCRIPT ID = "ON_L_BTN_DOWN">UISelf:CallIconToolTip() </SCRIPT>
		</ICON>
		
		<IMG ID = "IMG_ARROW" X="152" Y="90" Z="71" W = "20" H = "25" IMG = "../Data/6_ui/main/mnNpcArw.tga" IMG_W = "40" IMG_H = "50" U="2" V="2" UV_INDEX="1">
			<SCRIPT ID = "ON_TICK"> UVAnimation(UISelf, 0.2, 1, 4, 1) </SCRIPT>
		</IMG>
		
		
		<BUILD ID="BLD_NUMBER" TARGET_ID="FRM_NUMBER" X="40" Y="153" Z="65" X_COUNT = "5" Y_COUNT = "1" X_GAB = "58" Y_GAB = "0"/>
		<FORM ID = "FRM_NUMBER">
			<ATTR X = "0" Y = "0" Z="65" W = "200" H = "28" FONT = "Font_Chat" TEXT = "0" FONT_COLOR_HEX="0xFFFFF799"/>
			<SCRIPT ID="ON_CALL"> 
				local iIndex = UISelf:GetBuildIndex()+1
				if iIndex > 3 then
					UISelf:SetFontColor(0xFFFF840D)
				elseif iIndex == 3 then
					UISelf:SetFontColor(0xFF00FF00)
				else
					UISelf:SetFontColor(0xFFB0B0B0)
				end
				local kMsg = tostring(iIndex)
				UISelf:SetStaticText(kMsg)
			</SCRIPT> 
		</FORM>
		
		<FORM ID = "FRM_ITEM_EXPLAIN">
			<ATTR X = "23" Y = "175" Z="60" W = "400" H = "60" FONT = "Font_Chat" TEXT = "0" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
	</FORM>
	<!--?-->
	<FORM ID = "FRM_MISSION_SELECT_SUCCESS" IS_ABSOLUTE_Y="1" PRIORITY="2">
		<ATTR ALIGN_X="50" Y="210" W="504" H="113" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msNewMonRst.tga" IMG_W = "504" IMG_H = "113"/>
		<FORM ID = "IMG_FAILED">
			<ATTR X = "0" Y = "20" W = "400" H = "80" FONT = "FT30" TEXT = "400971" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID = "IMG_RIGHT">
			<ATTR X = "185" Y = "70" W = "400" H = "38" FONT = "Font_Warn" TEXT = "400972" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_FAILED")
			ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			UISelf:SetCustomDataAsInt(1)
			ms:SetCustomDataAsFloat(GetAccumTime())
			PlaySoundByID("defence-wayok")
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local ms = UISelf:GetControl("IMG_FAILED")
			local StartUIState = UISelf:GetCustomDataAsInt()
			local StartUITimeStamp = ms:GetCustomDataAsFloat()
			local iDelta = GetAccumTime() - StartUITimeStamp
			local msLoc = ms:GetLocation()

			if StartUIState == 1 then
				local iX = 149
				if iDelta > g_mode6_SelectSuccessStep1Time then
					StartUIState = StartUIState + 1
					StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/g_mode6_SelectSuccessStep1Time*600
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif StartUIState == 2 then
				if iDelta > g_mode6_SelectSuccessStep2Time then
					StartUIState = StartUIState + 1
					StartUITimeStamp = GetAccumTime()
				end
			elseif StartUIState == 3 then
				local iX = -330
				if iDelta > g_mode6_SelectSuccessStep3Time then
					StartUIState = StartUIState + 1
					StartUITimeStamp = GetAccumTime()
				else
					iX = 149 + iDelta/g_mode6_SelectSuccessStep3Time*754
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif StartUIState == 4 then
				UISelf:Close()
			end
			
			UISelf:SetCustomDataAsInt(StartUIState)
			ms:SetCustomDataAsFloat(StartUITimeStamp)
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			UISelf:CloseParent()
			GetEventTimer():Del("DEFENCE_F6_START_NEXTSTAGE")
			StartNextStage()
		</SCRIPT>
	</FORM>
	
	<!--?-->
	<FORM ID = "FRM_MISSION_SELECT_FAILED" IS_ABSOLUTE_Y="1" PRIORITY="2">
		<ATTR ALIGN_X="50" Y="210" W="504" H="113" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msNewMonRst.tga" IMG_W = "504" IMG_H = "113"/>
		<FORM ID = "IMG_FAILED">
			<ATTR X = "0" Y = "20" W = "400" H = "80" FONT = "FT30" TEXT = "400973" FONT_COLOR_HEX="0xFFFF3B14" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID = "IMG_RIGHT">
			<ATTR X = "150" Y = "70" W = "400" H = "38" FONT = "Font_Warn" TEXT = "" FONT_COLOR_HEX="0xFFFFF799" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_FAILED")
			ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			UISelf:SetCustomDataAsInt(1)
			ms:SetCustomDataAsFloat(GetAccumTime())
			PlaySoundByID("defence-wayfail")
			CloseUI("FRM_REWARD_ITEM_BOX")
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local ms = UISelf:GetControl("IMG_FAILED")
			local StartUIState = UISelf:GetCustomDataAsInt()
			local StartUITimeStamp = ms:GetCustomDataAsFloat()
			local iDelta = GetAccumTime() - StartUITimeStamp
			local msLoc = ms:GetLocation()

			if StartUIState == 1 then
				local iX = 149
				if iDelta > g_mode6_SelectSuccessStep1Time then
					StartUIState = StartUIState + 1
					StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/g_mode6_SelectSuccessStep1Time*600
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif StartUIState == 2 then
				if iDelta > g_mode6_SelectSuccessStep2Time then
					StartUIState = StartUIState + 1
					StartUITimeStamp = GetAccumTime()
				end
			elseif StartUIState == 3 then
				local iX = -330
				if iDelta > g_mode6_SelectSuccessStep3Time then
					StartUIState = StartUIState + 1
					StartUITimeStamp = GetAccumTime()
				else
					iX = 149 + iDelta/g_mode6_SelectSuccessStep3Time*754
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif StartUIState == 4 then
				UISelf:Close()
			end
			
			UISelf:SetCustomDataAsInt(StartUIState)
			ms:SetCustomDataAsFloat(StartUITimeStamp)
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			UISelf:CloseParent()
			GetEventTimer():Del("DEFENCE_F6_START_NEXTSTAGE")
			StartNextStage()
		</SCRIPT>
	</FORM>
	
	<!--    (3 .. 2.. 1.. ) -->
	<FORM ID="FRM_DEFENCE_WAVE_LEFT">
		<IMG ID = "IMG_KEY">					
			<ATTR X = "100" Y = "459" W="50" H="50" IMG = "../Data/6_ui/mission/msNumRed.tga" IMG_W = "250" IMG_H = "100"/>
			<ATTR U="5" V="2" />
			<SCRIPT ID = "ON_CALL">
				UISelf:SetUVIndex(4)
				UISelf:SetCustomDataAsInt(1.0)
			</SCRIPT>
			<SCRIPT ID = "ON_TICK">
				UVAnimationRevers(UISelf, 1, 4, 1, 1)
				if ( UISelf:GetUVIndex() == 1 ) then
					UISelf:SetUVIndex(4)
					UISelf:CloseParent()
				end
				
				local fRatio = UISelf:GetCustomDataAsInt()
				fRatio = fRatio-0.1
				UISelf:SetAlpha(0)
			</SCRIPT>
		</IMG>
		<SCRIPT ID="ON_CLOSE">
			Send_PT_C_M_NFY_DEFENCE_WAVE()
		</SCRIPT>
	</FORM>
	
	<FORM ID="FRM_DEFENCE_WAVE_RIGHT">
		<IMG ID = "IMG_KEY">					
			<ATTR X = "840" Y = "459" W="50" H="50" IMG = "../Data/6_ui/mission/msNumRed.tga" IMG_W = "250" IMG_H = "100"/>
			<ATTR U="5" V="2" />
			<SCRIPT ID = "ON_CALL">
				UISelf:SetUVIndex(4)
			</SCRIPT>
			<SCRIPT ID = "ON_TICK">
				UVAnimationRevers(UISelf, 1, 4, 1, 1)
				if ( UISelf:GetUVIndex() == 1 ) then
					UISelf:SetUVIndex(4)
					UISelf:CloseParent()
				end
			</SCRIPT>
		</IMG>
		<SCRIPT ID="ON_CLOSE">
			Send_PT_C_M_NFY_DEFENCE_WAVE()
		</SCRIPT>
	</FORM>	
	
	<!--     -->
	<FORM ID="FRM_DEFENCE_MISSION_END">
		<SCRIPT ID="ON_CALL">
			LockGlobalHotKey(false)
			UISelf:CloseParent()
			Net_RecentMapMove()
		</SCRIPT>
	</FORM>
	
	<!--   . -->
	<FORM ID="FRM_DEFENCE_STAGE_END">
		<SCRIPT ID="ON_CALL">
			UISelf:CloseParent()
			local kPacket = NewPacket(13475)
			Net_Send(kPacket)
		</SCRIPT>
	</FORM>
	
	<!--   .-->
	<FORM ID="FRM_DEFENCE_MISSION_START">
		<SCRIPT ID="ON_CALL">
			UISelf:CloseParent()
			local kWndHp = ActivateUI("FRM_MISSION_DEFENCE_HP_BAR")
			
			local MyActor = GetMyActor()
			if MyActor:IsNil() == false then
				local ObjectGuid = nil
				if 2 == MyActor:GetAbil(AT_TEAM) then
					ObjectGuid = g_ObjectGuid2
				else
					ObjectGuid = g_ObjectGuid1
				end
				
				if nil~=ObjectGuid then
					SetMission_Defence_Hp(ObjectGuid,kWndHp)
				end
			end
			CallDefenceRewardText()
			ActivateUI("SFRM_MISSION_ADD_EXP")
			SetDefenceBonusExp(0)			
			CallDefenceMiniCard()
			SetMissionStageData(g_iMissionStage+1, g_iMissionStageCount+1)
			g_iMissionWave = g_iMissionWave+1
			if (1 == g_iDirection) then
				ActivateUI("FRM_DEFENCE_LEFT")
			else
				ActivateUI("FRM_DEFENCE_RIGHT")
			end
			ShowUI_RestMonsterNum(g_RestMonsterNum)
			SetResultStage()
		</SCRIPT>
	</FORM>

	<!--    .-->
	<FORM ID="FRM_DEFENCE_MISSION_F7_START" ALIVE_TIME="1">
		<SCRIPT ID="ON_CALL">
			local iNowStage = g_iMissionStage+1

			CallDefenceRewardText()
			CallDefenceMiniCard()
			CallDefenceMissionReward(iNowStage,g_iMissionStageCount)
			local kWndHp = ActivateUI("FRM_DEFENCE_F7_CENTER_INFO")
			
			local MyActor = GetMyActor()
			if MyActor:IsNil() == false then
				if 2 == MyActor:GetAbil(AT_TEAM) then
					SetMission_Defence_Hp(g_ObjectGuid2,kWndHp)
				else
					SetMission_Defence_Hp(g_ObjectGuid1,kWndHp)
				end
			end			
			
			SetMissionStageData(g_iMissionStage+1, g_iMissionStageCount+1)
			g_iMissionWave = g_iMissionWave+1
			
			
			ActivateUI("FRM_MODE7_NEXTWAVE")
			
			g_fMissionStartTime = GetCurrentTimeInSec()
		</SCRIPT>
	</FORM>
	
	<FORM ID="FRM_MISSION_START_F7" ALIVE_TIME="1">
		<SCRIPT ID="ON_CLOSE">
			local packet = NewPacket(13515) --[[PT_C_M_REQ_MISSION_START]]
			Net_Send(packet)
			DeletePacket(packet)
		</SCRIPT>
	</FORM>

	<FORM ID = "FRM_DEFENCE_TIMELIMIT">
		<ATTR ALIGN_X="50" ALIGN_Y="20" W="700" H="300" PASS_EVENT = "1"/>	
		<FORM ID = "FRM_COUNT">
			<ATTR X="450" Y="0" W="256" H="170" />
			<FORM ID = "FRM_TEN">
				<ATTR X="0" Y="0" W="128" H="170" />
				<ATTR IMG = "../Data/6_ui/mission/msNum.tga" IMG_W = "512" IMG_H = "510" U = "4" V = "3" CAN_COLOR_CHANGE="1"/>
			</FORM>
			<FORM ID = "FRM_ONE">
				<ATTR X="128" Y="0" W="128" H="170" />
				<ATTR IMG = "../Data/6_ui/mission/msNum.tga" IMG_W = "512" IMG_H = "510" U = "4" V = "3" CAN_COLOR_CHANGE="1"/>
			</FORM>
			<SCRIPT ID = "ON_TICK">
				if g_fDeadTime ~= nil then
					local loc = UISelf:GetLocation()
					local MinWall = 225
					if false == g_wndTen:IsVisible() then
						MinWall = MinWall - 64
					end
					if loc:GetX() > MinWall then
						loc:IncX(-30)
						UISelf:SetLocation(loc)
					else
						if g_bDeadQuake == false then
							QuakeCamera(0.3, 1.5-g_fDeadCount*0.04)
							g_bDeadQuake = true
						end
						loc:SetX(MinWall)
						UISelf:SetLocation(loc)
					end
					if GetAccumTime() - g_fDeadTime >= 1 then
						g_fDeadTime = GetAccumTime()
						g_fDeadCount = g_fDeadCount - 1
						if g_fDeadCount == -1 then
							CloseUI("FRM_DEFENCE_TIMELIMIT")
							return
						end
						g_iTenNum = math.floor(g_fDeadCount / 10)
						g_iOneNum = math.floor(g_fDeadCount % 10) + 1
						if (false == g_wndTen:IsNil()) and (true == g_wndTen:IsVisible()) and (g_iTenNum > 0) then
							g_wndTen:SetUVIndex(g_iTenNum + 1)
						elseif (nil ~= g_wndTen) then
							g_wndTen:Visible(false)
						end
						if false == g_wndOne:IsNil() then
							g_wndOne:SetUVIndex(g_iOneNum)
						end
						g_bDeadQuake = false
						loc:SetX(450)
						UISelf:SetLocation(loc)

						local SoundID = "PVP_Count_" .. "0" .. g_iOneNum-1
						PlaySoundByID(SoundID)
					else
					
					end
				end
			</SCRIPT>
			<SCRIPT ID = "ON_CALL">
				g_wndTen = UISelf:GetControl("FRM_TEN")
				g_wndOne = UISelf:GetControl("FRM_ONE")
				g_bDeadQuake = false
				g_fDeadTime = GetAccumTime()
				g_fDeadCount = 10
				g_iTenNum = math.floor(g_fDeadCount / 10)
				g_iOneNum = math.floor(g_fDeadCount % 10) + 1
				if (false == g_wndTen:IsNil()) and (g_iTenNum > 0) then
					g_wndTen:Visible(true)
					g_wndTen:SetUVIndex(g_iTenNum + 1)
					g_wndTen:SetColor(16713533)					
				end
				if false == g_wndOne:IsNil() then
					g_wndOne:SetUVIndex(g_iOneNum)
					g_wndOne:SetColor(16713533)
				end
				QuakeCamera(0.3, 1.5-g_fDeadCount*0.1)
				PlaySoundByID("PVP_Count_10")
			</SCRIPT>
		</FORM>	
	</FORM>
	
	<FORM ID = "FRM_DEFENCE_LEFT">
		<ATTR ALIGN_X = "0" ALIGN_Y = "50" W ="230" H ="153" />
		<ATTR ALIVE_TIME="3000" ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID = "IMG_RUN">
			<ATTR X="100" Y="0" W="140" H="153" IMG="../Data/6_ui/mission/msGoMonster.tga" IMG_W="420" IMG_H="459" />
			<ATTR U="3" V="3" />
		</IMG>
		<IMG ID = "IMG_ARROW">
			<ATTR X="10" Y="45" W="80" H="62" IMG="../Data/6_ui/mission/msGoArrow2.tga" IMG_W="160" IMG_H="124" />
			<ATTR U="2" V="2" />
		</IMG>
		<SCRIPT ID = "ON_CALL">		
			iGOGONum = 1
			iArrowNum = 1
			fGOGOTime = GetAccumTime()
			fArrowTime = GetAccumTime()
					
			local GoRun = UISelf:GetControl("IMG_RUN")
			local GoArrow = UISelf:GetControl("IMG_ARROW")
			GetEventTimer():Add("DEFENCE_LEFT", UISelf:GetAliveTime()/1000, "Send_PT_C_M_NFY_DEFENCE_WAVE()", 1, false)
		</SCRIPT>	
		<SCRIPT ID = "ON_DISPLAY">		
			wndRun = UISelf:GetControl("IMG_RUN")
			wndArrow = UISelf:GetControl("IMG_ARROW")
			if wndRun:IsNil() == false then
				if fGOGOTime ~= nil and GetAccumTime() - fGOGOTime > 0.1 then
					if iGOGONum ~= nil then
						iGOGONum = iGOGONum + 1
						if iGOGONum > 7 then
							iGOGONum  = 1
						end
						fGOGOTime = GetAccumTime()
						wndRun:SetUVIndex(iGOGONum)
					end
				end
			end
			if wndArrow:IsNil() == false then
				if fArrowTime ~= nil and GetAccumTime() - fArrowTime > 0.08 then
					if iArrowNum ~= nil then
						iArrowNum = iArrowNum + 1
						if iArrowNum > 3 then
							iArrowNum  = 1
						end
						fArrowTime = GetAccumTime()
						wndArrow:SetUVIndex(iArrowNum)
					end
				end
			end
		</SCRIPT>		
	</FORM>	
	
	<FORM ID = "FRM_DEFENCE_RIGHT">
		<ATTR ALIGN_X = "95" ALIGN_Y = "50" W ="230" H ="153" />
		<ATTR ALIVE_TIME="3000" ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID = "IMG_RUN">
			<ATTR X="0" Y="0" W="140" H="153" IMG="../Data/6_ui/mission/msGoMonster.tga" IMG_W="420" IMG_H="459" />
			<ATTR U="3" V="3" />
		</IMG>
		<IMG ID = "IMG_ARROW">
			<ATTR X="141" Y="45" W="80" H="62" IMG="../Data/6_ui/mission/msGoArrow.tga" IMG_W="160" IMG_H="124" />
			<ATTR U="2" V="2" />
		</IMG>
		<SCRIPT ID = "ON_CALL">		
			iGOGONum = 1
			iArrowNum = 1
			fGOGOTime = GetAccumTime()
			fArrowTime = GetAccumTime()
			GetEventTimer():Add("DEFENCE_RIGHT", UISelf:GetAliveTime()/1000, "Send_PT_C_M_NFY_DEFENCE_WAVE()", 1, false)
		</SCRIPT>	
		<SCRIPT ID = "ON_DISPLAY">		
			wndRun = UISelf:GetControl("IMG_RUN")
			wndArrow = UISelf:GetControl("IMG_ARROW")
			if wndRun:IsNil() == false then
				if fGOGOTime ~= nil and GetAccumTime() - fGOGOTime > 0.1 then
					if iGOGONum ~= nil then
						iGOGONum = iGOGONum + 1
						if iGOGONum > 7 then
							iGOGONum  = 1
						end
						fGOGOTime = GetAccumTime()
						wndRun:SetUVIndex(iGOGONum)
					end
				end
			end
			if wndArrow:IsNil() == false then
				if fArrowTime ~= nil and GetAccumTime() - fArrowTime > 0.08 then
					if iArrowNum ~= nil then
						iArrowNum = iArrowNum + 1
						if iArrowNum > 3 then
							iArrowNum  = 1
						end
						fArrowTime = GetAccumTime()
						wndArrow:SetUVIndex(iArrowNum)
					end
				end
			end
		</SCRIPT>
	</FORM>	

	<FORM ID="FRM_MODE7_NEXTWAVE" X="850" Y="410" W="140" H="153">
		<ATTR ALIVE_TIME="2000" ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID="IMG_RUN" X="0" Y="0" W="140" H="153" IMG="../Data/6_ui/mission/msGoMonster.tga" IMG_W="420" IMG_H="459" U="3" V="3"/>
		<SCRIPT ID = "ON_CALL">
			iGOGONum = 1
			iArrowNum = 1
			fGOGOTime = GetAccumTime()
			fArrowTime = GetAccumTime()
			GetEventTimer():Add("DEFENCE_MODE7_NEXTWAVE", UISelf:GetAliveTime()/1000, "Send_PT_C_M_NFY_DEFENCE_WAVE()", 1, false)
		</SCRIPT>	
		<SCRIPT ID = "ON_DISPLAY">
			wndRun = UISelf:GetControl("IMG_RUN")
			if wndRun:IsNil() == false then
				if fGOGOTime ~= nil and GetAccumTime() - fGOGOTime > 0.1 then
					if iGOGONum ~= nil then
						iGOGONum = iGOGONum + 1
						if iGOGONum > 7 then
							iGOGONum  = 1
						end
						fGOGOTime = GetAccumTime()
						wndRun:SetUVIndex(iGOGONum)
					end
				end
			end
		</SCRIPT>
	</FORM>	

	<FORM ID = "FRM_DEFENCE_MINICARD" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR X = "801" ALIGN_Y = "0" W ="217" H ="176"/>
		<ATTR TEXT = "" FONT = "Font_Text" T_X = "8" T_Y ="10" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		<FORM ID = "FRM_BG">
			<ATTR X = "11" Y = "50" W = "207" H = "113" IMG = "../Data/6_ui/mission/msIngTxtBg.tga" IMG_W = "207" IMG_H = "113"/>
			<ATTR TEXT = "" FONT = "Font_Text" T_X = "8" T_Y ="7" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
			<FORM ID = "FRM_DIFF"> 
				<ATTR X = "8" Y = "40" W = "200" H = "21"/>
				<ATTR TEXT = "400201" FONT = "Font_Text" T_X = "0" T_Y ="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
			</FORM>
			<BUILD TARGET_ID = "FRM_STAR" X = "54" Y = "40" X_COUNT = "4" Y_COUNT = "1" X_GAB = "16" Y_GAB = "0"/>
			<FORM ID = "FRM_STAR">
				<ATTR X="0" Y="0" W="14" H="14"/>
				<ATTR IMG = "../Data/6_ui/mission/msStar.tga" IMG_W = "14" IMG_H = "14"/>
				<SCRIPT ID = "ON_CALL"> UISelf:Visible(false) </SCRIPT>
			</FORM>
			<FORM ID = "FRM_MEMBER">
				<ATTR X = "8" Y = "58" W ="131" H ="20" />
				<ATTR TEXT = "" FONT = "Font_Text" T_X = "0" T_Y ="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
			</FORM>
			<BUTTON ID = "BTN_EXIT">
				<ATTR X="66" Y="79" W="84" H="26"/>
				<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
				<ATTR TEXT = "400220" FONT = "Font_Text" T_X = "40" T_Y ="4" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
				<SCRIPT ID = "ON_L_BTN_DOWN">
					ODS("Get_CMP_STATE " .. Get_CMP_STATE() .."\n")
					CallUI("SFRM_MSG_RANDOM_EXIT") 
				</SCRIPT>
			</BUTTON>
		</FORM>
		
		<SCRIPT ID = "ON_CALL"> 
			CloseCurrentMiniMap()
		</SCRIPT>
		<SCRIPT ID = "ON_TICK">
			local kSelf = UISelf
			if misdiff == 7 then
				return true
			end
			if kSelf:GetCustomDataAsInt() ~= g_mapNo then
				CloseCurrentMiniMap()
				ODS("Map Change \n", false, 1)
				kSelf:SetCustomDataAsInt(g_mapNo)
				local kMapName = GetDefString( g_mapNo )
				if kMapName == nil or kMapName == "" then kMapName = "" end
				kSelf:GetControl("FRM_BG"):SetStaticText(GetTextW(400218):GetStr() .. kMapName )
			end
		</SCRIPT>
	</FORM>
	
	<FORM ID = "FRM_MISSION_DEFENCE_TIMER" IS_ABSOLUTE_Y="1">
		<ATTR X = "807" Y = "162" Z = "1" W ="202" H ="59" />
		<IMG ID = "IMG_BG1">
			<ATTR X = "0" Y = "0" Z ="-1" W = "217" H= "56" IMG="../Data/6_ui/mission/msTimeBgR.tga" IMG_W="217" IMG_H="56" />
		</IMG>
		<FORM ID="FRM_MIN10" X="32" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_MIN1" X="55" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<IMG ID="IMG_TIMER_SEP" X="87" Y="15" Z="0" W="11" H="25" IMG="../Data/6_ui/mission/msTimeYdot.tga" IMG_W="11" IMG_H="25" />
		<FORM ID="FRM_SEC10" X="92" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_UI/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_SEC1" X="115" Y="5" Z="0" W="40" H="40" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmY.tga" IMG_W="200" IMG_H="80" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<!--<IMG ID="IMG_TIMER_SEP1" X="144" Y="11" Z="0" W="16" H="250" IMG="../Data/6_ui/mission/msTmPt.tga" IMG_W="16" IMG_H="29" />-->
		<FORM ID="FRM_SEC1000" X="142" Y="18" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmYs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<FORM ID="FRM_SEC100" X="156" Y="18" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_ui/mission/msNumTmYs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1"/>
		</FORM>
		<SCRIPT ID = "ON_DISPLAY"> DisplayMissionScenarioTimer(UISelf) </SCRIPT>
		<SCRIPT ID = "ON_CLOSE"> 
			g_iMissionTime = 0 
			g_iMissionTotalTime = 0
		</SCRIPT>
		<SCRIPT ID = "ON_ACTIVATE">
			local Loc = UISelf:GetLocation()
			if g_bConstellationMission then
				Loc:SetY(174)
			else
				Loc:SetY(162)
			end
			UISelf:SetLocation(Loc)
		</SCRIPT>
		<SCRIPT ID = "ON_CALL"> 
			g_fMissionStartTime = GetCurrentTimeInSec()
		</SCRIPT>
	</FORM>	
	
	<FORM ID = "FRM_POINT_RESULT">
		<ATTR ALIGN_X = "50" Y = "120" W = "1023" H = "38" PRIORITY="99" FONT = "Font_GuildName" T_CENTER="1" T_X="512" TEXT = "401193" FONT_COLOR_HEX="0xFFFFF97B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
	</FORM>
	
	<FORM ID = "FRM_DEFENCE_RESULT_EXP">
		<ATTR ALIGN_X = "50" Y = "255" W = "1023" H = "38" PRIORITY="99" FONT = "Font_GuildName" T_CENTER="1" T_X="512" TEXT = "400964" FONT_COLOR_HEX="0xFFFFF97B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
	</FORM>
	<FORM ID = "FRM_ADD_RESUILTITEM">
		<ATTR ALIGN_X = "50" Y = "255" W = "1023" H = "38" PRIORITY="99" FONT = "Font_GuildName" T_CENTER="1" T_X="512" TEXT = "400964" FONT_COLOR_HEX="0xFFFFF97B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
	</FORM>
	
	<FORM ID = "IMG_DEFENCE_REWARD_STAGE">
		<ATTR ALIGN_X = "50" Y="248" W="488" H="63" IS_VISIBLE = "0"/>
		<IMG ID = "IMG_BG">
			<ATTR X = "0" Y="0" W="488" H="63" IMG = "../Data/6_ui/mission/msNewbosang.tga" IMG_W = "488" IMG_H = "63" CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		</IMG>
		<FORM ID = "FRM_TEXT_REWARD">
			<ATTR X = "0" Y = "13" W = "488" H = "50" T_X="244" T_CENTER="1" FONT = "FT30" TEXT = "400965" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
	</FORM>

	<FORM ID="FRM_MISSION_STAGE_SUBINFO" PRIORITY="99" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR ALIGN_X="50" Y="365" W="1024" H="28" IS_ABSOLUTE_Y="1"/>
		<FORM ID="FRM_TEXT" X="312" Y="0" W="400" H="28">
			<ATTR FONT="Font_GuildName" TEXT="401120" T_X="200" T_CENTER="1" FONT_COLOR_HEX="0xFFFFF97B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
	</FORM>

	<FORM ID="FRM_STRATAGEMISSION_STAGE_END" ALIVE_TIME="1">
		<SCRIPT ID="ON_CALL">
			CloseUI("FRM_DEFENCE_NEXT_DELAY")
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			local packet = NewPacket(13489) --[[PT_C_M_REQ_DEFENCE_SELECT_CLOSE]]
			Net_Send(packet)
			DeletePacket(packet)
		</SCRIPT>
	</FORM>
	
	<FORM ID="FRM_MISSION_RESULT_ITEM" X="323" Y="260" Z="3" W="394" H="148" ALIVE_TIME="10000">
		<ATTR ALIVE_TIME_IGNORE_MOUSE_OVER="1" IMG="../Data/6_ui/etc/etcItPopS.tga" IMG_W="394" IMG_H="148"/>
		<ATTR TEXT="" FONT="FTcts_16" T_X="195" T_Y="72" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1"/>
		<SCRIPT ID="ON_CALL">--PlaySoundByID("Item_Mix_Success")</SCRIPT>
		<IMG ID="ICN_ITEM" X="166" Y="3" W="60" H="60">
			<ATTR TEXT="" FONT="FTcts_16" T_X="58" T_Y="40" T_RIGHT="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1"/>
			<SCRIPT ID="ON_MOUSE_OVER">OnCallQuestRewardItemToolTip(UISelf)</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</IMG>
		<FORM ID="FRM_UIMODEL" X="-190" Y="-355" W="768" H="768" IGNORE_PARENT_RECT="1" NO_FOCUS="1" PASS_EVENT="1">
			<SCRIPT ID="ON_CREATE">
				local kSelf = UISelf
				kSelf:InitRenderModel("MazeItemEffect", true, true)
				kSelf:SetRenderModelCameraZoomMinMax("MazeItemEffect", 0.1, 1.0)
			</SCRIPT>
			<SCRIPT ID="ON_CALL">
				local kSelf = UISelf
				kSelf:RenderModelOrthoCameraZoomSubstitutionOldVer("MazeItemEffect", 0.5)
				kSelf:AddRenderModelNIFByPath("MazeItemEffect", "MazeMixEffect", "../Data/5_Effect/4_UI/ef_combination_01.nif", false, true)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">UISelf:DrawRenderModel("MazeItemEffect")</SCRIPT>
			<SCRIPT ID="ON_DISPLAY">UISelf:AddToDrawListRenderModel("MazeItemEffect")</SCRIPT>
			<SCRIPT ID="ON_CLOSE">UISelf:ClearRenderModel("MazeItemEffect")</SCRIPT>
		</FORM>
	</FORM>	
	
	<FORM ID = "FRM_MISSION_DEFENCE_HP_BAR" IS_ABSOLUTE_Y="1">
		<ATTR ALIGN_X="45" Y = "75" Z = "0" W ="290" H ="40" CAN_DRAG="0" IS_ABSOLUTE_Y="1" />
		<ATTR ALIVE_TIME_IGNORE_MOUSE_OVER="1"/>
		<IMG ID = "IMG_ICON">
			<ATTR X = "0" Y = "30" Z ="0" W = "68" H= "65" IMG="../Data/6_ui/mission/msDfsLft.tga" IMG_W="68" IMG_H="65" />
		</IMG>		
		<IMG ID = "IMG_BG">
			<ATTR X = "29" Y = "43" Z ="0" W = "290" H= "40" IMG="../Data/6_ui/mission/msDfsBarBg.tga" IMG_W="290" IMG_H="40" />
		</IMG>	
				
<!--		<IMG ID="BG"> 
			<ATTR X = "370" Y ="128" W="265" H="18"/>
			<ATTR IMG = "../Data/6_ui/mission/msDfsBarImg.tga" IMG_W ="265" IMG_H ="180" />
			<ATTR U ="1" V ="1"/>
		</IMG>		-->

		<ANI_BAR ID="BAR_HP">
			<ATTR X = "43" Y ="54" W="265" H="18"/>
			<ATTR U ="1" V ="10" UV_INDEX = "10"/>
			<ATTR BAR_COUNT = "10" BAR_TYPE = "3"/>
			<ATTR BAR_IMG ="../Data/6_ui/mission/msDfsBarImg.tga" BAR_IMG_W = "265" BAR_IMG_H = "180"/>
			<ATTR TEXT="" FONT="Font_Text" T_X="132" T_Y="1" T_OUTLINE ="1" T_CENTER ="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</ANI_BAR>
		<SCRIPT ID="ON_DISPLAY">DisplayHpGaugeBar(UISelf)</SCRIPT>		
	</FORM>

	<FORM ID="FRM_DEFENCE_STAGE_DATA" X="802" Y="0" IS_ABSOLUTE_Y="1" W="222" H="56" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR IMG="../Data/6_ui/mission/msNewMdStage.tga" IMG_W="222" IMG_H="56"/>
		<FORM ID="FRM_TEXT" X="30" Y="11" W="100" H="28" FONT="Ftlevel" TEXT="400961" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_STAGE" TEXT="400935" X="0" Y="0" T_X="160" T_Y="7" T_CENTER="1" W="200" H="28" FONT="Font_GuildName" FONT_COLOR_HEX="0xFF00FFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
	</FORM>
	<FORM ID="FRM_DEFENCE_STAGE_INFO" X="807" Y="50" IS_ABSOLUTE_Y="1" W="207" H="105" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR IMG="../Data/6_ui/mission/msNew2EpBg2.tga" IMG_W="217" IMG_H="105"/>
		<FORM ID="FRM_POS" X="8" Y="5" W="100" H="21" TEXT="400936" FONT="FTcts_13" T_X="0" T_Y="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFF7EA96"/>
		<FORM ID="FRM_MOD" X="8" Y="23" W="100" H="21" TEXT="400970" FONT="FTcts_13" T_X="0" T_Y="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFF7EA96"/>
		<FORM ID="FRM_EXP" X="8" Y="41" W="100" H="21" TEXT="750038" FONT="FTcts_13" T_X="0" T_Y="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFF7EA96"/>
		<FORM ID="FRM_POS_TEXT" X="50" Y="5" W="200" H="21" TEXT="800000" FONT="FTcts_13" T_X="0" T_Y="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFBC7">
			<SCRIPT ID="ON_CALL">UISelf:SetStaticTextW( GetMapNameW(g_mapNo) )</SCRIPT>
		</FORM>
		<FORM ID="FRM_MOD_TEXT" X="50" Y="23" W="200" H="21" TEXT="400956" FONT="FTcts_13" T_X="0" T_Y="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFBC7">
			<SCRIPT ID="ON_CALL">
				local iTTNo = 400956
				if IsStrategyDefenceMode() then
					iTTNo = 401149
				end
				UISelf:SetStaticTextW( GetTT(iTTNo) )
			</SCRIPT>
		</FORM>
		<FORM ID="FRM_EXP_TEXT" X="50" Y="41" W="200" H="21" TEXT="" FONT="FTcts_13" T_X="0" T_Y="0" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFBC7">
			<SCRIPT ID="ON_CALL">
				if g_Defence7ModeExpStr then
					UISelf:SetStaticText(" "..g_Defence7ModeExpStr:GetStr())
				end
			</SCRIPT>
		</FORM>

		<BUTTON ID="BTN_EXIT" X="66" Y="69" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="400334" FONT="Font_Text" T_X="40" T_Y="4" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">CallUI("SFRM_MSG_RANDOM_EXIT")</SCRIPT>
		</BUTTON>
	</FORM>	

	<FORM ID="FRM_DEFENCE_MISSION_RESULT" X="834" Y="570" W="186" H="126" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR IMG="../Data/6_ui/mission/msNew2ItemBg.tga" IMG_W="186" IMG_H="126"/>
		<ATTR TEXT="400940" FONT="FTcts_13" T_X="93" T_Y="8" T_OUTLINE="1" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		<BUILD ID="BLD_ITEM" TARGET_ID="ICN_ITEM" X="23" Y="40" X_COUNT="3" Y_COUNT="1" X_GAB="50" Y_GAB="0"/>
		<ICON ID="ICN_ITEM" X="0" Y="0" Z="1" W="42" H="42" ICON_GRP="254" ICON_STATIC="1" IGNORE_PARENT_RECT="1">
			<IMG ID="IMG_BG" X="0" Y="0" Z="-1" W="42" H="42" IMG="../Data/6_ui/TrueTw/ttXimg.tga" IMG_W="42" IMG_H="42"/>
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		
		<BUILD ID="BLD_ARROW" TARGET_ID="FRM_ARROW" X="33" Y="25" X_COUNT="3" Y_COUNT="1" X_GAB="50" Y_GAB="0"/>
		<FORM ID="FRM_ARROW" X="0" Y="0" W="20" H="25">
			<ATTR IMG="../Data/6_UI/main/mnNpcArw.tga" IMG_W="40" IMG_H="50" U="2" V="2"/>
			<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.14)</SCRIPT>
		</FORM>

		<FORM ID="FRM_TEXT" X="0" Y="85" W="186" H="30" T_X="93" T_Y="6" T_CENTER="1" FONT="Font_Chat" TEXT="400943" T_OUTLINE="1"/>
	</FORM>

	<FORM ID="FRM_DEFENCE_F7_CENTER_INFO" ALIGN_X="45" Y="37" IS_ABSOLUTE_Y="1" Z="0" PASS_EVENT="1" NO_FOCUS="1">
<LOCAL>
	<NAME ID="DEFAULT">
		<ATTR W="403" H="86" IMG="../Data/6_ui/mission/msNew2bar02_2.tga" IMG_W="403" IMG_H="86"/>
	</NAME>
	<NAME ID="DEVELOP">
		<ATTR W="403" H="112" IMG="../Data/6_ui/mission/msNew2bar02.tga" IMG_W="403" IMG_H="112"/>
	</NAME>
</LOCAL>
		<IMG ID="IMG_ICON" X="51" Y="-5" W="50" H="50" IMG="../Data/6_ui/mission/msNew2img.tga" IMG_W="50" IMG_H="50"/>
		<ANI_BAR ID="BAR_HP" X="92" Y="19" W="265" H="18">
			<ATTR U="1" V="10" UV_INDEX="10"/>
			<ATTR BAR_COUNT="10" BAR_TYPE="3"/>
			<ATTR BAR_IMG="../Data/6_ui/mission/msDfsBarImg.tga" BAR_IMG_W="265" BAR_IMG_H="180"/>
			<ATTR TEXT="400999" FONT="Font_Text" T_X="10" T_Y="1" T_OUTLINE ="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</ANI_BAR>
		<FORM ID="FRM_POINT_TEXT" X="110" Y="40" W="100" H="21" TEXT="400939" FONT="FTctsBig_14" T_RIGHT="1" T_X="66" T_Y="10" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFBC7"/>
		<!--FORM ID="FRM_POINT_RED" X="195" Y="40" W="100" H="21" TEXT="420011" FONT="Font_Text" T_X="0" T_Y="5" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFF45C"/-->
		<FORM ID="FRM_POINT_RED" X="207" Y="40" W="100" H="41">
			<FORM ID="FRM_EXP_NUMBER" X="0" Y="0" Z="1" W="217" H="106">
				<IMG ID="IMG_BG1" X="0" Y="0" Z="-1" W="217" H="56">
					<SCRIPT ID="ON_CALL">UISelf:SetCustomDataAsInt(0)</SCRIPT>
				</IMG>

				<BUILD ID="BLD_NUM" TARGET_ID="FRM_" X="90" Y="3" X_COUNT="6" Y_COUNT="1" X_GAB="-22" Y_GAB="0"/>
				<FORM ID="FRM_" X="0" Y="0" Z="0" W="35" H="35" IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1">
					<IMG ID="FRM_UPDATE">
						<SCRIPT ID="ON_TICK">UpdateDefenceExpAni(UISelf,true)</SCRIPT>
						<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
					</IMG>
				</FORM>
				<SCRIPT ID = "ON_TICK">
					local kSelf = UISelf
					local WndBG = kSelf:GetControl("IMG_BG1")
					if WndBG:IsNil() == true then
						return
					end
					local iMaxNum = 6
					if 1 == WndBG:GetCustomDataAsInt() then
						StartDefenceBonusExp(kSelf, 0.08, iMaxNum)
					end
					
					if 2 == WndBG:GetCustomDataAsInt() then
						StopDefenceBonusExp(kSelf, 0.08, iMaxNum)
					end
				</SCRIPT>
			</FORM>
			<SCRIPT ID = "ON_CALL">
				UISelf:SetCustomDataAsInt(0)
				SetDefencePoint(UISelf,0)
			</SCRIPT>
		</FORM>
<LOCAL>
	<NAME ID="DEFAULT">
		<FORM ID="FRM_TIMELIMIT"/>
	</NAME>
	<NAME ID="DEVELOP">
		<FORM ID="FRM_TIMELIMIT" X="93" Y="54" W="150" H="40" TICK_TIME="40" NO_FOCUS="1">
			<IMG ID="FRM_HOUR10" X="17" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_HOUR1" X="37" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="IMG_DOT1" X="61" Y="32" W="10" H="20" IMG="../Data/6_ui/mission/msTimeYdot2.tga" IMG_W="10" IMG_H="20" NO_FOCUS="1"/>
			<IMG ID="FRM_MIN10" X="63" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_MIN1" X="83" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="IMG_DOT2" X="107" Y="32" W="10" H="20" IMG="../Data/6_ui/mission/msTimeYdot2.tga" IMG_W="10" IMG_H="20" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC10" X="109" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC1" X="129" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC1000" X="149" Y="32" W="25" H="25" IMG="../Data/6_ui/mission/msNumTmYs2.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC100" X="164" Y="32" W="25" H="25" IMG="../Data/6_ui/mission/msNumTmYs2.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<SCRIPT ID="ON_TICK">DisplayMissionTimer(UISelf)</SCRIPT>
		</FORM>
	</NAME>
</LOCAL>
		<SCRIPT ID="ON_DISPLAY">
			DisplayHpGaugeBar(UISelf)
		</SCRIPT>
		<SCRIPT ID="ON_CALL">DisplayStrategicPoint(UISelf)</SCRIPT>
	</FORM>

	<FORM ID="FRM_DEFENCE_F8_TOP_INFO" X="319" Y="0" W="387" H="46" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR IMG="../Data/6_ui/mission/msNewTop.tga" IMG_W="387" IMG_H="46"/>
		<ATTR TEXT="400941" FONT="Font_Text" T_X="193" T_Y="10" T_OUTLINE="1" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		<ICON ID="ICN_ITEM_LEFT" X="1" Y="1" W="42" H="42" ICON_GRP="254" ICON_STATIC="1" IGNORE_PARENT_RECT="1">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>	
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		<ICON ID="ICN_ITEM_RIGHT" X="346" Y="1" W="42" H="42" ICON_GRP="254" ICON_STATIC="1" IGNORE_PARENT_RECT="1">
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		<FORM ID="FRM_POINT_LEFT" X="47" Y="7" W="90" H="21" TEXT="420011" FONT="FTcts_16" T_X="45" T_Y="0" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFFEC6941"/>
		<FORM ID="FRM_POINT_RIGHT" X="248" Y="7" W="90" H="21" TEXT="420011" FONT="FTcts_16" T_X="45" T_Y="0" T_CENTER="1" T_OUTLINE="1" FONT_COLOR_HEX="0xFF10C0E7"/>
	</FORM>
	<FORM ID="FRM_DEFENCE_F8_CENTER_INFO" X="311" Y="37" W="403" H="97" PASS_EVENT="1" NO_FOCUS="1">
		<ATTR IMG="../Data/6_ui/mission/msNew2bar01.tga" IMG_W="403" IMG_H="97"/>
		<IMG ID="IMG_ICON" X="177" Y="-5" W="50" H="50" IMG="../Data/6_ui/mission/msNew2img.tga" IMG_W="50" IMG_H="50"/>
		<ANI_BAR ID="BAR_HP_LEFT" X="11" Y="19" W="174" H="18">
			<ATTR U="1" V="2" UV_INDEX="1"/>
			<ATTR BAR_COUNT="1" BAR_TYPE="3" BAR_REVERSE="1"/>
			<ATTR BAR_IMG="../Data/6_ui/mission/msNew2bar.tga" BAR_IMG_W="174" BAR_IMG_H="36"/>
			<SCRIPT ID="ON_CALL">UISelf:</SCRIPT>
		</ANI_BAR>
		<ANI_BAR ID="BAR_HP_RIGHT" X="218" Y="19" W="174" H="18">
			<ATTR U="1" V="2" UV_INDEX="2"/>
			<ATTR BAR_COUNT="1" BAR_TYPE="3"/>
			<ATTR BAR_IMG="../Data/6_ui/mission/msNew2bar.tga" BAR_IMG_W="174" BAR_IMG_H="36"/>
		</ANI_BAR>

		<FORM ID="FRM_POINT_TEXT" X="0" Y="45" W="403" H="21" TEXT="400939" FONT="Font_Text" T_CENTER="1" T_X="201" T_Y="2" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		<FORM ID="FRM_POINT_LEFT" X="45" Y="40" W="100" H="21" TEXT="420011" FONT="FTcts_13" T_RIGHT="1" T_X="95" T_Y="5" T_OUTLINE="1" FONT_COLOR_HEX="0xFFEC6941"/>
		<FORM ID="FRM_POINT_RIGHT" X="250" Y="40" W="100" H="21" TEXT="420011" FONT="FTcts_13" T_X="12" T_Y="5" T_OUTLINE="1" FONT_COLOR_HEX="0xFF10C0E7"/>

		<FORM ID="FRM_TIMELIMIT" X="93" Y="39" W="150" H="40" TICK_TIME="500" NO_FOCUS="1">
			<IMG ID="FRM_MIN10" X="47" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_MIN1" X="67" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="IMG_DOT" X="91" Y="32" W="10" H="20" IMG="../Data/6_ui/mission/msTimeYdot2.tga" IMG_W="10" IMG_H="20" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC10" X="93" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC1" X="113" Y="23" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC1000" X="133" Y="32" W="25" H="25" IMG="../Data/6_ui/mission/msNumTmYs2.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
			<IMG ID="FRM_SEC100" X="148" Y="32" W="25" H="25" IMG="../Data/6_ui/mission/msNumTmYs2.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		</FORM>
	</FORM>

	<FORM ID = "FRM_DEFENCE_RESULT" X="0" Y="0" W="1023" H="767" PASS_EVENT="1">
		<IMG ID="IMG_BG_LEFT" X="211" Y="160" Z="-1" W="603" H="640" IMG="../Data/6_ui/mission/msNewRwBg01.tga" IMG_W="284" IMG_H="328"/>
		<IMG ID="IMG_BG_RIGHT" X="495" Y="160" Z="-1" W="319" H="414" IMG="../Data/6_ui/mission/msNewRwBg02.tga" IMG_W="319" IMG_H="328"/>
		<FORM ID="FRM_MISSION_RESULT_TEXT" X="350" Y="175" W="140" H="21" TEXT="400940" FONT="FT15" T_CENTER="1" T_X="70" T_Y="2" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFF799"/>
		<FORM ID="FRM_VICTORY_RESULT_TEXT" X="646" Y="175" W="130" H="21" TEXT="400941" FONT="FT15" T_CENTER="1" T_X="65" T_Y="2" T_OUTLINE="1" FONT_COLOR_HEX="0xFFFFF799"/>

		<BUILD ID="BLD_BONUS" TARGET_ID="SFRM_BONUS" X="272" Y="214" X_COUNT="3" Y_COUNT="1" X_GAB="110" Y_GAB="0"/>
		<FORM ID="SFRM_BONUS" X="0" Y="0" Z="10" W="98" H="98">
			<IMG ID="IMG_BONUS_BG" X="-2" Y="-2" Z="-1" W="80" H="80" IMG="../Data/6_ui/TrueTw/ttXimg.tga" IMG_W="42" IMG_H="42">
				<SCRIPT ID="ON_CALL">UISelf:SetScale(2.0)</SCRIPT>
			</IMG>
			<IMG ID="IMG_BONUS" X="0" Y="0" W="80" H="80" IMG_W="480" IMG_H="480">
				<SCRIPT ID="ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				<SCRIPT ID="ON_CALL">UISelf:SetScale(2.0)</SCRIPT>
			</IMG>
		</FORM>

		<!--  -->
		<IMG ID="IMG_BONUS_WIN_BG" X="670" Y="214" Z="0" W="80" H="80" IMG="../Data/6_ui/TrueTw/ttXimg.tga" IMG_W="42" IMG_H="42">
			<SCRIPT ID="ON_CALL">UISelf:SetScale(2.0)</SCRIPT>
		</IMG>

		<BUTTON ID="BTN_QS" X="336" Y="342" W="82" H="82">
			<ATTR BTN_IMG="../Data/6_ui/mission/msRwQsBt.tga" BTN_IMG_W="164" BTN_IMG_H="164"/>
			<SCRIPT ID="ON_L_BTN_UP">OnSelectGadaCoinBox()</SCRIPT>
		</BUTTON>
		<STATIC_FORM ID="SFRM_GADACOIN" X="336" Y="342" Z="11" STATIC_NUM="28" W="80" H="80" IS_VISIBLE="0">
			<IMG ID="IMG_GADACOIN" W="80" H="80">
				<SCRIPT ID="ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			</IMG>
		</STATIC_FORM>

		<FORM ID="FRM_NEEDCOIN_TEXT" X="451" Y="347" W="200" H="21" TEXT="401068" FONT="FTcts_16" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
		<FORM ID="FRM_COIN_TEXT" X="451" Y="373" W="200" H="21" TEXT="401053" FONT="FTcts_16" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>		
		<FORM ID="FRM_COIN_TEXT0" X="581" Y="347" W="200" H="21" TEXT="" FONT="Font_Warn" FONT_COLOR_HEX="0xFFfed03f" T_OUTLINE="1"/>		
		<FORM ID="FRM_COIN_TEXT1" X="581" Y="373" W="200" H="21" TEXT="" FONT="Font_Warn" FONT_COLOR_HEX="0xFFfed03f" T_OUTLINE="1"/>
		<FORM ID="FRM_COIN_TEXT2" X="261" Y="436" W="500" H="50" TEXT="401055" T_X="250" T_Y="0" T_CENTER="1" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
		<BUTTON ID="BTN_BUY_COIN" X="511" Y="394" W="101" H="31">
			<ATTR TEXT="5101" FONT="Font_Text" T_X="50" T_Y="6" T_CENTER="1"/>
			<ATTR BTN_IMG="../Data/6_ui/key/keyJBt.tga" BTN_IMG_W="101" BTN_IMG_H="124" BTN_VERTICAL_IMG="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> OnCallStaticCashItemBuy(7,0) </SCRIPT>
		</BUTTON>

		<FORM ID="FRM_TIME_LIMIT" X="385" Y="504" W="159" H="44">
			<ATTR IMG="../Data/6_ui/mission/msRwTmbg.tga" IMG_W="262" IMG_H="44"/>
			<SCRIPT ID="ON_CALL">
				g_fMissionBoxLimitTime = GetAccumTime()
				g_fMissionExitTime = 20
			</SCRIPT>
			<SCRIPT ID = "ON_TICK">		
				if g_fMissionBoxLimitTime ~= nil then
					if GetAccumTime() - g_fMissionBoxLimitTime >= 1 then
						g_fMissionBoxLimitTime = GetAccumTime()
						g_fMissionExitTime = g_fMissionExitTime - 1					
						if g_fMissionExitTime > 0 then						
							local sdw = UISelf:GetControl("FRM_MESSAGE")
							if false == sdw:IsNil() then						
								sdw:SetStaticText( string.format(GetTextW(401057):GetStr(), g_fMissionExitTime) )							
							end
						else
							UISelf:CloseParent()
							return
						end
					end
				end
			</SCRIPT>
			<FORM ID="FRM_MESSAGE" X="8" Y="8" Z="0" W="231" H="108">
				<ATTR FONT="Font_Text" T_X="116" T_Y="0" T_CENTER="1" T_OUTLINE="0" FONT_COLOR_HEX="0xFF482e26"/>
				<SCRIPT ID="ON_CALL">UISelf:SetStaticText( string.format(GetTextW(401057):GetStr(), 20) )</SCRIPT>				
			</FORM>	
		</FORM>

		<STATIC_FORM ID="SFRM_EXIT_BG" X="461" Y="564" W="96" H="40" STATIC_NUM="25" CAN_CLIP="1"/>
		<BUTTON ID="BTN_EXIT" X="468" Y="567" W="111" H="41">
			<ATTR BTN_IMG="../Data/6_ui/Auction/auGbtB.tga" BTN_IMG_W="164" BTN_IMG_H="58" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
			<ATTR TEXT="400975" T_X="40" T_Y="6" T_OUTLINE="1" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">UISelf:CloseParent()</SCRIPT>
			<HOTKEY ID="28">UISelf:CloseParent() return true</HOTKEY>
			<HOTKEY ID="1">UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>
		<SCRIPT ID="ON_CALL">StrategyDefenceResultUI(UISelf)</SCRIPT>
		<SCRIPT ID="ON_CLOSE">CallUI("FRM_DEFENCE_MISSION_END")</SCRIPT>
	</FORM>

	<FORM ID="FRM_CREATE_DEFENCE" ALIGN_X="50" Y="61" W="464" H="482">
		<SCRIPT ID="ON_CALL">
			OnCall_FRM_CREATE_DEFENCE(UISelf)
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(true, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 1)
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(not GetUIWnd("FRM_CREATE_SCENARIO_ITEM"):IsNil(), "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
			CancleDefence7Enter()
		</SCRIPT>
		<SCRIPT ID="ON_TICK">
			DelayDefenceMode7()
		</SCRIPT>
		<ATTR IMG="../Data/6_ui/mission/msEtBg_03.tga" IMG_W="457" IMG_H="447"/>
		<FORM ID="FRM_BG" X="0" Y="0" W="457" H="422" PASS_EVENT="1" NO_FOCUS="1">
			<FORM ID="FRM_TEXT0" X="22" Y="10" W="200" H="28" FONT="FTctsBig_14" T_X="0" T_Y="0" TEXT="400956" FONT_COLOR_HEX="0xFF00FF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<!--FORM ID="FRM_TEXT1" X="282" Y="10" W="200" H="28" FONT="Font_Text" T_X="0" T_Y="0" TEXT="400933" FONT_COLOR_HEX="0xFFFFFFFF"/-->
			<FORM ID="FRM_TEXT2" X="22" Y="110" W="200" H="28" FONT="FTctsBig_14" T_X="0" T_Y="0" TEXT="400931" FONT_COLOR_HEX="0xFF00FFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<FORM ID="FRM_TEXT3" X="35" Y="206" W="200" H="28" FONT="Font_Text" T_X="0" T_Y="0" TEXT="750021" FONT_COLOR_HEX="0xFFFF5555" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>

		<!--  
		<BUTTON ID="BTN_HELP" X="312" Y="108" W="124" H="24">
			<ATTR BTN_IMG="../Data/6_ui/book/bkWsBt.tga" BTN_VERTICAL_IMG="1" BTN_IMG_W="124" BTN_IMG_H="92"/>
			<ATTR TEXT="400937" FONT="Font_Text" T_X="62" T_Y="5" T_CENTER="1" BTN_VERTICAL_IMG="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="12"/>
			<SCRIPT ID="ON_L_BTN_DOWN">ODS("FRM_CREATE_DEFENCE BTN_HELP\n")</SCRIPT>
		</BUTTON>
		-->

		<STATIC_FORM ID="FRM_CREATE_FIELD_DEFENCE" X="22" Y="33" W="414" H="63">
			<FORM ID="FRM_TEXT" X="0" Y="40" Z="10" W="414" H="28" PASS_EVENT="1">
				<ATTR FONT="Font_Chat" T_X="207" T_Y="0" T_CENTER="1" TEXT="400958" FONT_COLOR_HEX="0xFFFFFFFF"/>
			</FORM>
			<IMG ID="IMG_KEY" X="195" Y="12" Z="2" W="27" H="22" PASS_EVENT="1">
				<ATTR IMG="../Data/6_ui/mission/msF1234.tga" IMG_W="54" IMG_H="66" U="2" V="3" UV_INDEX="6"/>
			</IMG>
			<IMG ID="IMG_OVER" X="0" Y="0" Z="11" W="414" H="63" PASS_EVENT="1">
				<ATTR IMG="../Data/6_ui/mission/msCardLine3.tga" IMG_W="414" IMG_H="63"/>
			</IMG>
			<IMG ID="IMG_BG" X="0" Y="0" W="414" H="63">
				<ATTR IMG="../Data/6_ui/mission/msDefenseImg_90102.tga" IMG_W="414" IMG_H="63"/>				
				<SCRIPT ID="ON_L_BTN_DOWN">
					if IsInParty() then
						if IsPartyMaster( g_pilotMan:GetPlayerPilotGuid() ) then
							OnEnterDefenceMode6()
						else
							AddWarnDataTT(80027)
						end
					else
						OnEnterDefenceMode6()
					end
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">
					if false==UISelf:IsGrayScale() then
						UISelf:GetParent():GetControl("IMG_OVER"):Visible(true)
					end
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">UISelf:GetParent():GetControl("IMG_OVER"):Visible(false)</SCRIPT>
			</IMG>
		</STATIC_FORM>
		
		<STATIC_FORM ID="FRM_CREATE_FIELD_F7" X="22" Y="133" W="414" H="63">
			<FORM ID="FRM_TEXT" X="0" Y="40" Z="10" W="414" H="28" PASS_EVENT="1">
				<ATTR FONT="Font_Chat" T_X="207" T_Y="0" T_CENTER="1" TEXT="401146" FONT_COLOR_HEX="0xFFFFFFFF"/>
			</FORM>
			<IMG ID="IMG_KEY" X="195" Y="12" Z="2" W="27" H="22" PASS_EVENT="1">
				<ATTR IMG="../Data/6_ui/mission/msF1234.tga" IMG_W="54" IMG_H="66" U="2" V="3" UV_INDEX="7"/>
			</IMG>
			<IMG ID="IMG_OVER" X="0" Y="0" Z="11" W="414" H="63" PASS_EVENT="1">
				<ATTR IMG="../Data/6_ui/mission/msCardLine3.tga" IMG_W="414" IMG_H="63"/>
			</IMG>
			<IMG ID="IMG_BG" X="0" Y="0" W="414" H="63">
				<ATTR IMG="../Data/6_ui/mission/msDefenseImg_90102.tga" IMG_W="414" IMG_H="63"/>
				<SCRIPT ID = "ON_CALL">
					if not Defence7EnterLevelCheck() then
						UISelf:SetGrayScale(true)
					else
						UISelf:SetGrayScale(false)
					end
				</SCRIPT>
				<SCRIPT ID="ON_L_BTN_DOWN">
					CheckEnterDefenceMode7()
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">
					if false==UISelf:IsGrayScale() then
						UISelf:GetParent():GetControl("IMG_OVER"):Visible(true)
					end
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">UISelf:GetParent():GetControl("IMG_OVER"):Visible(false)</SCRIPT>
			</IMG>
			<IMG ID="FRM_CLEARQUEST" X="0" Y="0" Z="15" W="414" H="63" PASS_EVENT="1" NO_FOCUS="1">
				<ATTR IMG="../Data/6_ui/main/mndrBoxBody.tga" IMG_W="414" IMG_H="63"/>				
				<ATTR FONT="Font_Text_Big" T_X="207" T_Y="10" T_CENTER="1" TEXT="400958" FONT_COLOR_HEX="0xFFFF0000" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_CALL">UISelf:SetStaticTextW(MissionClearQuestText(7))</SCRIPT>
			</IMG>
		</STATIC_FORM>

		<FORM ID="FRM_FATIGUE" X="30" Y="224" W="364" H="43">
			<SCRIPT ID="ON_CALL">
				g_Defence7ModeExpStr = CallDefenceFatigueWindow(UISelf)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">
				RefreshFatigue(UISelf)
			</SCRIPT>
			<IMG ID="IMG_BAR" X="0" Y="0" W="364" H="19">
				<ATTR IMG="../Data/6_ui/mission/msDfsBar.tga" IMG_W="364" IMG_H="76" U="1" V="4" UV_INDEX="1"/>
			</IMG>
			<FORM ID="FRM_FATIGUE_TEXT" X="182" Y="2" W="364" H="19">
				<ATTR TEXT="750022" FONT="FT11" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			</FORM>
			<BUILD ID="BLD_EXP_TEXT" TARGET_ID="FRM_EXP_TEXT" X="10" Y="20" X_COUNT="10" Y_COUNT="1" X_GAB="40" Y_GAB="0"/>
			<FORM ID="FRM_EXP_TEXT" X="0" Y="0" W="40" H="24">
				<ATTR TEXT="" FONT="FT11" T_CENTER="1" FONT_COLOR_HEX="0xFF959595" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_BUILD">
					local Index = UISelf:GetBuildIndex()
					if Index == 9 then return end
					local Total = 40 + (Index * 10)
					UISelf:SetStaticText(Total.."%")
					UISelf:SetFontColor(0xFF959595)
				</SCRIPT>
			</FORM>
		</FORM>
		<FORM ID="FRM_TOOLTIP" X="397" Y="224" W="30" H="30" U="2" V="2" UV_INDEX="1">
			<ATTR IMG="../Data/6_ui/myhome/mhNqst.tga" IMG_W="60" IMG_H="60"/>
			<SCRIPT ID="ON_MOUSE_OVER">
				UISelf:SetUVIndex(2)
				CallToolTipText(0, GetTextW(750025), GetUIWnd("Cursor"):GetLocation())
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">
				UISelf:SetUVIndex(1)
				CloseToolTip()
			</SCRIPT>
		</FORM>
		
		<FORM ID="FRM_RESTORE_ITEM" X="0" Y="266" W="464" H="100">
			<ATTR TEXT="" FONT="Font_Text" T_X="195" T_Y="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<BUTTON ID="BTN_USE_ITEM" X="193" Y="17" W="119" H="22">
				<ATTR BTN_IMG="../Data/6_ui/tech/tchpBt.tga" BTN_IMG_W="238" BTN_IMG_H="44"/>
				<ATTR TEXT="750024" T_X="59" T_Y="3" FONT="Font_Text" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFCEA" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF5E2F00"/>
				<SCRIPT ID ="ON_L_BTN_UP">
					UseRestoreItem(UISelf:GetParent())
				</SCRIPT>
			</BUTTON>
			<ICON ID="ICN_ITEM" X="147" Y="0" Z="10" W="40" H="40" ICON_GRP="254">
				<SCRIPT ID="ON_CALL">
					UISelf:ClearCustomData()
					UISelf:SetCustomDataAsInt(299603100) -- RESTORE FATIGUE ITEM NUMBER
				</SCRIPT>
				<SCRIPT ID="ON_DISPLAY">
					UISelf:DrawIcon()
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER"> UISelf:CallIconToolTip() </SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			</ICON>
			<SCRIPT ID="ON_CALL">
				UISelf:SetStaticText(GetTextW(750021):GetStr().." "..GetTextW(750023):GetStr())
			</SCRIPT>
		</FORM>
		<!-- INFORMATION TEXT -->
		<FORM ID="FRM_INFO_TEXT" X="0" Y="300" W="457" H="95">
			<FORM ID="FRM_BODY" X="0" Y="15" W="457" H="40">
				<ATTR TEXT="401174" FONT="Font_Text" T_X="228" T_Y="4" T_CENTER="1" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
			</FORM>
			<FORM ID="FRM_BODY1" X="0" Y="55" W="457" H="40">
				<ATTR TEXT="401175" FONT="Font_Text" T_X="228" T_Y="4" T_CENTER="1" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1"/>
			</FORM>
		</FORM>
		
		<BUTTON ID="BTN_EXIT" X="183" Y="405" W="111" H="41">
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="915" FONT="FTbt_12" T_X="42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" />
			<SCRIPT ID="ON_L_BTN_UP">
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="1">
				UISelf:CloseParent()
				return true
			</HOTKEY>
		</BUTTON>
		
		<HOTKEY ID="64">
			if IsInParty() then
				if IsPartyMaster( g_pilotMan:GetPlayerPilotGuid() ) then
					OnEnterDefenceMode6()
				else
					AddWarnDataTT(80027)
				end
			else
				OnEnterDefenceMode6()
			end
			return true
		</HOTKEY>
		<HOTKEY ID="65">
			CheckEnterDefenceMode7()
		</HOTKEY>
	</FORM>
	
	<STATIC_FORM ID="SFRM_DEFENCE_LEARNSKILL" X="542" Y="300" W="225" H="223" CAN_DRAG="1" STATIC_NUM="1">
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="223" H="36" STATIC_NUM="4">
			<IMG ID="IMG_TITLE_TAB" X="7" Y="4" Z="1" W="144" H="24">
				<ATTR IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
				<ATTR T_X="10" T_Y="4" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413" TEXT="401122"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="192" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<HOTKEY ID="1">UISelf:GetParent():CloseParent() return true</HOTKEY>
				<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():CloseParent() return true</SCRIPT>
			</BUTTON>
			<FORM ID="SFRM_BTN_BG" X="192" Y="9" Z="-1" W="12" H="11" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11"/>
			<STATIC_FORM ID="SFRM_TAB_BG" X="8" Y="5" W="144" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_COLOR" X="9" Y="36" Z="-10" W="207" H="147" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="207" H="147" STATIC_NUM="3"/>
		</STATIC_FORM>
		<BUILD ID="BLD_SKILLS" TARGET_ID="FRM_SKILL" X="17" Y="42" X_COUNT="4" Y_COUNT="2" X_GAB="50" Y_GAB="70"/>
		<FORM ID="FRM_SKILL" X="0" Y="0" W="42" H="50">
			<STATIC_FORM ID="SFRM_SKILL_BG" X="0" Y="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<STATIC_FORM ID="SFRM_TEXT" X="0" Y="44" W="42" H="17" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
				<ATTR TEXT="400102" FONT="Font_Text" T_X="21" T_Y="0" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413"/>
			</STATIC_FORM>
			<ICON ID="ICN_SKILL" ICON_GRP="232" ICON_STATIC="1" IGNORE_PARENT_RECT="1">
				<ATTR X="1" Y="1" Z="1" W="40" H="40" IMG_W="40" IMG_H="40"/>
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>	
				<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				<SCRIPT ID="ON_L_BTN_UP">UISelf:IconDoAction()</SCRIPT>
			</ICON>
			<FORM ID="FRM_HOTKEY" W="42" H="70" Z="10" T_X="21" T_Y="27" PASS_EVENT="1">
				<ATTR T_CENTER="1" FONT="Font_Text" TEXT="" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_CALL">
					local kSelf = UISelf
					local idx = kSelf:GetParent():GetBuildIndex()
					kSelf:SetStaticTextW(GetTT(420059+idx))
				</SCRIPT>
			</FORM>
		</FORM>
		<STATIC_FORM ID="SFRM_COLOR2" X="9" Y="185" Z="-10" W="207" H="25" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="207" H="25" STATIC_NUM="3"/>
		</STATIC_FORM>
		
		<FORM ID="FRM_POINT_TEXT" X="9" Y="185" W="90" H="25" TEXT="400939" FONT="Font_Text" T_X="10" T_Y="5" FONT_COLOR_HEX="0xFF4D3413"/>
		<FORM ID="FRM_POINT" X="99" Y="185" W="117" H="25" TEXT="420011" FONT="FTtitle_14" T_X="111" T_Y="5" T_RIGHT="1" FONT_COLOR_HEX="0xFF790000"/>
		<SCRIPT ID="ON_CALL">
			OnCallDefenceLearnSkill(UISelf)
			RegistUIAction(UISelf, "CloseUI")
			
			CloseUI("SFRM_INSTALL_GUARDIAN")
			CloseUI("SFRM_TRANSFOR_GUARDIAN")
			CloseUI("SFRM_UPGRADE_GUARDIAN")
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			CloseToolTip()
		</SCRIPT>
		
		<HOTKEY ID="59">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL0"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="60">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL1"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="61">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL2"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="62">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL3"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="63">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL4"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="64">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL5"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="65">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL6"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="66">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL7"):GetControl("ICN_SKILL")) return true</HOTKEY>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_INSTALL_GUARDIAN" X="542" Y="300" W="225" H="263" CAN_DRAG="1" STATIC_NUM="1">
		<ATTR T_X="112" T_Y="215" T_CENTER="1" FONT="Font_Text" TEXT="401156" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="223" H="36" STATIC_NUM="4">
			<IMG ID="IMG_TITLE_TAB" X="7" Y="4" Z="1" W="144" H="24">
				<ATTR IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
				<ATTR T_X="10" T_Y="4" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413" TEXT="401154"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="192" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<HOTKEY ID="1">UISelf:GetParent():CloseParent() return true</HOTKEY>
				<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():CloseParent() return true</SCRIPT>
			</BUTTON>
			<FORM ID="SFRM_BTN_BG" X="192" Y="9" Z="-1" W="12" H="11" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11"/>
			<STATIC_FORM ID="SFRM_TAB_BG" X="8" Y="5" W="144" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_COLOR" X="9" Y="36" Z="-10" W="207" H="147" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="207" H="147" STATIC_NUM="3"/>
		</STATIC_FORM>
				
		<BUILD ID="BLD_MONS" TARGET_ID="FRM_MON" X="17" Y="42" X_COUNT="4" Y_COUNT="2" X_GAB="50" Y_GAB="70"/>
		<FORM ID="FRM_MON" X="0" Y="0" W="42" H="50">
			<STATIC_FORM ID="SFRM_ICON_BG" X="0" Y="0" W="42" H="43" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2"/>
			<STATIC_FORM ID="SFRM_TEXT" X="0" Y="44" W="42" H="17" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3">
				<ATTR TEXT="400102" FONT="Font_Text" T_X="21" T_Y="0" T_CENTER="1" FONT_COLOR_HEX="0xFF4D3413"/>
			</STATIC_FORM>
			<ICON ID="ICN_MON" ICON_GRP="231" ICON_STATIC="1" IGNORE_PARENT_RECT="1">
				<ATTR X="1" Y="1" Z="1" W="40" H="40" IMG_W="40" IMG_H="40"/>
				<SCRIPT ID="ON_L_BTN_UP">UISelf:IconDoAction()</SCRIPT>
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">OnDefenceGuardianMouseOver(UISelf)</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">OnDefenceGuardianMouseOut()</SCRIPT>
			</ICON>
			<FORM ID="FRM_HOTKEY" W="42" H="70" Z="10" T_X="21" T_Y="27" PASS_EVENT="1">
				<ATTR T_CENTER="1" FONT="Font_Text" TEXT="" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_CALL">
					local kSelf = UISelf
					local idx = kSelf:GetParent():GetBuildIndex()
					kSelf:SetStaticTextW(GetTT(420059+idx))
				</SCRIPT>
			</FORM>
		</FORM>
		<STATIC_FORM ID="SFRM_POINT_BG" X="9" Y="185" Z="-10" W="207" H="25" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<ATTR ID="FRM_TEXT" TEXT="400939" FONT="Font_Text" T_X="10" T_Y="5" FONT_COLOR_HEX="0xFF4D3413"/>
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="207" H="25" STATIC_NUM="3"/>
		</STATIC_FORM>
		<FORM ID="FRM_POINT" X="99" Y="185" W="117" H="25" TEXT="420011" FONT="FTtitle_14" T_X="111" T_Y="5" T_RIGHT="1" FONT_COLOR_HEX="0xFF790000"/>
		<SCRIPT ID="ON_CALL">
			UpdateDefenceMissionGuardian(UISelf)
			RegistUIAction(UISelf, "CloseUI")
			
			CloseUI("SFRM_DEFENCE_LEARNSKILL")
			CloseUI("SFRM_TRANSFOR_GUARDIAN")
			CloseUI("SFRM_UPGRADE_GUARDIAN")
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			OnDefenceGuardianMouseOut()
			ClearGuardianDetectRangeEffect()
		</SCRIPT>
		<HOTKEY ID="59">CallInstallGuardian(UISelf:GetControl("FRM_MON0"):GetControl("ICN_MON")) return true</HOTKEY>
		<HOTKEY ID="60">CallInstallGuardian(UISelf:GetControl("FRM_MON1"):GetControl("ICN_MON")) return true</HOTKEY>
		<HOTKEY ID="61">CallInstallGuardian(UISelf:GetControl("FRM_MON2"):GetControl("ICN_MON")) return true</HOTKEY>
		<HOTKEY ID="62">CallInstallGuardian(UISelf:GetControl("FRM_MON3"):GetControl("ICN_MON")) return true</HOTKEY>
		<HOTKEY ID="63">CallInstallGuardian(UISelf:GetControl("FRM_MON4"):GetControl("ICN_MON")) return true</HOTKEY>
		<HOTKEY ID="64">CallInstallGuardian(UISelf:GetControl("FRM_MON5"):GetControl("ICN_MON")) return true</HOTKEY>
		<HOTKEY ID="65">CallInstallGuardian(UISelf:GetControl("FRM_MON6"):GetControl("ICN_MON")) return true</HOTKEY>
		<HOTKEY ID="66">CallInstallGuardian(UISelf:GetControl("FRM_MON7"):GetControl("ICN_MON")) return true</HOTKEY>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_TRANSFOR_GUARDIAN" X="400" Y="300" W="282" H="145" CAN_DRAG="1" STATIC_NUM="1">
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="280" H="36" STATIC_NUM="4">
			<IMG ID="IMG_TITLE_TAB" X="7" Y="4" Z="1" W="144" H="24">
				<ATTR IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
				<ATTR T_X="10" T_Y="4" FONT="FTtitle_14" FONT_COLOR_HEX="0xFF4D3413" TEXT="401123"/>
			</IMG>
			<BUTTON ID="BTN_CLOSE" X="249" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():CloseParent() return true</SCRIPT>
				<HOTKEY ID="1">UISelf:GetParent():CloseParent() return true</HOTKEY>
			</BUTTON>
			<FORM ID="SFRM_BTN_BG" X="249" Y="9" Z="-1" W="12" H="11" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11"/>
			<STATIC_FORM ID="SFRM_TAB_BG" X="8" Y="5" W="144" H="22" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
		</STATIC_FORM>
		<BUILD ID="BLD_GUARDIANS" TARGET_ID="FRM_GUARDIAN" X="10" Y="35" X_COUNT="5" Y_COUNT="1" X_GAB="52" Y_GAB="0"/>
		<STATIC_FORM ID="FRM_GUARDIAN" X="0" Y="0" W="51" H="70" STATIC_NUM="24">
			<STATIC_FORM ID="SFRM_ICON_BG" X="5" Y="5" W="42" H="42" STATIC_NUM="34"/>
			<STATIC_FORM ID="SFRM_TEXT" X="4" Y="47" W="42" H="17" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
				<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="42" H="17" STATIC_NUM="3"/>
				<ATTR TEXT="401114" T_X="21" T_Y="0" T_CENTER="1" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			</STATIC_FORM>
			<ICON ID="ICN_GUARDIAN" ICON_GRP="231" ICON_STATIC="1" IGNORE_PARENT_RECT="1">
				<ATTR X="5" Y="5" Z="1" W="40" H="40" IMG_W="40" IMG_H="40"/>
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>	
				<SCRIPT ID="ON_MOUSE_OVER">
					local kSelf = UISelf
					kSelf:CallIconToolTip()
					ViewGuardianDetectRangeEffect(kSelf)
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">
					CloseToolTip()
					ClearGuardianDetectRangeEffect()
				</SCRIPT>
				<SCRIPT ID="ON_L_BTN_UP">CallUpgradeGuardian(UISelf)</SCRIPT>
			</ICON>
			<FORM ID="FRM_HOTKEY" W="51" H="70" Z="10" T_X="25" T_Y="27" PASS_EVENT="1">
				<ATTR T_CENTER="1" FONT="Font_Text" TEXT="" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_CALL">
					local kSelf = UISelf
					local idx = kSelf:GetParent():GetBuildIndex()
					if 4 ~= idx then
						kSelf:SetStaticTextW(GetTT(420059+idx))
					end
				</SCRIPT>
			</FORM>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_COLOR2" X="9" Y="108" Z="-10" W="263" H="25" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="263" H="25" STATIC_NUM="3"/>
		</STATIC_FORM>
		<FORM ID="FRM_POINT_TEXT" X="9" Y="108" W="100" H="25" TEXT="400939" FONT="Font_Text" T_X="10" T_Y="5" FONT_COLOR_HEX="0xFF4D3413"/>
		<FORM ID="FRM_POINT" X="109" Y="108" W="163" H="25" TEXT="420011" FONT="FTtitle_14" T_X="153" T_Y="5" T_RIGHT="1" FONT_COLOR_HEX="0xFF790000"/>
		<SCRIPT ID="ON_CALL">
			RegistUIAction(UISelf, "CloseUI")
			
			CloseUI("SFRM_DEFENCE_LEARNSKILL")
			CloseUI("SFRM_INSTALL_GUARDIAN")
			CloseUI("SFRM_UPGRADE_GUARDIAN")
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			CloseToolTip()
			ClearGuardianDetectRangeEffect()
		</SCRIPT>
		<HOTKEY ID="59">CallUpgradeGuardian(UISelf:GetControl("FRM_GUARDIAN0"):GetControl("ICN_GUARDIAN")) return true</HOTKEY>
		<HOTKEY ID="60">CallUpgradeGuardian(UISelf:GetControl("FRM_GUARDIAN1"):GetControl("ICN_GUARDIAN")) return true</HOTKEY>
		<HOTKEY ID="61">CallUpgradeGuardian(UISelf:GetControl("FRM_GUARDIAN2"):GetControl("ICN_GUARDIAN")) return true</HOTKEY>
		<HOTKEY ID="62">CallUpgradeGuardian(UISelf:GetControl("FRM_GUARDIAN3"):GetControl("ICN_GUARDIAN")) return true</HOTKEY>
		<HOTKEY ID="63">CallUpgradeGuardian(UISelf:GetControl("FRM_GUARDIAN4"):GetControl("ICN_GUARDIAN")) return true</HOTKEY>
	</STATIC_FORM>
	
	<STATIC_FORM ID="SFRM_UPGRADE_GUARDIAN" X="542" Y="300" W="295" H="397" CAN_DRAG="1" STATIC_NUM="1">
		<ATTR T_X="147" T_Y="360" T_CENTER="1" FONT="Font_Text" TEXT="401159" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="293" H="36" STATIC_NUM="4">
			<BUTTON ID="BTN_CLOSE" X="262" Y="4" W="24" H="24" BTN_IMG="../Data/6_ui/common/cmCloseBg.tga" BTN_IMG_W="48" BTN_IMG_H="48">
				<HOTKEY ID="1">UISelf:GetParent():CloseParent() return true</HOTKEY>
				<SCRIPT ID="ON_L_BTN_DOWN">UISelf:GetParent():CloseParent() return true</SCRIPT>
			</BUTTON>
			<FORM ID="SFRM_BTN_BG" X="262" Y="9" Z="-1" W="12" H="11" STATIC_NUM="2" CAN_COLOR_CHANGE="1" COLOR_TYPE="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="12" IMG_H="11"/>
		</STATIC_FORM>
		<STATIC_FORM ID="SFRM_GUARDIAN_NAME" X="8" Y="4" W="253" H="24" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<ATTR T_X="8" T_Y="4" FONT="FTtitle_14" TEXT="401154" FONT_COLOR_HEX="0xFF4D3413"/>
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="253" H="24" STATIC_NUM="3"/>
		</STATIC_FORM>
		
		<STATIC_FORM ID="FRM_GUARDIAN_TOP_BG" X="10" Y="35" Z="-10" W="276" H="105" STATIC_NUM="24">
			<ATTR TEXT="401124" FONT="FTtitle_14" T_X="138" T_Y="5" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</STATIC_FORM>
		<STATIC_FORM ID="FRM_GUARDIAN_MIDDLE_BG" X="9" Y="142" Z="-10" W="276" H="159" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<ATTR TEXT="401157" FONT="Font_Text" T_X="9" T_Y="7" FONT_COLOR_HEX="0xFF4D3413"/>
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="276" H="159" STATIC_NUM="3"/>
		</STATIC_FORM>
		
		<BUILD ID="BLD_GUARDIANS" TARGET_ID="FRM_GUARDIAN" X="40" Y="71" X_COUNT="3" Y_COUNT="1" X_GAB="85" Y_GAB="0"/>
		<FORM ID="FRM_GUARDIAN" X="0" Y="0" W="42" H="59">
			<STATIC_FORM ID="SFRM_ICON_BG" X="0" Y="0" W="42" H="42" STATIC_NUM="34"/>
			<STATIC_FORM ID="SFRM_TEXT" X="0" Y="42" W="42" H="17" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
				<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="42" H="17" STATIC_NUM="3"/>
				<ATTR TEXT="401114" T_X="21" T_Y="0" T_CENTER="1" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			</STATIC_FORM>
			<ICON ID="ICN_GUARDIAN" ICON_GRP="231" ICON_STATIC="1" IGNORE_PARENT_RECT="1">
				<ATTR X="1" Y="1" Z="1" W="40" H="40" IMG_W="40" IMG_H="40"/>
				<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>	
				<SCRIPT ID="ON_MOUSE_OVER">
					local kSelf = UISelf
					local idx = kSelf:GetParent():GetBuildIndex()
					kSelf:CallIconToolTip()
					if 1==idx then
						ViewGuardianDetectRangeEffect(kSelf)
					end
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">
					CloseToolTip()
					ClearGuardianDetectRangeEffect()
				</SCRIPT>
				<SCRIPT ID="ON_L_BTN_UP">CallUpgradeGuardian(UISelf)</SCRIPT>
			</ICON>
			<FORM ID="FRM_ARROW" X="-49" Y="15" Z="10" W="55" H="24">
				<ATTR IMG="../Data/6_UI/mission/msDfsArwAni2.tga" IMG_W="110" IMG_H="48" U="2" V="2" UV_INDEX="2"/>
				<!--SCRIPT ID="ON_TICK">
					if false==UISelf:IsGrayScale() then
						UVAnimation(UISelf, 0.14)
					end
				</SCRIPT-->
				<SCRIPT ID="ON_CALL">
					local kSelf = UISelf
					kSelf:SetGrayScale(true)					
					local idx = kSelf:GetParent():GetBuildIndex()
					if 0 == idx then
						kSelf:Visible(false)
					end
				</SCRIPT>
			</FORM>
			<FORM ID="FRM_HOTKEY" W="42" H="42" Z="10" T_X="21" T_Y="25" PASS_EVENT="1">
				<ATTR T_CENTER="1" FONT="Font_Text" TEXT="" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_CALL">
					local kSelf = UISelf
					local idx = kSelf:GetParent():GetBuildIndex()
					if 1 == idx then
						kSelf:SetStaticTextW(GetTT(420059))
					end
				</SCRIPT>
			</FORM>
		</FORM>
		
		<BUILD ID="BLD_SKILLS" TARGET_ID="FRM_SKILL" X="16" Y="168" X_COUNT="1" Y_COUNT="2" X_GAB="0" Y_GAB="65"/>
		<STATIC_FORM ID="FRM_SKILL" X="0" Y="0" W="262" H="62" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" CAN_DRAG="0">
			<ATTR T_X="53" T_Y="6" TEXT="21" FONT="Font_Text" FONT_COLOR_HEX="0xFF790000"/>
			<STATIC_FORM ID="SFRM_ICON_BG" X="3" Y="3" Z="-1" W="40" H="40" STATIC_NUM="6" CAN_COLOR_CHANGE="1" COLOR_TYPE="3"/>
			<IMG ID="IMG_LINE1" X="47" Y="5" W="1" H="51" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="1" IMG_H="51" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE2" X="48" Y="5" W="1" H="51" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="1" IMG_H="51" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<ICON ID="ICN_SKILL" ICON_GRP="232">
				<ATTR X="3" Y="3" Z="1" W="40" H="40" IMG_W="40" IMG_H="40"/>
				<SCRIPT ID="ON_OUT_DISPLAY">UISelf:DrawIcon()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
				<SCRIPT ID="ON_L_BTN_UP">UISelf:IconDoAction()</SCRIPT>
				<FORM ID="COOLTIME" X="0" Y="0" W="40" H="40" TICK_TIME="40" IS_ENABLE="0" NO_FOCUS="1" PASS_EVENT="1">
					<ATTR TEXT="" FONT="Font_Chat" T_X="20" T_Y="9" T_CENTER="1" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000" T_BOLD="1"/>
					<SCRIPT ID = "ON_TICK">
						local kSelf = UISelf
						if kSelf:IsVisible() then
							kSelf:DrawCoolTimeIcon()
						end
					</SCRIPT>
				</FORM>
				<FORM ID="FRM_COOTIME_IMG" X="0" Y="0" W="40" H="40" IS_ENABLE="0">
					<ATTR IMG="../Data/6_ui/main/mnGraybox.tga" IMG_X="0" IMG_Y="0" IMG_W="40" IMG_H="40"/>
					<SCRIPT ID="ON_CALL">UISelf:SetImgSize( Point2( UISelf:GetSize():GetX(), 0 ) )</SCRIPT>
					<SCRIPT ID="ON_R_BTN_DOWN">UISelf:GetParent():IconDoAction()</SCRIPT>
				</FORM>
			</ICON>
			<IMG ID="IMG_POINT" X="3" Y="44" W="40" H="14" IMG="../Data/6_UI/mission/msNumBg.tga" IMG_W="40" IMG_H="14">
				<ATTR TEXT="420011" FONT="Font_Chat" T_X="20" T_Y="0" T_CENTER="1" FONT_COLOR_HEX="0xFFFFF200"/>
			</IMG>
			<FORM ID="FRM_TEXT" X="48" Y="15" W="212" H="57" T_X="5" T_Y="7" TEXT="401621" FONT="Font_Text" FONT_COLOR_HEX="0xFF4D3413"/>
			<FORM ID="FRM_HOTKEY" X="3" Y="3" W="40" H="40" Z="10" T_X="20" T_Y="25" PASS_EVENT="1">
				<ATTR T_CENTER="1" FONT="Font_Chat" TEXT="" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_CALL">UISelf:SetStaticTextW(GetTT(420060+UISelf:GetParent():GetBuildIndex()))</SCRIPT>
			</FORM>
		</STATIC_FORM>
		
		<STATIC_FORM ID="SFRM_POINT_BG" X="9" Y="302" Z="-10" W="276" H="25" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<ATTR ID="FRM_TEXT" TEXT="400939" FONT="Font_Text" T_X="10" T_Y="5" FONT_COLOR_HEX="0xFF4D3413"/>
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="276" H="25" STATIC_NUM="3"/>
		</STATIC_FORM>
		<FORM ID="FRM_POINT" X="99" Y="302" W="186" H="25" TEXT="420011" FONT="FTtitle_14" T_X="176" T_Y="5" T_RIGHT="1" FONT_COLOR_HEX="0xFF790000"/>
		<SCRIPT ID="ON_CALL">
			UpdateDefenceMissionGuardian(UISelf)
			RegistUIAction(UISelf, "CloseUI")
			
			CloseUI("SFRM_DEFENCE_LEARNSKILL")
			CloseUI("SFRM_INSTALL_GUARDIAN")
			CloseUI("SFRM_TRANSFOR_GUARDIAN")
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			CloseToolTip()
			ClearGuardianDetectRangeEffect()
		</SCRIPT>
		
		<BUTTON ID="BTN_REMOVE" X="10" Y="330" W="275" H="23">
			<ATTR BTN_IMG="../Data/6_ui/mission/mslongBt.tga" BTN_IMG_W="275" BTN_IMG_H="92" BTN_VERTICAL_IMG="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="12"/>
			<ATTR TEXT="401158" FONT="FTbt_12" T_X="137" T_Y="3" T_CENTER="1" FONT_COLOR_HEX="0xFF2A0F0B"/>
			<SCRIPT ID="ON_L_BTN_DOWN">CallRemoveGuardian()</SCRIPT>
			<SCRIPT ID="ON_CALL">SetTextOnThisUI(401158, 2203)</SCRIPT>
			<HOTKEY ID="62">CallRemoveGuardian() return true</HOTKEY>
		</BUTTON>

		<HOTKEY ID="59">CallUpgradeGuardian(UISelf:GetControl("FRM_GUARDIAN1"):GetControl("ICN_GUARDIAN")) return true</HOTKEY>
		<HOTKEY ID="60">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL0"):GetControl("ICN_SKILL")) return true</HOTKEY>
		<HOTKEY ID="61">CallDefenceSkillLearn(UISelf:GetControl("FRM_SKILL1"):GetControl("ICN_SKILL")) return true</HOTKEY>
	</STATIC_FORM>
	<FORM ID = "FRM_MINING_TIME" ALIGN_X="50" ALIGN_Y="30" W="300" H="200" PASS_EVENT="1">
		<FORM ID="FRM_CLOCK0" X="70" Y="0" W="50" H="50" IMG="../Data/6_ui/mission/msNumYb.tga" IMG_W="250" IMG_H="100" U="5" V="2" CAN_COLOR_CHANGE="1"/>
		<FORM ID="FRM_CLOCK1" X="110" Y="0" W="50" H="50" IMG="../Data/6_ui/mission/msNumYb.tga" IMG_W="250" IMG_H="100" U="5" V="2" CAN_COLOR_CHANGE="1"/>
		<FORM ID="FRM_CLOCK2" X="150" Y="0" W="50" H="50" IMG="../Data/6_ui/mission/msNumYb.tga" IMG_W="250" IMG_H="100" U="5" V="2" CAN_COLOR_CHANGE="1"/>
		<SCRIPT ID = "ON_TICK">
			MiningTimerTick(UISelf)
		</SCRIPT>
		<SCRIPT ID = "ON_CALL">
			MiningTimerCall(UISelf)
		</SCRIPT>
	</FORM>
	<FORM ID = "FRM_DEFENCE_NEXT_DELAY" ALIGN_X="50" ALIGN_Y="30" W="300" H="200" PASS_EVENT="1">
		<FORM ID="FRM_TEN" X="110" Y="0" W="50" H="50" IMG="../Data/6_ui/mission/msNumYb.tga" IMG_W="250" IMG_H="100" U="5" V="2" CAN_COLOR_CHANGE="1"/>
		<FORM ID="FRM_ONE" X="150" Y="0" W="50" H="50" IMG="../Data/6_ui/mission/msNumYb.tga" IMG_W="250" IMG_H="100" U="5" V="2" CAN_COLOR_CHANGE="1"/>
		<BUTTON ID="BTN_QUICKSTART" X="88" Y="55" W="124" H="26" BTN_IMG="../Data/6_ui/book/bkWsBt.tga" BTN_IMG_W="124" BTN_IMG_H="92" U="1" V="4" UV_INDEX="1">
			<ATTR TEXT="400979" FONT="FTbt_12" T_X="62" T_Y="3" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				CallUI("FRM_STRATAGEMISSION_STAGE_END")
			</SCRIPT>
			<SCRIPT ID="ON_CALL">
				SetTextOnThisUI(400979, 2202)
			</SCRIPT>
			<SCRIPT ID="ON_TICK">
				
			</SCRIPT>
			<HOTKEY ID="61">
				CallUI("FRM_STRATAGEMISSION_STAGE_END")
				return true
			</HOTKEY>
		</BUTTON>
		<SCRIPT ID = "ON_TICK">
			if IsInParty() then
				if IsPartyMaster( g_pilotMan:GetPlayerPilotGuid() ) then
					UISelf:GetControl("BTN_QUICKSTART"):Visible(true)
				else
					UISelf:GetControl("BTN_QUICKSTART"):Visible(false)
				end
			else
				UISelf:GetControl("BTN_QUICKSTART"):Visible(true)
			end
			if g_mode7_fDeadTime ~= nil then
				local fDeadTime = GetAccumTime() - g_mode7_fDeadTime
				if fDeadTime >= 1 then
					g_mode7_fDeadTime = GetAccumTime()
					g_mode7_fDeadCount = g_mode7_fDeadCount - math.floor(fDeadTime)
					if g_mode7_fDeadCount == -1 then
						UISelf:Close()
						return
					end
					g_mode7_iTenNum = math.floor(g_mode7_fDeadCount / 10)
					g_mode7_iOneNum = math.floor(g_mode7_fDeadCount % 10) + 1
					if (false == g_mode7_wndTen:IsNil()) and (true == g_mode7_wndTen:IsVisible()) and (g_mode7_iTenNum > 0) then
						g_mode7_wndTen:SetUVIndex(g_mode7_iTenNum + 1)
					elseif (nil ~= g_mode7_wndTen) then
						g_mode7_wndTen:Visible(false)
					end
					if false == g_mode7_wndOne:IsNil() then
						g_mode7_wndOne:SetUVIndex(g_mode7_iOneNum)
						
						if g_mode7_iTenNum==0 and 7 > g_mode7_iOneNum then
							PlaySoundByID("Bomb_Clock")
						end
					end					
				end
			end
		</SCRIPT>
		<SCRIPT ID = "ON_CALL">			
			g_mode7_wndTen = UISelf:GetControl("FRM_TEN")
			g_mode7_wndOne = UISelf:GetControl("FRM_ONE")
			g_mode7_fDeadTime = GetAccumTime()
			g_mode7_fDeadCount = g_Defence7_fDeadCount
			g_mode7_iTenNum = math.floor(g_mode7_fDeadCount / 10)
			g_mode7_iOneNum = math.floor(g_mode7_fDeadCount % 10) + 1
			if (false == g_mode7_wndTen:IsNil()) and (g_mode7_iTenNum > 0) then
				g_mode7_wndTen:Visible(true)
				g_mode7_wndTen:SetUVIndex(g_mode7_iTenNum + 1)
			end
			if false == g_mode7_wndOne:IsNil() then
				g_mode7_wndOne:SetUVIndex(g_mode7_iOneNum)
			end
			GetEventTimer():Add("DEFENCE_NEXT_DELAY", g_mode7_fDeadCount, "CallUI('FRM_STRATAGEMISSION_STAGE_END')", 1, false)
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			GetEventTimer():Del("DEFENCE_NEXT_DELAY")
		</SCRIPT>
	</FORM>

	<STATIC_FORM ID="SFRM_EVENT_SCRIPT_TEXT" X="420" Y="519" Z="5" W="500" H="47" STATIC_NUM="39" CAN_COLOR_CHANGE="1" COLOR_TYPE="2" CAN_DRAG="0">
		<FORM ID="FRM_TEXT" X="0" Y="0" W="500" H="47">
			<ATTR T_X="250" T_Y="12" T_CENTER="1" TEXT="401621" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
	</STATIC_FORM>
	
	<!--STATIC_FORM ID = "FRM_MISSION_MAP_SELECT">
		<ATTR ALIGN_X = "50" ALIGN_Y = "50" Z="-1" W ="457" H ="328"/>
		<ATTR IMG = "../Data/6_ui/mission/msMapBg.tga" IMG_W = "457" IMG_H = "287" T_X = "0" T_Y = "0"/>
		<FORM ID = "FRM_TITLE">
			<ATTR X = "22" Y = "10" W = "300" H = "28" T_X = "0" T_Y = "0" TEXT = "401180" FONT = "FTctsBig_14" FONT_COLOR_HEX = "0xFFfff568" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID = "FRM_TEXT">
			<ATTR X = "24" Y = "170" W = "416" H = "28" T_X = "0" T_Y = "0" TEXT = "401181" FONT = "Font_Text" FONT_COLOR_HEX = "0xFFffffff" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>		
		
		<BUTTON ID="BTN_TRADE" X = "288" Y = "10" W="148" H="22">
			<ATTR BTN_IMG="../Data/6_ui/mission/msMapBt2.tga" BTN_IMG_W="148" BTN_IMG_H="88" BTN_VERTICAL_IMG="1"/>
			<ATTR TEXT="401189" FONT="Font_Text" T_X="74" T_Y="3" T_CENTER="1" FONT_COLOR_HEX="0xFFfffcea" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF5e2f00"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				UpdateSoulStoneTrade()		
			</SCRIPT>			
		</BUTTON>
		
		<BUILD TARGET_ID="FRM_CARD" X="23" Y="39" X_COUNT = "4" Y_COUNT = "1" X_GAB = "103" Y_GAB = "0"/>
		<FORM ID = "FRM_CARD">
			<ATTR X = "0" Y = "0" W ="123" H ="189" />
			<IMG ID = "IMG_BG">
				<ATTR X = "0" Y = "0" W="103" H="123" IMG = "../Data/6_ui/mission/ms010100_01.tga" IMG_W = "103" IMG_H = "123"/>
			</IMG>	
		</FORM>
		<CHECK_BUTTON ID = "BTN_MAP_CURSOR0">
			<ATTR X="26" Y="43" W="126" H="58" Z="10"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msMapBt.tga" BTN_IMG_W = "272" BTN_IMG_H = "116"/>			
			<ATTR TEXT = "401180" FONT = "Font_Text" T_X = "66" T_Y ="20" T_CENTER = "1" BTN_VERTICAL_IMG="0" BTN_ENABLE_CHANGE_COLOR="0" FONT_COLOR_HEX = "0xFF00ff00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID="IMG_QUESTMARK" IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">SeleceMissionMapCheck(UISelf:GetParent(), 0)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER">SeleceMissionMapOver(UISelf:GetParent(), 0)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">SeleceMissionMapOut(UISelf:GetParent(), 0)</SCRIPT>
			<HOTKEY ID="2">
				SeleceMissionMapCheckByHotKey(UISelf:GetParent(), 0)
				return true
			</HOTKEY>
			<IMG ID="IMG_HOTKEY" IMG="../Data/6_ui/mission/msNumSt.tga" X="112" Y="4" IMG_W="60" IMG_H="40" U="3" V="2" UV_INDEX="1"/>
		</CHECK_BUTTON>
		<CHECK_BUTTON ID = "BTN_MAP_CURSOR1">
			<ATTR X="160" Y="43" W="126" H="58" Z="10"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msMapBt.tga" BTN_IMG_W = "272" BTN_IMG_H = "116"/>			
			<ATTR TEXT = "401180" FONT = "Font_Text" T_X = "66" T_Y ="20" T_CENTER = "1" BTN_VERTICAL_IMG="0" BTN_ENABLE_CHANGE_COLOR="0" FONT_COLOR_HEX = "0xFF00ff00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID="IMG_QUESTMARK" IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">SeleceMissionMapCheck(UISelf:GetParent(), 1)</SCRIPT>			
			<SCRIPT ID = "ON_MOUSE_OVER">SeleceMissionMapOver(UISelf:GetParent(), 1)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">SeleceMissionMapOut(UISelf:GetParent(), 1)</SCRIPT>			
			<HOTKEY ID="3">
				SeleceMissionMapCheckByHotKey(UISelf:GetParent(), 1)
				return true
			</HOTKEY>
			<IMG ID="IMG_HOTKEY" IMG="../Data/6_ui/mission/msNumSt.tga" X="112" Y="4" IMG_W="60" IMG_H="40" U="3" V="2" UV_INDEX="2"/>
		</CHECK_BUTTON>
		<CHECK_BUTTON ID = "BTN_MAP_CURSOR2">
			<ATTR X="295" Y="43" W="126" H="58" Z="10"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msMapBt.tga" BTN_IMG_W = "272" BTN_IMG_H = "116"/>			
			<ATTR TEXT = "401180" FONT = "Font_Text" T_X = "66" T_Y ="20" T_CENTER = "1" BTN_VERTICAL_IMG="0" BTN_ENABLE_CHANGE_COLOR="0" FONT_COLOR_HEX = "0xFF00ff00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID="IMG_QUESTMARK" IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">SeleceMissionMapCheck(UISelf:GetParent(), 2)</SCRIPT>			
			<SCRIPT ID = "ON_MOUSE_OVER">SeleceMissionMapOver(UISelf:GetParent(), 2)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">SeleceMissionMapOut(UISelf:GetParent(), 2)</SCRIPT>			
			<HOTKEY ID="4">
				SeleceMissionMapCheckByHotKey(UISelf:GetParent(), 2)
				return true
			</HOTKEY>
			<IMG ID="IMG_HOTKEY" IMG="../Data/6_ui/mission/msNumSt.tga" X="112" Y="4" IMG_W="60" IMG_H="40" U="3" V="2" UV_INDEX="3"/>
		</CHECK_BUTTON>
		<CHECK_BUTTON ID = "BTN_MAP_CURSOR3">
			<ATTR X="26" Y="100" W="126" H="58" Z="10"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msMapBt.tga" BTN_IMG_W = "272" BTN_IMG_H = "116"/>			
			<ATTR TEXT = "401180" FONT = "Font_Text" T_X = "66" T_Y ="20" T_CENTER = "1" BTN_VERTICAL_IMG="0" BTN_ENABLE_CHANGE_COLOR="0" FONT_COLOR_HEX = "0xFF00ff00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID="IMG_QUESTMARK" IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">SeleceMissionMapCheck(UISelf:GetParent(), 3)</SCRIPT>			
			<SCRIPT ID = "ON_MOUSE_OVER">SeleceMissionMapOver(UISelf:GetParent(), 3)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">SeleceMissionMapOut(UISelf:GetParent(), 3)</SCRIPT>						
			<HOTKEY ID="5">
				SeleceMissionMapCheckByHotKey(UISelf:GetParent(), 3)
				return true
			</HOTKEY>
			<IMG ID="IMG_HOTKEY" IMG="../Data/6_ui/mission/msNumSt.tga" X="112" Y="4" IMG_W="60" IMG_H="40" U="3" V="2" UV_INDEX="4"/>
		</CHECK_BUTTON>
		<CHECK_BUTTON ID = "BTN_MAP_CURSOR4">
			<ATTR X="160" Y="100" W="126" H="58" Z="10"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msMapBt.tga" BTN_IMG_W = "272" BTN_IMG_H = "116"/>			
			<ATTR TEXT = "401180" FONT = "Font_Text" T_X = "66" T_Y ="20" T_CENTER = "1" BTN_VERTICAL_IMG="0" BTN_ENABLE_CHANGE_COLOR="0" FONT_COLOR_HEX = "0xFF00ff00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID="IMG_QUESTMARK" IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">SeleceMissionMapCheck(UISelf:GetParent(), 4)</SCRIPT>			
			<SCRIPT ID = "ON_MOUSE_OVER">SeleceMissionMapOver(UISelf:GetParent(), 4)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">SeleceMissionMapOut(UISelf:GetParent(), 4)</SCRIPT>						
			<HOTKEY ID="6">
				SeleceMissionMapCheckByHotKey(UISelf:GetParent(), 4)
				return true
			</HOTKEY>
			<IMG ID="IMG_HOTKEY" IMG="../Data/6_ui/mission/msNumSt.tga" X="112" Y="4" IMG_W="60" IMG_H="40" U="3" V="2" UV_INDEX="5"/>
		</CHECK_BUTTON>
		<CHECK_BUTTON ID = "BTN_MAP_CURSOR5">
			<ATTR X="295" Y="100" W="126" H="58" Z="10"/>
			<ATTR BTN_IMG = "../Data/6_ui/mission/msMapBt.tga" BTN_IMG_W = "272" BTN_IMG_H = "116"/>			
			<ATTR TEXT = "401180" FONT = "Font_Text" T_X = "66" T_Y ="20" T_CENTER = "1" BTN_VERTICAL_IMG="0" BTN_ENABLE_CHANGE_COLOR="0" FONT_COLOR_HEX = "0xFF00ff00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			<IMG ID="IMG_QUESTMARK" IMG="../Data/6_ui/icon/IconType.tga" X="-20" Y="0" IMG_W="480" IMG_H="480" U="12" V="12" UV_INDEX="1" IS_VISIBLE="0"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">SeleceMissionMapCheck(UISelf:GetParent(), 5)</SCRIPT>			
			<SCRIPT ID = "ON_MOUSE_OVER">SeleceMissionMapOver(UISelf:GetParent(), 5)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT">SeleceMissionMapOut(UISelf:GetParent(), 5)</SCRIPT>						
			<HOTKEY ID="7">
				SeleceMissionMapCheckByHotKey(UISelf:GetParent(), 5)
				return true
			</HOTKEY>
			<IMG ID="IMG_HOTKEY" IMG="../Data/6_ui/mission/msNumSt.tga" X="112" Y="4" IMG_W="60" IMG_H="40" U="3" V="2" UV_INDEX="6"/>
		</CHECK_BUTTON>		

		<BUTTON ID = "BTN_JOIN">
			<ATTR X="93" Y="244" W="84" H="41"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT = "401182" FONT = "FTbt_12" T_X = "42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(401182, 2200) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP"> 
				local Selectwnd = UISelf:GetParent():GetControl("FRM_AUTO_MAP_SELECT")
				if false==Selectwnd:IsNil() then 
					if true == Selectwnd:IsVisible() then
						Selectwnd:Visible(false)
					else
						Selectwnd:Visible(true)
					end					
				end				
			</SCRIPT>
			<HOTKEY ID="59">
				local Selectwnd = UISelf:GetParent():GetControl("FRM_AUTO_MAP_SELECT")
				if false==Selectwnd:IsNil() then 
					if true == Selectwnd:IsVisible() then
						Selectwnd:Visible(false)
					else
						Selectwnd:Visible(true)
					end					
				end
			</HOTKEY>
		</BUTTON>		
		<BUTTON ID = "BTN_SELECT_JOIN">
			<ATTR X="183" Y="244" W="84" H="41"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT = "401183" FONT = "FTbt_12" T_X = "42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(401183, 2201) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP"> 
				if 0 == SelectMissionMapCount(UISelf:GetParent(), -1) then					
					CommonMsgBox(GetTT(401190):GetStr(), true)
					return
				end
				MissionSelectedKeyDownSelectJoin(UISelf:GetParent())
			</SCRIPT>
			<HOTKEY ID="60">
				if 0 == SelectMissionMapCount(UISelf:GetParent(), -1) then					
					CommonMsgBox(GetTT(401190):GetStr(), true)
					return
				end
				MissionSelectedKeyDownSelectJoin(UISelf:GetParent())
			</HOTKEY>
		</BUTTON>
		<BUTTON ID = "BTN_EXIT">
			<ATTR X="273" Y="244" W="84" H="41"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT = "915" FONT = "FTbt_12" T_X = "42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(915, 2205) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP"> 
				UISelf:CloseParent() 
				if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
					CallMissionRetryUI()
				end
				return true
			</SCRIPT>
			<HOTKEY ID="64">
				UISelf:CloseParent() 
				if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
					CallMissionRetryUI()
				end
				return true
			</HOTKEY>
		</BUTTON>		
		<BUTTON ID = "BTN_MUTATOR_SELECT">
			<ATTR X="373" Y="244" W="84" H="41"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT = "401260" FONT = "FTbt_12" T_X = "42" T_Y ="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER = "1" />
			<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(401260, 2205) </SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">
				MakeMutatorUI()
			</SCRIPT>
		</BUTTON>

		<STATIC_FORM ID = "FRM_AUTO_MAP_SELECT" IS_VISIBLE = "0">
			<ATTR X="36" Y="280" Z="-1" STATIC_NUM="30" W ="206" H ="41"/>		
			<BUTTON ID="BTN_1" X="7" Y="6" Z="1" W="64" H="29">
				<ATTR TEXT="401185" T_X="31" T_Y="6" T_CENTER="1" FONT="FTbt_12" FONT_COLOR_HEX="0xFF2A0F0B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF452400" />
				<ATTR BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmMnBg01.tga" BTN_IMG_W="124" BTN_IMG_H="58" U="2" V="2"/>
				<SCRIPT ID="ON_L_BTN_DOWN">MissionSelectedKeyDownJoin(UISelf:GetParent():GetParent(), 1)</SCRIPT>
				<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(401185, 2202) </SCRIPT>
				<HOTKEY ID="61"> MissionSelectedKeyDownJoin(UISelf:GetParent():GetParent(), 1) return true </HOTKEY>
			</BUTTON>			
			<BUTTON ID="BTN_2" X="72" Y="6" Z="1" W="64" H="29">
				<ATTR TEXT="401186" T_X="31" T_Y="6" T_CENTER="1" FONT="FTbt_12" FONT_COLOR_HEX="0xFF2A0F0B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF452400" />
				<ATTR BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmMnBg01.tga" BTN_IMG_W="124" BTN_IMG_H="58" U="2" V="2"/>
				<SCRIPT ID="ON_L_BTN_DOWN">MissionSelectedKeyDownJoin(UISelf:GetParent():GetParent(), 2)</SCRIPT>
				<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(401186, 2203) </SCRIPT>
				<HOTKEY ID="62"> MissionSelectedKeyDownJoin(UISelf:GetParent():GetParent(), 2) return true </HOTKEY>
			</BUTTON>
			<BUTTON ID="BTN_3" X="137" Y="6" Z="1" W="64" H="29">
				<ATTR TEXT="401187" T_X="31" T_Y="6" T_CENTER="1" FONT="FTbt_12" FONT_COLOR_HEX="0xFF2A0F0B" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF452400" />
				<ATTR BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="9"/>
				<ATTR BTN_IMG="../Data/6_ui/common/cmMnBg01.tga" BTN_IMG_W="124" BTN_IMG_H="58" U="2" V="2"/>
				<SCRIPT ID="ON_L_BTN_DOWN">MissionSelectedKeyDownJoin(UISelf:GetParent():GetParent(), 3)</SCRIPT>
				<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(401187, 2204) </SCRIPT>
				<HOTKEY ID="63"> MissionSelectedKeyDownJoin(UISelf:GetParent():GetParent(), 3) return true </HOTKEY>
			</BUTTON>
			<SCRIPT ID = "ON_CALL">
				UISelf:Visible(false)
			</SCRIPT>
		</STATIC_FORM>
		
		<SCRIPT ID = "ON_CALL">			
			RegistUIAction(UISelf, "CloseUI")
			SetMissionMapSelectImage(UISelf)
		</SCRIPT>	
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			ClearMutatorList()
		</SCRIPT>
		<HOTKEY ID = "1"> 
			UISelf:Close()
			if GetUIWnd("FRM_GAMING_RANDOM"):IsNil() == false then
				CallMissionRetryUI()
			end
			return true
		</HOTKEY>		
	</STATIC_FORM-->
	
	<FORM ID = "FRM_BONUS_TIMELIMIT">
		<ATTR ALIGN_X = "50" Y = "106" Z = "1" W ="220" H ="32" IS_ABSOLUTE_Y="1" IMG="../Data/6_ui/mission/msBsTmBg.tga" IMG_W = "220" IMG_H = "32" USE_OFFSCREEN="0"/>

		<FORM ID = "FRM_TITLE">
			<ATTR TEXT = "401067" X = "10" Y = "6" W = "200" H = "36" FONT = "FTslot" T_X="0" T_Y="0" FONT_COLOR_HEX = "0xFFfffcd4" T_OUTLINE="1"/>
		</FORM>	
		
		<FORM ID = "FRM_TITLE_TEXT">
			<ATTR TEXT = "401197" X = "-200" Y = "46" W = "620" H = "36" FONT = "FT15" T_X="310" T_Y="0" T_CENTER = "1" FONT_COLOR_HEX = "0xFFFFFFFF" T_OUTLINE="1"/>
		</FORM>	

		<FORM ID="FRM_MIN10" X="95" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_MIN1" X="114" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<IMG ID="IMG_TIMER_SEPS" X="137" Y="5" Z="0" W="10" H="20" IMG="../Data/6_ui/mission/msTimeRdot.tga" IMG_W="10" IMG_H="20" IS_VISIBLE = "1"/>		
		<FORM ID="FRM_SEC10" X="140" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_UI/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>		
		<FORM ID="FRM_SEC1" X="159" Y="-3" Z="0" W="35" H="35" >
			<ATTR IMG="../Data/6_ui/mission/msNumRs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>		
		
		<FORM ID="FRM_SEC1000" X="181" Y="5" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_UI/mission/msNumTmRs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>
		<FORM ID="FRM_SEC100" X="195" Y="5" Z="0" W="30" H="30" >
			<ATTR IMG="../Data/6_UI/mission/msNumTmRs.tga" IMG_W="125" IMG_H="50" U="5" V="2" UV_INDEX="1" IS_VISIBLE = "1"/>
		</FORM>		
		
		<SCRIPT ID = "ON_DISPLAY"> DisplayMissionBonusTimeLimit(UISelf) </SCRIPT>
		<SCRIPT ID = "ON_CLOSE"> 
			g_iMissionBonusTimeLimit = 0 
			g_iMissionBonusTotalTimeLimit = 0
			g_fMissionBonusStartTimeLimit = 0
		</SCRIPT>
	</FORM>	
	
	<FORM ID = "FRM_BONUS_MISSION_START" IS_ABSOLUTE_Y="1">
		<ATTR ALIGN_X="50" ALIGN_Y="36" W="1023" H="550" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msStartBg1.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msStartBg2.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_MISSION">
			<ATTR X = "-330" Y="5" W="332" H="70" IMG = "../Data/6_ui/mission/msBonusT01.tga" IMG_W = "332" IMG_H = "70" CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		</IMG>
		<IMG ID = "IMG_CLEAR" X = "1023" Y="70" W="400" H="91" IMG = "../Data/6_ui/mission/msBonusT02.tga" IMG_W = "400" IMG_H = "91"  CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_MISSION")
			local st = UISelf:GetControl("IMG_CLEAR")
			ms:SetLocation( Point2(-330, ms:GetLocation():GetY()) )
			st:SetLocation( Point2(1023, st:GetLocation():GetY()) )
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()
		</SCRIPT>
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_MISSION")
			local st = UISelf:GetControl("IMG_CLEAR")
			local msLoc = ms:GetLocation()
			local stLoc = st:GetLocation()

			if g_StartUIState == 1 then
				local iX = 270
				local iX2 = 370
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/0.3*600
					iX2 = 1023 - iDelta/0.3*653
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 1.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				local iX = -330
				local iX2 = 1023
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = 270 + iDelta/0.3*754
					iX2 = 370 - iDelta/0.3*671
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
				stLoc:SetX(iX2)
				st:SetLocation(stLoc)
			elseif g_StartUIState == 4 then
				UISelf:Close()
			end
		</SCRIPT>
	</FORM>	
	
	<FORM ID = "FRM_BONUS_MISSION_FAILED" IS_ABSOLUTE_Y="1">
		<ATTR ALIGN_X="50" Y="78" W="1023" H="550" PASS_EVENT = "1"/>
		<ATTR IMG = "../Data/6_ui/mission/msStartBg1.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_RIGHT" X = "512" Y="0" Z="-1" IMG = "../Data/6_ui/mission/msStartBg2.tga" IMG_W = "512" IMG_H = "166"/>
		<IMG ID = "IMG_MISSION">
			<ATTR X = "0" Y="25" W="512" H="100" IMG = "../Data/6_ui/mission/msTimeout.tga" IMG_W = "512" IMG_H = "100" CAN_CLIP = "1" IGNORE_PARENT_RECT = "1"/>
		</IMG>
		<SCRIPT ID = "ON_CALL">
			local ms = UISelf:GetControl("IMG_MISSION")
			ms:SetLocation( Point2(ms:GetLocation():GetX(), 25) )
			g_StartUIState = 1
			g_StartUITimeStamp = GetAccumTime()
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			local packet = NewPacket(13521) --[[PT_C_M_MISSION_NEXT_STAGE]]
			Net_Send(packet)
			DeletePacket(packet)
		</SCRIPT>		
		<SCRIPT ID = "ON_DISPLAY">
			local iDelta = GetAccumTime() - g_StartUITimeStamp
			local ms = UISelf:GetControl("IMG_MISSION")
			local msLoc = ms:GetLocation()

			if g_StartUIState == 1 then
				local iX = 270
				local iX2 = 370
				if iDelta > 0.3 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				else
					iX = -330 + iDelta/0.3*600
					iX2 = 1023 - iDelta/0.3*653
				end
				msLoc:SetX(iX)
				ms:SetLocation(msLoc)
			elseif g_StartUIState == 2 then
				if iDelta > 3.0 then
					g_StartUIState = g_StartUIState + 1
					g_StartUITimeStamp = GetAccumTime()
				end
			elseif g_StartUIState == 3 then
				UISelf:Close()
			end
		</SCRIPT>
	</FORM>		
	<FORM ID = "FRM_REST_MON_REGEN_NUM">
		<ATTR ALIGN_X="100" IS_ABSOLUTE_Y = "1" Y = "292" W = "214" H = "36" IMG="../Data/6_ui/mission/msMonNbg.tga" IMG_W = "214" IMG_H = "36" PASS_EVENT = "1"/>
		<ATTR FONT = "QTtext_25" TEXT = "" T_OUTLINE="1" T_X = "142" T_Y = "3" T_CENTER = "1" FONT_COLOR_HEX = "0xFFfaf264"/>
		<FORM ID = "FRM_TITLE">
			<ATTR X = "0" Y = "0" W = "201" H = "36" FONT = "FT15" T_OUTLINE="1" TEXT = "401195" T_X = "6" T_Y = "9" FONT_COLOR_HEX="0xFFFFFFFF"/>
		</FORM>
		<SCRIPT ID = "ON_ACTIVATE">
			SetYCoinUI(-483)
			UISelf:SetStaticText(tostring(g_RestMonsterNum))
		</SCRIPT>
	</FORM>	

	<!------------------- EXPEDITION COMPLETE --------------------->
	<FORM ID="FRM_EXPEDITION_COMPLETE" STATIC_NUM="1">
		<ATTR ALIGN_X="50" ALIGN_Y="50" W="1023" H="767" PASS_EVENT = "1"/>
	
		<FORM ID="FRM_EXPEDITION_RESULT" X="1023" Y="51" Z="1" W="512" H="89" IGNORE_PARENT_RECT = "1">
			<ATTR IMG="../Data/6_ui/expedition/epRtFont.tga" IMG_W="512" IMG_H="89"/>
		</FORM>
		
		<!-- BEST -->
		<FORM ID="FRM_EXPEDITION_BEST" X="1023" Y="99" W="581" H="194" IGNORE_PARENT_RECT = "1">
			<IMG ID="IMG_BG" X="0" Y="0" W="512" H="194" IMG="../Data/6_ui/expedition/epBPbg01.tga" IMG_W="512" IMG_H="194"/>
			<IMG ID="IMG_BG_RIGHT" X="512" Y="0" W="69" H="194" IMG="../Data/6_ui/expedition/epBPbg02.tga" IMG_W="69" IMG_H="194"/>
			<IMG ID="IMG_BESTPLAY" X="298" Y="12" W="200" H="43" IMG="../Data/6_ui/expedition/epFtBestPlay.tga" IMG_W="200" IMG_H="43"/>
			<FORM ID="FRM_BESTTEXT" X="302" Y="45" Z="1" W="200" H="24">
				<ATTR TEXT="710061" T_X="0" T_Y="0" FONT="Font_Text" FONT_COLOR_HEX="0xFFFFF568" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			</FORM>
			<FORM ID="FRM_BESTTEAM" X="0" Y="80" W="512" H="24">
				<FORM ID="FRM_TEXT" X="12" Y="0" W="140" H="24">
					<ATTR TEXT="710062" T_X="70" T_Y="0" FONT="FTcts_13" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
				<FORM ID="FRM_TEAM" X="150" Y="0" W="235" H="24">
					<ATTR TEXT="" T_X="109" T_Y="0" FONT="FTcts_13" T_CENTER="1" FONT_COLOR_HEX="0xFF3c1d0c"/>
				</FORM>
				<FORM ID="FRM_DP" X="390" Y="0" W="122" H="24">
					<ATTR TEXT="" T_X="120" T_Y="0" FONT="FTcts_13" T_RIGHT="1" FONT_COLOR_HEX="0xFF7a0026"/>
				</FORM>
			</FORM>
			<FORM ID="FRM_BESTPLAYER" X="0" Y="117" W="512" H="24">
				<FORM ID="FRM_TEXT" X="12" Y="0" W="140" H="24">
					<ATTR TEXT="710063" T_X="70" T_Y="0" FONT="FTcts_13" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
				<FORM ID="FRM_PLAYER" X="150" Y="0" W="235" H="24">
					<ATTR TEXT="" T_X="109" T_Y="0" FONT="FTcts_13" T_CENTER="1" FONT_COLOR_HEX="0xFF3c1d0c"/>
				</FORM>
				<FORM ID="FRM_DP" X="390" Y="0" W="122" H="24">
					<ATTR TEXT="" T_X="120" T_Y="0" FONT="FTcts_13" T_RIGHT="1" FONT_COLOR_HEX="0xFF7a0026"/>
				</FORM>
			</FORM>
			<FORM ID="FRM_BESTSUPPORTER" X="0" Y="154" W="512" H="24">
				<FORM ID="FRM_TEXT" X="12" Y="0" W="140" H="24">
					<ATTR TEXT="710064" T_X="70" T_Y="0" FONT="FTcts_13" T_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				</FORM>
				<FORM ID="FRM_SUPPORTER" X="150" Y="0" W="235" H="24">
					<ATTR TEXT="" T_X="109" T_Y="0" FONT="FTcts_13" T_CENTER="1" FONT_COLOR_HEX="0xFF3c1d0c"/>
				</FORM>
				<FORM ID="FRM_HP" X="390" Y="0" W="122" H="24">
					<ATTR TEXT="" T_X="120" T_Y="0" FONT="FTcts_13" T_RIGHT="1" FONT_COLOR_HEX="0xFF7a0026"/>
				</FORM>
			</FORM>
			<IMG ID="IMG_BONUS" X="290" Y="92" Z="2" W="97" H="66" IMG="../Data/6_ui/expedition/epBonus.tga" IMG_W="97" IMG_H="66">
				<ATTR TEXT="710040" T_X="48" T_Y="16" T_CENTER="1" FONT="Font_Text" FONT_COLOR_HEX="0xFF000000"/>
			</IMG>
		</FORM>
		
		<!-- REWARD -->
		<FORM ID="FRM_EXPEDITION_REWARD" X="1023" Y="302" W="581" H="430" IGNORE_PARENT_RECT = "1">
			<IMG ID="IMG_BG" X="0" Y="0" W="512" H="292" IMG="../Data/6_ui/expedition/epTMbg01.tga" IMG_W="512" IMG_H="292"/>
			<IMG ID="IMG_BG_RIGHT" X="512" Y="0" W="69" H="292" IMG="../Data/6_ui/expedition/epTMbg02.tga" IMG_W="69" IMG_H="292"/>
			
			<LIST ID="LST_EXPEDITION_REWARD" X="0" Y="0" Z="1" W="581" H="292">
				<ATTR ELEMENT_ID="FRM_REWARD_ITEM" ITEM_X="5" ITEM_Y="10"/>
			</LIST>
			
			<CHECK_BUTTON ID="CHK_TEAM1" X="10" Y="291" W="103" H="38" BTN_ENABLE_CHANGE_COLOR="0" BTN_CLICK_LOCK="1">
				<ATTR BTN_IMG="../Data/6_ui/expedition/epRtTab01.tga" BTN_IMG_W="206" BTN_IMG_H="76"/>
				<ATTR TEXT="710027" T_X="51" T_Y="19" FONT="FTcts_13" T_CENTER="1" T_Y_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_GET_FOCUS">
					if not UISelf:GetCheckState() then
						OnSelectExpeditionTeam2(UISelf:GetParent(), 1)
						UpdateRewardInfo(UISelf:GetParent():GetParent())
					end
				</SCRIPT>
				<SCRIPT ID="ON_CALL">
					ExpeditionTeamButtonState(UISelf, 1)
				</SCRIPT>
			</CHECK_BUTTON>
			<CHECK_BUTTON ID="CHK_TEAM2" X="114" Y="291" W="103" H="38" BTN_ENABLE_CHANGE_COLOR="0" BTN_CLICK_LOCK="1">
				<ATTR BTN_IMG="../Data/6_ui/expedition/epRtTab02.tga" BTN_IMG_W="206" BTN_IMG_H="76"/>
				<ATTR TEXT="710027" T_X="51" T_Y="19" FONT="FTcts_13" T_CENTER="1" T_Y_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_GET_FOCUS">
					if not UISelf:GetCheckState() then
						OnSelectExpeditionTeam2(UISelf:GetParent(), 2)
						UpdateRewardInfo(UISelf:GetParent():GetParent())
					end
				</SCRIPT>
				<SCRIPT ID="ON_CALL">
					ExpeditionTeamButtonState(UISelf, 2)
				</SCRIPT>
			</CHECK_BUTTON>
			<CHECK_BUTTON ID="CHK_TEAM3" X="218" Y="291" W="103" H="38" BTN_ENABLE_CHANGE_COLOR="0" BTN_CLICK_LOCK="1">
				<ATTR BTN_IMG="../Data/6_ui/expedition/epRtTab03.tga" BTN_IMG_W="206" BTN_IMG_H="76"/>
				<ATTR TEXT="710027" T_X="51" T_Y="19" FONT="FTcts_13" T_CENTER="1" T_Y_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_GET_FOCUS">
					if not UISelf:GetCheckState() then
						OnSelectExpeditionTeam2(UISelf:GetParent(), 3)
						UpdateRewardInfo(UISelf:GetParent():GetParent())
					end
				</SCRIPT>
				<SCRIPT ID="ON_CALL">
					ExpeditionTeamButtonState(UISelf, 3)
				</SCRIPT>
			</CHECK_BUTTON>
			<CHECK_BUTTON ID="CHK_TEAM4" X="322" Y="291" W="103" H="38" BTN_ENABLE_CHANGE_COLOR="0" BTN_CLICK_LOCK="1">
				<ATTR BTN_IMG="../Data/6_ui/expedition/epRtTab04.tga" BTN_IMG_W="206" BTN_IMG_H="76"/>
				<ATTR TEXT="710027" T_X="51" T_Y="19" FONT="FTcts_13" T_CENTER="1" T_Y_CENTER="1" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_GET_FOCUS">
					if not UISelf:GetCheckState() then
						OnSelectExpeditionTeam2(UISelf:GetParent(), 4)
						UpdateRewardInfo(UISelf:GetParent():GetParent())
					end
				</SCRIPT>
				<SCRIPT ID="ON_CALL">
					ExpeditionTeamButtonState(UISelf, 4)
				</SCRIPT>
			</CHECK_BUTTON>
			<SCRIPT ID="ON_CALL">
				g_EpCurrSelectTeam = GetMemberTeamNumber(g_pilotMan:GetPlayerPilotGuid())
				OnSelectExpeditionTeam2(UISelf, g_EpCurrSelectTeam)
			</SCRIPT>
		</FORM>
		
		<!-- TENDER -->
		<FORM ID="FRM_EXPEDITION_TENDER" X="-405" Y="99" W="405" H="360" IGNORE_PARENT_RECT = "1">
			<ATTR IMG="../Data/6_ui/expedition/epTDbg.tga" IMG_W="405" IMG_H="360" PASS_EVENT="1"/>
			<IMG ID="IMG_TENDER" X="27" Y="12" W="200" H="43" IMG="../Data/6_ui/expedition/epFtItemTender.tga" IMG_W="200" IMG_H="43" PASS_EVENT="1">
				<ATTR TEXT="710056" T_X="2" T_Y="32" FONT="Font_Text" FONT_COLOR_HEX="0xFFfff568" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			</IMG>
			
			<LIST ID="LST_TENDER" X="25" Y="68" Z="1" W="359" H="222">
				<ATTR ELEMENT_ID="FRM_TENDER_ITEM" ITEM_X="0" ITEM_Y="0"/>
				<IMG ID="IMG_LIST_SCROLL_BG" X="361" Y="15" W="13" H="186" IGNORE_PARENT_RECT="1">
					<ATTR IMG="../Data/6_ui/Common/cmScrollBg.tga" IMG_W="13" IMG_H="352"/>
				</IMG>
				<BUTTON ID="ScrUp" X="357" Y="0" W="19" H="15">
					<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollUp.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
				</BUTTON>			
				<BUTTON ID="ScrDown" X="357" Y="201" W="19" H="15">
					<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollDn.tga" BTN_IMG_W="38" BTN_IMG_H="30"/>
				</BUTTON>
				<BUTTON ID="ScrMiddle" X="359" Y="15" W="15" H="21">
					<ATTR BTN_IMG="../Data/6_ui/Common/cmScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42"/>
				</BUTTON>
				<ATTR BTN_UP="ScrUp" />
				<ATTR BTN_DOWN="ScrDown" />
				<ATTR BTN_MIDDLE="ScrMiddle" />
				<ATTR WND_BAR="IMG_LIST_SCROLL_BG"/>
			</LIST>
			
			<FORM ID="FRM_TENDER_CHANCE" X="0" Y="293" W="405" H="50">
				<ATTR TEXT="710059" T_X="202" T_Y="0" FONT="FTcts_13" T_CENTER="1" FONT_COLOR_HEX="0xFFfff568" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_TICK">
					UISelf:SetStaticText( string.format(GetTextW(710059):GetStr(), GetTenderChance()) )
				</SCRIPT>
			</FORM>
			<FORM ID="FRM_TENDER_INFO" X="0" Y="315" W="405" H="50">
				<ATTR TEXT="710060" T_X="202" T_Y="0" FONT="Font_Text" T_CENTER="1" FONT_COLOR_HEX="0xFFff2b33" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
			</FORM>
		</FORM>
		
		<!-- OUT -->
		<FORM ID="FRM_EXPEDITION_EXIT" ALIGN_X="50" Y="666" W="262" H="74">
			<BUTTON ID="BTN_EXIT" X="59" Y="0" W="144" H="26">
				<ATTR BTN_IMG="../Data/6_ui/community/cpBtLong.tga" BTN_IMG_W="144" BTN_IMG_H="104" U="1" V="4" UV_INDEX="1"/>
				<ATTR TEXT="" T_X="72" T_Y="13" FONT="FT15" T_CENTER="1" T_Y_CENTER="1" BTN_T_COLOR_TYPE="10"/>
				<SCRIPT ID = "ON_CREATE"> SetTextOnThisUI(710044, 2201) </SCRIPT>
				<SCRIPT ID="ON_L_BTN_DOWN">
					CallYesNoMsgBox(GetTT(720037), GUID(), MBT_EXPEDITION_COMPLETE_EXIT)
				</SCRIPT>
				<HOTKEY ID="60">
					CallYesNoMsgBox(GetTT(720037), GUID(), MBT_EXPEDITION_COMPLETE_EXIT)
					return true
				</HOTKEY>
			</BUTTON>
			<IMG ID="IMG_BG_TIMER" X="0" Y="30" W="262" H="44" IMG="../Data/6_ui/mission/msRwTmbg.tga" IMG_W="262" IMG_H="44" PASS_EVENT="1">
				<ATTR TEXT="710042" T_X="131" T_Y="22" FONT="Font_Warn" T_CENTER="1" T_Y_CENTER="1" FONT_COLOR_HEX="0xFFfef741" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
				<SCRIPT ID="ON_CALL">
					UISelf:SetStaticText( string.format(GetTextW(710042):GetStr(), 3) )
				</SCRIPT>
				<SCRIPT ID="ON_DISPLAY">
					if g_fExpeditionBoxLimitTime ~= nil then
						if GetAccumTime() - g_fExpeditionBoxLimitTime >= 1 then
							g_fExpeditionBoxLimitTime = GetAccumTime()
							g_fExpeditionExitTime = g_fExpeditionExitTime - 1
							if g_fExpeditionExitTime >= 0 then
								UISelf:SetStaticText( string.format(GetTextW(710042):GetStr(), g_fExpeditionExitTime) )
							end
						end
					end
				</SCRIPT>
			</IMG>
			<SCRIPT ID="ON_CALL">
				g_fExpeditionBoxLimitTime = GetAccumTime()
				g_fExpeditionExitTime = 3
				UISelf:GetControl("BTN_EXIT"):Disable(true)
				UISelf:GetControl("IMG_BG_TIMER"):Visible(false)
			</SCRIPT>
		</FORM>
	</FORM>
	
	<!-- LIST ITEM -->
	<FORM ID="FRM_REWARD_ITEM" X="0" Y="0" W="581" H="68">
		<BUILD TARGET_ID="FRM_BONUS" X="227" Y="6" X_COUNT="6" Y_COUNT="1" X_GAB="53"/>
		<FORM ID="FRM_BONUS" X="0" Y="0" Z="2" W="60" H="60">
			<ATTR IMG="../Data/6_ui/expedition/epItemBg.tga" IMG_W="60" IMG_H="60"/>
			<IMG ID = "IMG_BONUS" X="10" Y="8" W ="40" H ="40">
				<SCRIPT ID = "ON_CALL">	UISelf:SetCustomDataAsInt(0) </SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OVER">OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
				<SCRIPT ID = "ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			</IMG> 
		</FORM>
		<FORM ID="FRM_USER_ID" X="0" Y="0" Z="2" W="220" H="68">
			<ATTR TEXT="" T_X="35" T_Y="34" T_Y_CENTER="1" FONT="FTctsBig_14" FONT_COLOR_HEX="0xFFffeeb9" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID="FRM_HIGHLIGHT" X="0" Y="-5" Z="1" W="562" H="78" IGNORE_PARENT_RECT="1" IS_VISIBLE="0">
			<IMG ID="IMG_HIGHLIGHT" X="0" Y="0" W="512" H="78" IMG="../Data/6_ui/expedition/epMybg01.tga" IMG_W="512" IMG_H="78"/>
			<IMG ID="IMG_HIGHLIGHT_RIGHT" X="512" Y="0" W="50" H="78" IMG="../Data/6_ui/expedition/epMybg02.tga" IMG_W="50" IMG_H="78"/>
		</FORM>
	</FORM>
	
	<FORM ID="FRM_TENDER_ITEM" X="0" Y="0" Z="-1" W="356" H="74">
		<FORM ID="FRM_BG" X="1" Y="3" Z="0" W="351" H="72">
			<ATTR IMG="../Data/6_ui/expedition/epTDBox.tga" IMG_W="351" IMG_H="72"/>
		</FORM>
		<FORM ID="FRM_OUTLINE" X="-3" Y="-3" Z="1" W="359" H="80" IS_VISIBLE="0">
			<ATTR IMG="../Data/6_ui/expedition/epTDLine.tga" IMG_W="359" IMG_H="80"/>
		</FORM>
		<FORM_ICON_ROULETTE_WND ID="IMG_BONUS" X="19" Y="17" Z="2" W="40" H="40" IMG_W="480" IMG_H="480">
			<SCRIPT ID = "ON_CALL"> UISelf:ClearRouletteInfo()  </SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OVER"> OnCallMissionRewardItemToolTip(UISelf)</SCRIPT>
			<SCRIPT ID = "ON_MOUSE_OUT"> CloseToolTip()</SCRIPT>
		</FORM_ICON_ROULETTE_WND>
		<FORM ID="FRM_WINNER" X="66" Y="15" Z="1" W="200" H="20">
			<ATTR TEXT="" T_X="10" T_Y="10" FONT="Font_Text" T_Y_CENTER="1" FONT_COLOR_HEX="0xFFacacac" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<BUTTON ID="BTN_NEED" X="66" Y="39" Z="1" W="90" H="20">
			<ATTR BTN_IMG="../Data/6_ui/expedition/epTDbt.tga" BTN_IMG_W="90" BTN_IMG_H="84" U="1" V="4" UV_INDEX="1"/>
			<ATTR TEXT="710057" T_X="10" T_Y="10" FONT="Font_Text" T_Y_CENTER="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Send_PT_C_N_REQ_TENDER_ITEM()
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_PASS" X="157" Y="39" Z="1" W="90" H="20">
			<ATTR BTN_IMG="../Data/6_ui/expedition/epTDbt.tga" BTN_IMG_W="90" BTN_IMG_H="84" U="1" V="4" UV_INDEX="1"/>
			<ATTR TEXT="710058" T_X="10" T_Y="10" FONT="Font_Text" T_Y_CENTER="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Send_PT_C_N_REQ_GIVEUP_TENDER()
			</SCRIPT>
		</BUTTON>
		<IMG ID="IMG_TIME_10" X="285" Y="19" Z="1" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
		<IMG ID="IMG_TIME_1" X="308" Y="19" Z="1" W="35" H="35" IMG="../Data/6_ui/mission/msNumYs.tga" IMG_W="175" IMG_H="70" U="5" V="2" UV_INDEX="1" NO_FOCUS="1"/>
	</FORM>

	<STATIC_FORM ID="SFRM_DEFENCE7_RELAY" ALIGN_X="50" Y="180" W="272" H="284" CAN_DRAG="1" STATIC_NUM="1">
		<ICON ID="ICN_ITEM" ICON_GRP="254" ICON_STATIC="1">
			<ATTR X="115" Y="17" Z="10" W="42" H="42" IMG_W="42" IMG_H="42" IGNORE_PARENT_RECT="1"/>
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
			<SCRIPT ID="ON_CALL">
				UISelf:SetCustomDataAsInt(299600800)
				UISelf:SetGrayScale(0==GetDefence7RelayItem())
			</SCRIPT>
		</ICON>
		<STATIC_FORM ID="SFRM_COLOR" X="9" Y="7" W="254" H="214" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFR_SDW" X="0" Y="0" W="254" H="214" STATIC_NUM="3"/>
			<STATIC_FORM ID="SFRM_COLOR2" X="106" Y="10" W="42" H="43" CAN_COLOR_CHANGE="1" STATIC_NUM="5" COLOR_TYPE="1"/>
			<IMG ID="IMG_LINE1" X="9" Y="57" W="236" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="236" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="5"/>
			<IMG ID="IMG_LINE2" X="9" Y="58" W="236" H="1" IMG="../Data/6_ui/common/cmBody.tga" IMG_W="236" IMG_H="1" CAN_COLOR_CHANGE="1" COLOR_TYPE="6"/>
			<STATIC_FORM ID="SFRM_COLOR3" X="7" Y="62" W="240" H="120" CAN_COLOR_CHANGE="1" STATIC_NUM="6" COLOR_TYPE="3">
				<STATIC_FORM ID="SFR_SDW" X="0" Y="0" W="240" H="120" STATIC_NUM="3"/>
				<FORM ID="FRM_TEXT" X="0" Y="0" W="230" H="120">
					<ATTR TEXT="" FONT="Font_Text" T_X="120" T_Y="10" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413"/>
					<SCRIPT ID="ON_CALL">
						local kText = GetTT(401222)
						if false==kText:IsNil() then
							kText:ReplaceInt("#STAGE_NO#", math.max(2,g_iMissionStage+1))
							kText:ReplaceInt("#POINT#", GetDefence7RelayPoint(g_iMissionStage+1))
						end
						UISelf:SetStaticText(kText:GetStr())
					</SCRIPT>
				</FORM>
			</STATIC_FORM>
		</STATIC_FORM>

		<CHECK_BUTTON ID="CBTN_REMOVE_GUARDIAN" X="75" Y="194" W="90" H="20">
			<ATTR BTN_IMG="../Data/6_UI/common/cmBtCheck.tga" BTN_IMG_W="40" BTN_IMG_H="40"/>
			<ATTR TEXT="401158" T_X="22" T_Y="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">UISelf:CheckState(false)</SCRIPT>
		</CHECK_BUTTON>
		<FORM ID="FRM_INFO" X="164" Y="195" W="20" H="19">
			<ATTR IMG="../Data/6_ui/mission/msF7MkQ.tga" IMG_W="40" IMG_H="38" U="2" V="2" UV_INDEX="1"/>
			<SCRIPT ID="ON_MOUSE_OVER">
				UISelf:SetUVIndex(2)
				CallToolTipText(0, GetTextW(750042), GetUIWnd("Cursor"):GetLocation())
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">
				UISelf:SetUVIndex(1)
				CloseToolTip()
			</SCRIPT>
		</FORM>
		<STATIC_FORM ID="SFRM_ANIBAR_BG" X="14" Y="222" W="246" H="18" STATIC_NUM="34">
			<ANI_BAR ID="BAR_TIMER" X="2" Y="2" Z="1" W="240" H="12">
				<ATTR BAR_COUNT="1" BAR_TYPE="1"/>
				<ATTR BAR_IMG="../Data/6_ui/community/fdFpBar.tga" BAR_IMG_W="240" BAR_IMG_H="12"/>
				<ATTR TEXT="" FONT="Font_Text" FONT_COLOR_HEX="0xFFB00D0D" T_X="120" T_Y ="-57" T_CENTER="1"/>
				<SCRIPT ID="ON_DISPLAY">OnDisplay_DeadDlg_AniBar(UISelf)</SCRIPT>
				<SCRIPT ID="ON_CALL">UISelf:SetStartTime(1000 * 600)</SCRIPT>
			</ANI_BAR>
		</STATIC_FORM>
		<BUTTON ID = "BTN_USE_COIN" X="51" Y="245" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<ATTR TEXT="2512" FONT="FTbt_12" T_X="42" T_Y="4" T_CENTER="1"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				local iItemNo = GetDefence7RelayItem()
				if 0~=iItemNo then
					DoQuickUseItem(iItemNo)
				end
			</SCRIPT>
			<SCRIPT ID="ON_CALL"> SetTextOnThisUI(2512, 2200) </SCRIPT>
			<HOTKEY ID="59">
				local iItemNo = GetDefence7RelayItem()
				if 0~=iItemNo then
					DoQuickUseItem(iItemNo)
				end
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_QUIT" X="137" Y="245" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<ATTR TEXT="799352" FONT="FTbt_12" T_X="42" T_Y="4" T_CENTER="1"/>			
			<SCRIPT ID="ON_L_BTN_DOWN"> CallUI('FRM_DEFENCE_MISSION_END')</SCRIPT>
			<HOTKEY ID="60"> CallUI('FRM_DEFENCE_MISSION_END') return true</HOTKEY>
		</BUTTON>
		<SCRIPT ID="ON_CALL">
			local fInterval = 600.0
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_kRevivalTime = g_world:GetAccumTime() + fInterval
			local kScript = "CallUI('FRM_DEFENCE_MISSION_END')"
			GetEventTimer():Add("EVENT_DEFENCE7_RELAY_COUNTDOWN", fInterval, kScript, 1, false)
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			GetEventTimer():Del("EVENT_DEFENCE7_RELAY_COUNTDOWN")
		</SCRIPT>
	</STATIC_FORM>

	<STATIC_FORM ID="SFRM_MSG_EVENT_EXIT">	
		<ATTR ALIGN_X="50" ALIGN_Y="23" W="208" H="127" CAN_DRAG="1" STATIC_NUM="1"/>
		<STATIC_FORM ID="SFRM_COLOR">
			<ATTR X="9" Y="7" W="190" H="75" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1" />
			<STATIC_FORM ID="SFR_SDW">
				<ATTR X="0" Y="0" W="190" H="75" STATIC_NUM="3" />
				<ATTR TEXT="302105" FONT="Font_Text" T_X="95" T_Y="14" T_CENTER="1" FONT_COLOR_HEX = "0xFF4D3413" />
			</STATIC_FORM>
		</STATIC_FORM>

		<BUTTON ID="BTN_OK">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400334, 2200) </SCRIPT>
			<ATTR X="20" Y="88" W="79" H="28" />
			<ATTR FONT="FTbt_12" T_X="42" T_Y="5" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				Net_Send_Event_Exit()
				UISelf:CloseParent()
			</SCRIPT>
			<HOTKEY ID="59">				
				Net_Send_Event_Exit()
				UISelf:CloseParent()
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL">
			<SCRIPT ID="ON_CREATE"> SetTextOnThisUI(400003, 2201) </SCRIPT>
			<ATTR X="106" Y="88" W="79" H="28" />
			<ATTR FONT="FTbt_12" T_X="42" T_Y="5" T_CENTER="1" />
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_L_BTN_DOWN"> UISelf:CloseParent()  </SCRIPT>
			<HOTKEY ID="60"> UISelf:CloseParent() return true </HOTKEY>
			<HOTKEY ID="1">  UISelf:CloseParent() return true </HOTKEY>
		</BUTTON>
	</STATIC_FORM>

	<FORM ID="FRM_DUNGEON_ENTER" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X="50" ALIGN_Y="40" W="362" H="559" IMG="../Data/6_UI/dungeon/dgEbg.tga" IMG_W="362" IMG_H="461"/>
		<FORM ID="FRM_TXT_TITLE" X="15" Y="13" W="190" H="35" TEXT="401325" T_X="0" T_Y="0" FONT="QTtext_Title" FONT_COLOR_HEX="0xFFF6D676" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_INFO" X="60" Y="54" W="270" H="30" TEXT="401250" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFF9629" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_ENTER" X="26" Y="104" W="300" H="20" TEXT="401251" T_X="0" T_Y="0" FONT="FTtitleBig_16" FONT_COLOR_HEX="0xFF8AFF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_LEVEL" X="30" Y="136" W="300" H="15" TEXT="401252" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_PARTY" X="30" Y="164" W="300" H="15" TEXT="401253" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_QUEST" X="30" Y="190" W="300" H="120" TEXT="401254" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_MONSTER" X="26" Y="323" W="300" H="20" TEXT="401258" T_X="0" T_Y="0" FONT="FTtitleBig_16" FONT_COLOR_HEX="0xFF8AFF00" T_OUTLINE="0" OUTLINE_COLOR_HEX="0xFF000000"/>
		<BUILD ID="BLD_MON" TARGET_ID="ICN_MON" X="25" Y="349" X_COUNT="5" Y_COUNT="1" X_GAB="62" Y_GAB="0"/>
		<ICON ID="ICN_MON" ICON_GRP="228" ICON_STATIC="1">
			<ATTR X="0" Y="0" W="62" H="62" IMG_W="62" IMG_H="62" IGNORE_PARENT_RECT="1"/>
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		<BUTTON ID="BTN_OK" X="95" Y="426" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="403041" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" NO_WORD_WRAP = "1"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(403041, 2200)</SCRIPT>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">OnDungeonEnter(UISelf)</SCRIPT>
			<HOTKEY ID="59">OnDungeonEnter(UISelf) return true</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL" X="183" Y="426" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="400534" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" NO_WORD_WRAP = "1"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(400534, 2201)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">UISelf:CloseParent()</SCRIPT>
			<HOTKEY ID="1">UISelf:CloseParent() return true</HOTKEY>
			<HOTKEY ID="60">UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>

		<STATIC_FORM ID="SFRM_DESCRIPTION" X="0" Y="459" Z="-2" W="362" H="80" STATIC_NUM="30">
			<ATTR TEXT="401254" T_X="10" T_Y="8" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</STATIC_FORM>

		<SCRIPT ID = "ON_CALL">
			RegistUIAction(UISelf, "CloseUI")
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(true, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
			g_bEnableShortCutKey = false
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			g_bEnableShortCutKey = true
			if( CheckNil(g_world == nil) ) then return false end
			if( CheckNil(g_world:IsNil()) ) then return false end
			g_world:SetShowWorldFocusFilter(false, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
			CloseToolTip()
			CloseUI("SFRM_DUNGEON_PARTY")
		</SCRIPT>
	</FORM>
	<STATIC_FORM ID="SFRM_DUNGEON_PARTY" ALIGN_X="50" ALIGN_Y="50" W="256" H="433" STATIC_NUM="1" CAN_DRAG = "0" PRIORITY="0">
		<STATIC_FORM ID="SFRM_TITLE" X="1" Y="0" W="254" H="36" STATIC_NUM="4">
			<STATIC_FORM ID="SFRM_COLOR1" X="7" Y="4" W="144" H="24" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1"/>
			<IMG ID="IMG_TITLE" X="7" Y="4" Z="1" W="144" H="24" NO_FOCUS="1">
				<ATTR T_X="10" T_Y="4" FONT="FTbt_12" FONT_COLOR_HEX="0xFF4D3413" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="11"/>
				<ATTR TEXT="401270" IMG="../Data/6_ui/common/cmTabLong2.tga" IMG_W="144" IMG_H="96" U="1" V="4" UV_INDEX="3"/>
			</IMG>
		</STATIC_FORM>
		<FORM ID="FRM_INFO" X="9" Y="34" W="238" H="33">
			<ATTR TEXT="401271" T_X="12" T_Y="8" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFF799"/>
			<ATTR IMG="../Data/6_ui/dungeon/dgETxtBg.tga" IMG_W="238" IMG_H="33"/>
		</FORM>
		<FORM ID="FRM_PARTY_NAME" X="15" Y="70" W="128" H="26">
			<ATTR TEXT="401212" T_X="64" T_Y="5" T_CENTER="1" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF"/>
			<ATTR IMG="../Data/6_ui/dungeon/dgEtab.tga" IMG_W="128" IMG_H="26"/>
		</FORM>
		<BUTTON ID="BTN_SORT_DESC" X="145" Y="70" W="75" H="26">
			<ATTR BTN_IMG="../Data/6_ui/dungeon/dgEtabBt01.tga" BTN_IMG_W="75" BTN_IMG_H="104" U="1" V="4"/>
			<ATTR TEXT="560028" T_X="29" T_Y="6" T_CENTER="1" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="17"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:Visible(false)
				UISelf:GetParent():GetControl("BTN_SORT_ASC"):Visible(true)
				OnSort_DungeonPartyList(UISelf, 1)
			</SCRIPT>
			<SCRIPT ID="ON_CALL">
				UISelf:Visible(true)
				UISelf:SetCustomDataAsInt(0)
			</SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_SORT_ASC" X="145" Y="70" W="75" H="26">
			<ATTR BTN_IMG="../Data/6_ui/dungeon/dgEtabBt02.tga" BTN_IMG_W="75" BTN_IMG_H="104" U="1" V="4"/>
			<ATTR TEXT="560028" T_X="29" T_Y="6" T_CENTER="1" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="17"/>
			<SCRIPT ID="ON_L_BTN_DOWN">
				UISelf:Visible(false)
				UISelf:GetParent():GetControl("BTN_SORT_DESC"):Visible(true)
				OnSort_DungeonPartyList(UISelf, 1)
			</SCRIPT>
			<SCRIPT ID="ON_CALL">
				UISelf:Visible(false)
				UISelf:SetCustomDataAsInt(1)
			</SCRIPT>
		</BUTTON>
		
		<STATIC_FORM ID="SFRM_COLOR" X="10" Y="95" W="215" H="290" CAN_COLOR_CHANGE="1" STATIC_NUM="2" COLOR_TYPE="1">
			<STATIC_FORM ID="SFRM_SHADOW" X="0" Y="0" W="215" H="290" STATIC_NUM="3"/>
		</STATIC_FORM>
		<LIST ID="LST_PARTY" X="15" Y="102" Z="1" W="235" H="280">
			<ATTR ELEMENT_ID="FRM_DUNGEON_PARTY_ITEM" ITEM_X="0" ITEM_Y="0"/>
			<IMG ID="ScrBg" X="214" Y="15" Z="-1" W="13" H="280" IMG="../Data/6_ui/Common/cmScrollBg.tga" IMG_W="13" IMG_H="280"/>
			<BUTTON ID="ScrUp" 	   X="214" Y="-5"  W="19" H="15" BTN_IMG="../Data/6_ui/cashShop/csGcScrollUp.tga"  BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="ScrDown"   X="214" Y="265" W="19" H="15" BTN_IMG="../Data/6_ui/cashShop/csGcScrollDn.tga"  BTN_IMG_W="38" BTN_IMG_H="30"/>
			<BUTTON ID="ScrMiddle" X="216" Y="15"  W="15" H="21" BTN_IMG="../Data/6_ui/cashShop/csGcScrollBar.tga" BTN_IMG_W="30" BTN_IMG_H="42"/>
			<ATTR BTN_UP="ScrUp" BTN_DOWN="ScrDown" BTN_MIDDLE="ScrMiddle" WND_BAR="ScrBg"/>
			<SCRIPT ID="ON_CALL">UISelf:ClearAllListItem()</SCRIPT>
		</LIST>
		<FORM ID="FRM_LOADING" X="81" Y="135" Z="2" W="73" H="86">
			<ATTR IMG="../Data/6_ui/14_indun/idWheel.tga" IMG_W="146" IMG_H="172" U="2" V="2"/>
			<SCRIPT ID="ON_TICK"> UVAnimation(UISelf, 0.09) </SCRIPT>
		</FORM>
		<BUTTON ID="BTN_ENTER" X="32" Y="392" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="401211" FONT="FTbt_12" T_X="42" T_Y="6" T_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">SetTextOnThisUI(401211, 2202)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">OnEnter_DungeonParty(UISelf:GetParent())</SCRIPT>
			<HOTKEY ID="61">OnEnter_DungeonParty(UISelf:GetParent()) return true</HOTKEY>
			<SCRIPT ID="ON_MOUSE_OVER">
				CallToolTipText(0, GetTextW(401362), GetUIWnd("Cursor"):GetLocation(), "ToolTip2", 11 )
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip(nil, 11) </SCRIPT>
		</BUTTON>
		<BUTTON ID="BTN_REFRESH" X="120" Y="392" W="84" H="26">
			<ATTR BTN_IMG = "../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W = "168" BTN_IMG_H = "52"/>
			<ATTR TEXT="401209" FONT = "FTbt_12" T_X="42" T_Y ="6" T_CENTER = "1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">SetTextOnThisUI(401209, 2203)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">Send_Refresh_DungeonPartyList(UISelf:GetParent())</SCRIPT>
			<HOTKEY ID="62">Send_Refresh_DungeonPartyList(UISelf:GetParent()) return true</HOTKEY>
		</BUTTON>
		<SCRIPT ID="ON_CALL">UISelf:GetControl("FRM_LOADING"):Visible(true)</SCRIPT>
	</STATIC_FORM>
	<FORM ID="FRM_DUNGEON_PARTY_ITEM" X="0" Y="-1" W="205" H="35">
		<STATIC_FORM ID="SFRM_ITEM" X="2" Y="0" W="201" H="34" STATIC_NUM="5" CAN_COLOR_CHANGE="1" COLOR_TYPE="2">
			<STATIC_FORM ID="SFRM_TITLE" X="3" Y="4" W="123" H="25" CAN_COLOR_CHANGE="1" STATIC_NUM="6" COLOR_TYPE="3">
				<ATTR TEXT="" FONT="Font_Text" T_X="1" T_Y="5" T_LEFT="1" FONT_COLOR_HEX="0xFF4D3413"/>
			</STATIC_FORM>
			<STATIC_FORM ID="SFRM_USER" X="130" Y="4" W="68" H="25" CAN_COLOR_CHANGE="1" STATIC_NUM="6" COLOR_TYPE="3">
				<ATTR TEXT="" FONT="Font_Text" T_X="33" T_Y="5" T_CENTER="1" FONT_COLOR_HEX="0xFF790000"/>
			</STATIC_FORM>
			<BUTTON ID="BTN_SELECT" X="0" Y="0" W="201" H="33">
				<ATTR BTN_IMG="../Data/6_ui/dungeon/dgELstOver.tga" BTN_IMG_W="201" BTN_IMG_H="128" U="1" V="4"/>
				<IMG ID="IMG_SELECT" X="0" Y="0" Z="99" W="201" H="33" IMG="../Data/6_ui/dungeon/dgELstOver.tga" IMG_W="201" IMG_H="128" U="1" V="4" UV_INDEX="3" PASS_EVENT="1" NO_FOCUS="1">
					<SCRIPT ID="ON_CALL">UISelf:Visible(false)</SCRIPT>
				</IMG>
				<SCRIPT ID="ON_GET_FOCUS">ClickListTab(UISelf)</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OVER">
					local Packet = UISelf:GetParent():GetParent():GetCustomDataAsPacket()
					CallChannelPartyListToolTip(Packet, GetCursorPos())
				</SCRIPT>
				<SCRIPT ID="ON_MOUSE_OUT"> CloseToolTip() </SCRIPT>
			</BUTTON>
		</STATIC_FORM>
	</FORM>
	<FORM ID="FRM_SELECT_DIFFICULTY">
		<ATTR ALIGN_X="50" ALIGN_Y="50" Z="100" W="393" H="269" PRIORITY="1"/>
		<ATTR IMG="../Data/6_ui/mission/msLvStBg.tga" IMG_W="393" IMG_H="269"/>
		<SCRIPT ID="ON_CALL">
			UISelf:SetModal(true)
		</SCRIPT>
		<SCRIPT ID="ON_CLOSE">
			UISelf:SetModal(false)
		</SCRIPT>
		<FORM ID="FRM_TITLE" X="46" Y="14" W="150" H="40">
			<ATTR TEXT="302200" FONT="FTctsBig_14" T_X="0" T_Y="0" FONT_COLOR_HEX="0xFFFFFAC4" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID="FRM_RECOMMEND_TEXT1" X="70" Y="120" W="150" H="40">
			<ATTR TEXT="302203" FONT="Font_Text" T_X="0" T_Y="0" FONT_COLOR_HEX="0xFFffaf14" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID="FRM_RECOMMEND_TEXT2" X="234" Y="120" W="150" H="40">
			<ATTR TEXT="302204" FONT="Font_Text" T_X="0" T_Y="0" FONT_COLOR_HEX="0xFFb2fe44" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<FORM ID="FRM_CONTENT" X="46" Y="150" W="325" H="80">
			<ATTR TEXT="302205" FONT="Font_Text" T_X="0" T_Y="0" FONT_COLOR_HEX="0xFFffffff" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</FORM>
		<BUTTON ID="BTN_EASY">
			<ATTR X="44" Y="41" W="111" H="45"/>
			<ATTR BTN_IMG="../Data/6_ui/mission/msLvStBt.tga" BTN_IMG_W="111" BTN_IMG_H="180" U="1" V="4"/>
			<ATTR TEXT="" FONT="FTctsBig_14" T_X="55" T_Y="22" T_CENTER="1" T_Y_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">
				UISelf:SetStaticText(GetTT(302201):GetStr().."\n"..GetTT(302209):GetStr())
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				MissionSelectedKeyDownJoin(UISelf:GetParent(), 1)
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">
				CallToolTipText(0, GetTT(302206), GetUIWnd("Cursor"):GetLocation())
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">
				CloseToolTip()
			</SCRIPT>
			<HOTKEY ID="59">
				MissionSelectedKeyDownJoin(UISelf:GetParent(), 1)
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_NORMAL">
			<ATTR X="153" Y="41" W="111" H="45"/>
			<ATTR BTN_IMG="../Data/6_ui/mission/msLvStBt.tga" BTN_IMG_W="111" BTN_IMG_H="180" U="1" V="4"/>
			<ATTR TEXT="" FONT="FTctsBig_14" T_X="55" T_Y="22" T_CENTER="1" T_Y_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">
				UISelf:SetStaticText(GetTT(3325):GetStr().."\n"..GetTT(302210):GetStr())
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				MissionSelectedKeyDownJoin(UISelf:GetParent(), 2)
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">
				CallToolTipText(0, GetTT(302207), GetUIWnd("Cursor"):GetLocation())
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">
				CloseToolTip()
			</SCRIPT>
			<HOTKEY ID="60">
				MissionSelectedKeyDownJoin(UISelf:GetParent(), 2)
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_HARD">
			<ATTR X="262" Y="41" W="111" H="45"/>
			<ATTR BTN_IMG="../Data/6_ui/mission/msLvStBt.tga" BTN_IMG_W="111" BTN_IMG_H="180" U="1" V="4"/>
			<ATTR TEXT="" FONT="FTctsBig_14" T_X="55" T_Y="22" T_CENTER="1" T_Y_CENTER="1" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10"/>
			<SCRIPT ID="ON_CALL">
				UISelf:SetStaticText(GetTT(302202):GetStr().."\n"..GetTT(302211):GetStr())
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_DOWN">
				MissionSelectedKeyDownJoin(UISelf:GetParent(), 3)
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">
				CallToolTipText(0, GetTT(302208), GetUIWnd("Cursor"):GetLocation())
			</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">
				CloseToolTip()
			</SCRIPT>
			<HOTKEY ID="61">
				MissionSelectedKeyDownJoin(UISelf:GetParent(), 3)
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CLOSE">
			<ATTR X="166" Y="223" W="84" H="26"/>
			<ATTR BTN_IMG="../Data/6_ui/common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR FONT="FTbt_12" T_X="42" T_Y="4" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1"/>
			<SCRIPT ID="ON_CALL">
				SetTextOnThisUI(1988, 2203)
			</SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">
				UISelf:GetParent():Close()
			</SCRIPT>
			<HOTKEY ID="62">
				UISelf:GetParent():Close()
				return
			</HOTKEY>
			<HOTKEY ID = "1"> 
				UISelf:GetParent():Close()
				return true
			</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_TRADE" X = "228" Y = "10" W="148" H="22">
			<ATTR BTN_IMG="../Data/6_ui/mission/msMapBt2.tga" BTN_IMG_W="148" BTN_IMG_H="88" BTN_VERTICAL_IMG="1"/>
			<ATTR TEXT="401189" FONT="Font_Text" T_X="74" T_Y="3" T_CENTER="1" FONT_COLOR_HEX="0xFFfffcea" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF5e2f00"/>
			<SCRIPT ID = "ON_L_BTN_DOWN">
				UpdateSoulStoneTrade()
			</SCRIPT>			
		</BUTTON>
		<FORM ID="FRM_RECOMMEND_1" X="65" Y="80" W="100" H="60">
			<IMG ID="IMG_MISSION" X="0" Y="0" IMG="../Data/6_ui/mission/msLvStAwR.tga" IMG_W="46" IMG_H="60" U="2" V="2" UV_INDEX="1">
				<SCRIPT ID="ON_TICK">
					UVAnimation(UISelf, 0.1, 1, 4, 1)
				</SCRIPT>
			</IMG>
			<IMG ID="IMG_ACHIEVEMENT" X="46" Y="0" IMG="../Data/6_ui/mission/msLvStAwG.tga" IMG_W="46" IMG_H="60" U="2" V="2" UV_INDEX="1">
				<SCRIPT ID="ON_TICK">
					UVAnimation(UISelf, 0.1, 1, 4, 1)
				</SCRIPT>
			</IMG>
		</FORM>
		<FORM ID="FRM_RECOMMEND_2" X="174" Y="80" W="100" H="60">
			<IMG ID="IMG_MISSION" X="0" Y="0" IMG="../Data/6_ui/mission/msLvStAwR.tga" IMG_W="46" IMG_H="60" U="2" V="2" UV_INDEX="1">
				<SCRIPT ID="ON_TICK">
					UVAnimation(UISelf, 0.1, 1, 4, 1)
				</SCRIPT>
			</IMG>
			<IMG ID="IMG_ACHIEVEMENT" X="46" Y="0" IMG="../Data/6_ui/mission/msLvStAwG.tga" IMG_W="46" IMG_H="60" U="2" V="2" UV_INDEX="1">
				<SCRIPT ID="ON_TICK">
					UVAnimation(UISelf, 0.1, 1, 4, 1)
				</SCRIPT>
			</IMG>
		</FORM>
		<FORM ID="FRM_RECOMMEND_3" X="283" Y="80" W="100" H="60">
			<IMG ID="IMG_MISSION" X="0" Y="0" IMG="../Data/6_ui/mission/msLvStAwR.tga" IMG_W="46" IMG_H="60" U="2" V="2" UV_INDEX="1">
				<SCRIPT ID="ON_TICK">
					UVAnimation(UISelf, 0.1, 1, 4, 1)
				</SCRIPT>
			</IMG>
			<IMG ID="IMG_ACHIEVEMENT" X="46" Y="0" IMG="../Data/6_ui/mission/msLvStAwG.tga" IMG_W="46" IMG_H="60" U="2" V="2" UV_INDEX="1">
				<SCRIPT ID="ON_TICK">
					UVAnimation(UISelf, 0.1, 1, 4, 1)
				</SCRIPT>
			</IMG>
		</FORM>
		<SCRIPT ID="ON_CALL">
			UISelf:Visible(false)
		</SCRIPT>
	</FORM>

	<FORM ID="FRM_DUNGEON_ENTER" CALL_SOUND="button_UI_Open" CLOSE_SOUND="button_UI_Close">
		<ATTR ALIGN_X="50" ALIGN_Y="40" W="362" H="559" IMG="../Data/6_UI/dungeon/dgEbg.tga" IMG_W="362" IMG_H="461"/>
		<FORM ID="FRM_TXT_TITLE" X="15" Y="13" W="190" H="35" TEXT="401325" T_X="0" T_Y="0" FONT="QTtext_Title" FONT_COLOR_HEX="0xFFF6D676" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_INFO" X="60" Y="54" W="270" H="30" TEXT="401250" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFF9629" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_ENTER" X="26" Y="104" W="300" H="20" TEXT="401251" T_X="0" T_Y="0" FONT="FTtitleBig_16" FONT_COLOR_HEX="0xFF8AFF00" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_LEVEL" X="30" Y="136" W="300" H="15" TEXT="401252" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_PARTY" X="30" Y="164" W="300" H="15" TEXT="401253" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_QUEST" X="30" Y="190" W="300" H="120" TEXT="401254" T_X="0" T_Y="0" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		<FORM ID="FRM_TXT_MONSTER" X="26" Y="323" W="300" H="20" TEXT="401258" T_X="0" T_Y="0" FONT="FTtitleBig_16" FONT_COLOR_HEX="0xFF8AFF00" T_OUTLINE="0" OUTLINE_COLOR_HEX="0xFF000000"/>
		<BUILD ID="BLD_MON" TARGET_ID="ICN_MON" X="25" Y="349" X_COUNT="5" Y_COUNT="1" X_GAB="62" Y_GAB="0"/>
		<ICON ID="ICN_MON" ICON_GRP="228" ICON_STATIC="1">
			<ATTR X="0" Y="0" W="62" H="62" IMG_W="62" IMG_H="62" IGNORE_PARENT_RECT="1"/>
			<SCRIPT ID="ON_DISPLAY">UISelf:DrawIcon()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OVER">UISelf:CallIconToolTip()</SCRIPT>
			<SCRIPT ID="ON_MOUSE_OUT">CloseToolTip()</SCRIPT>
		</ICON>
		<BUTTON ID="BTN_OK" X="95" Y="426" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="403041" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" NO_WORD_WRAP = "1"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(403041, 2200)</SCRIPT>
			<SCRIPT ID="ON_CALL">UISelf:ClearCustomData()</SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">OnDungeonEnter(UISelf)</SCRIPT>
			<HOTKEY ID="59">OnDungeonEnter(UISelf) return true</HOTKEY>
		</BUTTON>
		<BUTTON ID="BTN_CANCEL" X="183" Y="426" W="84" H="26">
			<ATTR BTN_IMG="../Data/6_ui/Common/cmBtBg.tga" BTN_IMG_W="168" BTN_IMG_H="52"/>
			<ATTR TEXT="400534" T_X="42" T_Y="4" FONT="FTbt_12" BTN_ENABLE_CHANGE_COLOR="1" BTN_T_COLOR_TYPE="10" T_CENTER="1" NO_WORD_WRAP = "1"/>
			<SCRIPT ID="ON_CREATE">SetTextOnThisUI(400534, 2201)</SCRIPT>
			<SCRIPT ID="ON_L_BTN_UP">UISelf:CloseParent()</SCRIPT>
			<HOTKEY ID="1">UISelf:CloseParent() return true</HOTKEY>
			<HOTKEY ID="60">UISelf:CloseParent() return true</HOTKEY>
		</BUTTON>

		<STATIC_FORM ID="SFRM_DESCRIPTION" X="0" Y="459" Z="-2" W="362" H="80" STATIC_NUM="30">
			<ATTR TEXT="401254" T_X="10" T_Y="8" FONT="FTcts_13" FONT_COLOR_HEX="0xFFFFFFFF" T_OUTLINE="1" OUTLINE_COLOR_HEX="0xFF000000"/>
		</STATIC_FORM>

		<SCRIPT ID = "ON_CALL">
			RegistUIAction(UISelf, "CloseUI")
			g_world:SetShowWorldFocusFilter(true, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
			g_bEnableShortCutKey = false
		</SCRIPT>
		<SCRIPT ID = "ON_CLOSE">
			g_bEnableShortCutKey = true
			g_world:SetShowWorldFocusFilter(false, "../Data/5_Effect/9_Tex/EF_blackBG.tga", 0.5)
			CloseToolTip()
		</SCRIPT>
		<SCRIPT ID="ON_TICK"></SCRIPT>
	</FORM>
</XUI>
